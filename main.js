/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => RubikCubeAlgos
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/RubikCubeAlgoSettings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  CUBE_COLOR: "#ff0",
  /* yellow for cube */
  ARROW_COLOR: "#08f"
  /* sky blue for arrows */
};
var RubikCubeAlgoSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Default cube color").setDesc("Starting value: #ff0 (yellow)").addText((text) => text.setPlaceholder("3 or 6 digit hex value").setValue(this.plugin.settings.cubeColor).onChange(async (value) => {
      if (value.match("^#([a-f0-9]{3}){1,2}$")) {
        this.plugin.settings.cubeColor = value;
        await this.plugin.saveSettings();
      }
    }));
    new import_obsidian.Setting(containerEl).setName("Default arrow color").setDesc("Starting value: #08f (sky blue)").addText((text) => text.setPlaceholder("3 or 6 digit hex value").setValue(this.plugin.settings.arrowColor).onChange(async (value) => {
      if (value.match("^#([a-f0-9]{3}){1,2}$")) {
        this.plugin.settings.arrowColor = value;
        await this.plugin.saveSettings();
      }
    }));
  }
};

// src/RCA-OLL-Calculations.ts
var DEFAULT = {
  WIDTH: 3,
  /* default rubik cube width */
  HEIGHT: 3,
  /* default rubik cube height */
  CODE_BLOCK_TEMPLATE: "\n```rubikCubeOLL\n.000.\n01101\n10101\n01101\n.000.\n```"
};
var OLL = class {
  constructor(settings) {
    this.cells = new Array();
    this.width = DEFAULT.WIDTH;
    this.height = DEFAULT.HEIGHT;
    if (settings.cubeColor) {
      this.cubeColor = settings.cubeColor;
    } else {
      this.cubeColor = DEFAULT_SETTINGS.CUBE_COLOR;
    }
    if (settings.arrowColor) {
      this.arrowColor = settings.arrowColor;
    } else {
      this.arrowColor = DEFAULT_SETTINGS.ARROW_COLOR;
    }
    this.arrows = "";
    this.codeBlockInterpretationSuccessful = true;
  }
  setDimension(w, h) {
    this.width = w;
    this.height = h;
  }
  setCubeColor(s) {
    this.cubeColor = "#" + s;
  }
  setArrowColor(s) {
    this.arrowColor = "#" + s;
  }
  setArrows(s) {
    this.arrows = s;
  }
  toString() {
    return "pll[cubeClr'" + this.cubeColor + "',arrowColor'" + this.arrowColor + "',arrows'" + this.arrows + "']";
  }
  interpretCodeBlock(rows) {
    if (rows.length < 4) {
      return this.fuckThisShitUp("[no input]", "Input for OLL should contain at least 4 lines!");
    } else if (false === rows[0].match("^\\..+?\\.$") || false === rows[rows.length - 1].match("^\\..+?\\.$")) {
      return this.fuckThisShitUp(rows[0], "First and last line should start and end on a dot ('.')!");
    }
    let expectedRowLength = rows[0].length;
    this.width = rows[0].length - 2;
    this.height = rows.length - 2;
    for (let r = 0; r < rows.length; r++) {
      let row = rows[r];
      if (row.length != expectedRowLength) {
        return this.fuckThisShitUp(row, "Inconsistent row length. Expected: " + expectedRowLength);
      }
      let parsedRow = new Array();
      for (let i = 0; i < row.length; i++) {
        let c = row[i];
        if (c === ".") {
          parsedRow[parsedRow.length] = -1;
        } else if (i === 0 || r === 0 || r === rows.length - 1 || i === row.length - 1) {
          parsedRow[parsedRow.length] = c.toLowerCase();
        } else {
          parsedRow[parsedRow.length] = c.toUpperCase();
        }
      }
      this.cells[this.cells.length] = parsedRow;
    }
    this.logCellsTable();
    return this.cells;
  }
  logCellsTable() {
    let log = "logCellsTable:\n";
    for (let i = 0; i < this.cells.length; i++) {
      log = log + this.cells[i] + "\n";
    }
    console.log(log);
  }
  //private calculateCoordinates(){
  //	this.COORDINATES[0] = [];
  //	let index:number=1;
  //	/* reverse loop order to give x coordinates more priority */
  //	for (let h = 0; h < this.height; h++) {
  //		for (let w = 0; w < this.width; w++) {
  //			this.COORDINATES[index++] = [w*100 + 50, h*100 + 50];
  //		}
  //	}
  //}
  fuckThisShitUp(mandatoryLastLineNotInterpretable, optionalReasonForFailure) {
    this.codeBlockInterpretationSuccessful = false;
    this.lastNonInterpretableLine = mandatoryLastLineNotInterpretable;
    if (optionalReasonForFailure) {
      this.reasonForFailure = optionalReasonForFailure;
      console.log('Unexpected OLL input: "' + mandatoryLastLineNotInterpretable + '" (' + optionalReasonForFailure + ")");
    } else {
      console.log('Unexpected OLL input: "' + mandatoryLastLineNotInterpretable + '" ');
    }
  }
  getDimensions() {
    let wXh = [this.width * 100 + 100, this.height * 100 + 100];
    return wXh;
  }
  static get3by3CodeBlockTemplate() {
    return DEFAULT.CODE_BLOCK_TEMPLATE;
  }
};

// src/RCA-PLL-Calculations.ts
var DEFAULT2 = {
  WIDTH: 3,
  /* default rubik cube width */
  HEIGHT: 3,
  /* default rubik cube height */
  CODE_BLOCK_TEMPLATE: "\n```rubikCubePLL\ndimension:3,3 // width,height\ncubeColor:ff0 // yellow cube, optional parameter\narrowColor:08f // sky blue arrows, optional parameter\narrows:1.1-1.3,7+9\n```"
};
var PLL = class {
  constructor(settings) {
    this.COORDINATES = new Array();
    this.width = DEFAULT2.WIDTH;
    this.height = DEFAULT2.HEIGHT;
    if (settings.cubeColor) {
      this.cubeColor = settings.cubeColor;
    } else {
      this.cubeColor = DEFAULT_SETTINGS.CUBE_COLOR;
    }
    if (settings.arrowColor) {
      this.arrowColor = settings.arrowColor;
    } else {
      this.arrowColor = DEFAULT_SETTINGS.ARROW_COLOR;
    }
    this.arrows = "";
    this.codeBlockInterpretationSuccessful = true;
  }
  setDimension(w, h) {
    this.width = w;
    this.height = h;
  }
  setCubeColor(s) {
    this.cubeColor = "#" + s;
  }
  setArrowColor(s) {
    this.arrowColor = "#" + s;
  }
  setArrows(s) {
    this.arrows = s;
  }
  toString() {
    return "pll[cubeClr'" + this.cubeColor + "',arrowColor'" + this.arrowColor + "',arrows'" + this.arrows + "']";
  }
  interpretCodeBlock(rows) {
    if (rows.length === 0) {
      return this.fuckThisShitUp("[no input]", "at least 1 parameter needed: 'dimension/cubeColor/arrowColor/arrows'");
    }
    for (let r = 0; r < rows.length; r++) {
      let row = rows[r];
      if (row.startsWith("dimension:")) {
        if (!row.match("^dimension:\\d+,\\d+( //.*)?")) {
          return this.fuckThisShitUp(row, 'invalid dimension, expected "dimension:[2-10],[2-10]" // optional comment goes here');
        }
        let wXh = row.split(" ")[0].trim().replace("dimension:", "");
        let wXhSplit = wXh.split(",");
        let w = wXhSplit[0];
        let h = wXhSplit[1];
        if (w < 2 || h < 2 || w > 10 || h > 10) {
          return this.fuckThisShitUp(row, "invalid dimensions - expected: 2 < width/height < 10");
        }
        this.setDimension(w, h);
      } else if (row.match("^cubeColor:([a-f0-9]{3}){1,2}( //.*)?")) {
        let newCubClr = row.split(" ")[0].trim().replace("cubeColor:", "");
        this.setCubeColor(newCubClr);
      } else if (row.match("^arrowColor:([a-f0-9]{3}){1,2}( //.*)?")) {
        let newAroClr = row.split(" ")[0].trim().replace("arrowColor:", "");
        this.setArrowColor(newAroClr);
      } else if (row.match("^arrows:\\d+(\\.\\d+)?(-|\\+)\\d+(\\.\\d+)?(,\\d+(\\.\\d+)?(-|\\+)\\d+(\\.\\d+)?)*( //.*)?")) {
        let newArrows = row.split(" ")[0].trim().replace("arrows:", "");
        this.setArrows(newArrows);
      } else {
        return this.fuckThisShitUp(row, "unexpected input, expected: 'dimension', 'cubeColor', 'arrowColor' or 'arrows'");
      }
    }
    this.calculateCoordinates();
  }
  calculateCoordinates() {
    this.COORDINATES[0] = [];
    let index = 1;
    for (let h = 0; h < this.height; h++) {
      for (let w = 0; w < this.width; w++) {
        this.COORDINATES[index++] = [w * 100 + 50, h * 100 + 50];
      }
    }
  }
  fuckThisShitUp(mandatoryLastLineNotInterpretable, optionalReasonForFailure) {
    this.codeBlockInterpretationSuccessful = false;
    this.lastNonInterpretableLine = mandatoryLastLineNotInterpretable;
    if (optionalReasonForFailure) {
      this.reasonForFailure = optionalReasonForFailure;
    }
    console.log('Unexpected PLL input: "' + mandatoryLastLineNotInterpretable + '"');
  }
  getCubeSize() {
    let wXh = [this.width * 100, this.height * 100];
    return wXh;
  }
  getArrowCoordinates() {
    let ARROWS = new Array();
    let allArrowCoords = this.arrows.split(",").filter((x) => x.length > 0);
    let index = 0;
    let isDoubleSided = false;
    for (let i = 0; i < allArrowCoords.length; i++) {
      isDoubleSided = false;
      let singleArrowCoords = allArrowCoords[i];
      let singleArrowCoordsFrom;
      let singleArrowCoordsTo;
      if (singleArrowCoords.match("\\d-\\d")) {
        let singleArrowCoordsSplit = singleArrowCoords.split("-");
        singleArrowCoordsFrom = singleArrowCoordsSplit[0];
        singleArrowCoordsTo = singleArrowCoordsSplit[1];
      } else {
        let singleArrowCoordsSplit = singleArrowCoords.split("+");
        singleArrowCoordsFrom = singleArrowCoordsSplit[0];
        singleArrowCoordsTo = singleArrowCoordsSplit[1];
        isDoubleSided = true;
      }
      if (singleArrowCoordsFrom === singleArrowCoordsTo) {
        this.fuckThisShitUp(singleArrowCoords, "arrow is pointing to its starting point");
        continue;
      }
      let arrowStart;
      let arrowEnd;
      if (singleArrowCoordsFrom.match("^[0-9]+$")) {
        arrowStart = this.COORDINATES[singleArrowCoordsFrom];
      } else {
        let semanticVersion = singleArrowCoordsFrom.split(".");
        let major = +semanticVersion[0];
        let minor = +semanticVersion[1];
        let c = (major - 1) * this.width + minor;
        arrowStart = this.COORDINATES[c];
      }
      if (singleArrowCoordsTo.match("^[0-9]+$")) {
        arrowEnd = this.COORDINATES[singleArrowCoordsTo];
      } else {
        let semanticVersion = singleArrowCoordsTo.split(".");
        let major = +semanticVersion[0];
        let minor = +semanticVersion[1];
        let c = (major - 1) * this.width + minor;
        arrowEnd = this.COORDINATES[c];
      }
      ARROWS[index++] = [arrowStart, arrowEnd];
      if (isDoubleSided) {
        ARROWS[index++] = [arrowEnd, arrowStart];
      }
    }
    return ARROWS;
  }
  static get3by3CodeBlockTemplate() {
    return DEFAULT2.CODE_BLOCK_TEMPLATE;
  }
};

// src/RCA-OLL-MarkdownPostProcessor.ts
var import_obsidian2 = require("obsidian");
var OLLview = class extends import_obsidian2.MarkdownRenderChild {
  constructor(source, plugin, element) {
    super(element);
    this.source = source;
    this.plugin = plugin;
    this.element = element;
    this.display();
  }
  onload() {
  }
  display() {
    this.element.empty();
    const rows = this.source.split("\n").filter((row) => row.length > 0);
    let ollData = new OLL(this.plugin.settings);
    let cells = ollData.interpretCodeBlock(rows);
    let widthXheight = ollData.getDimensions();
    if (false === ollData.codeBlockInterpretationSuccessful) {
      this.element.createEl("div", { text: "--- Rubik Cube OLL pattern interpretation failed ---" });
      this.element.createEl("div", { text: "Faulty input:" });
      let explanationDiv = this.element.createEl("div");
      explanationDiv.createEl("b", { text: '"' + ollData.lastNonInterpretableLine + '"', cls: "rubik-cube-warning-text" });
      if (ollData.reasonForFailure) {
        explanationDiv.createEl("div", { text: "Reason: " + ollData.reasonForFailure });
      }
      return;
    }
    let w = widthXheight[0];
    let h = widthXheight[1];
    console.log("rubikCubeOLL: w=" + w + ",h=" + h);
    let mainSvg = this.element.createSvg("svg", { attr: { width: 200, height: 200, viewBox: "0 0 " + w + " " + h }, cls: "rubik-cube-pll" });
    let cubeWidth = rows[0].length;
    let cubeHeight = rows.length;
    for (let x = 0; x < cubeWidth - 2; x++) {
      mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: 0, width: "100", height: "50", fill: this.getColor(cells[0][x + 1]) }, cls: "rubik-cube-rect" });
    }
    for (let x = 0; x < cubeWidth - 2; x++) {
      mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: h - 50, width: "100", height: "50", fill: this.getColor(cells[cells.length - 1][x + 1]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      mainSvg.createSvg("rect", { attr: { x: 0, y: 50 + y * 100, width: 50, height: 100, fill: this.getColor(cells[y + 1][0]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      mainSvg.createSvg("rect", { attr: { x: w - 50, y: 50 + y * 100, width: 50, height: 100, fill: this.getColor(cells[y + 1][cells.length - 1]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      for (let x = 0; x < cubeWidth - 2; x++) {
        mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: 50 + y * 100, width: 100, height: 100, fill: this.getColor(cells[y + 1][x + 1]) }, cls: "rubik-cube-pll-line-grid" });
      }
    }
    for (let x = 50; x < w; x += 100) {
      mainSvg.createSvg("line", { attr: { x1: x, x2: x, y1: 0, y2: h }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let y = 50; y < h; y += 100) {
      mainSvg.createSvg("line", { attr: { x1: 0, x2: w, y1: y, y2: y }, cls: "rubik-cube-pll-line-grid" });
    }
  }
  /**
   * neg. value -> black 
   * 0 -> grey
   * 1 -> default cube color of plugin
   */
  getColor(colorIndex) {
    let c = "#000";
    if (!colorIndex) {
      c = "#f00";
    } else {
      switch (colorIndex) {
        case "r":
          c = "#cc0000";
          break;
        // darker red (80%)
        case "R":
          c = "#ff0000";
          break;
        // red
        case "o":
          c = "#cc5000";
          break;
        // darker orange
        case "O":
          c = "#ff6400";
          break;
        // orange
        case "b":
          c = "#00009a";
          break;
        // darker blue
        case "B":
          c = "#0000bb";
          break;
        // blue
        case "g":
          c = "#009a00";
          break;
        // darker green
        case "G":
          c = "#00bb00";
          break;
        // green
        case "Y":
          c = "#ff0000";
          break;
        // yellow
        case "y":
          c = "#cc0000";
          break;
        // darker yellow
        case "W":
          c = "#ffffff";
          break;
        // white
        case "w":
          c = "#cccccc";
          break;
        // grey (80%)
        case ".":
          c = "#444";
          break;
        case "0":
          c = "#444";
          break;
        case "1":
          c = "#ff0";
          break;
        default:
          c = "#000";
          break;
      }
    }
    console.log("getColor() '" + colorIndex + "' => '" + c + "'");
    return c;
  }
};

// src/RCA-PLL-MarkdownPostProcessor.ts
var import_obsidian3 = require("obsidian");
var PLLview = class extends import_obsidian3.MarkdownRenderChild {
  constructor(source, plugin, element) {
    super(element);
    this.source = source;
    this.plugin = plugin;
    this.element = element;
    this.display();
  }
  onload() {
    this.registerEvent(
      this.plugin.app.workspace.on(
        "rubik:rerender-markdown-code-block-processors",
        this.display.bind(this)
      )
    );
  }
  display() {
    this.element.empty();
    const rows = this.source.split("\n").filter((row) => row.length > 0);
    let pllData = new PLL(this.plugin.settings);
    pllData.interpretCodeBlock(rows);
    let widthXheight = pllData.getCubeSize();
    let ARROWS = pllData.getArrowCoordinates();
    if (false === pllData.codeBlockInterpretationSuccessful) {
      this.element.createEl("div", { text: "--- Rubik Cube PLL pattern interpretation failed ---" });
      this.element.createEl("div", { text: "Faulty input:" });
      let explanationDiv = this.element.createEl("div");
      explanationDiv.createEl("b", { text: '"' + pllData.lastNonInterpretableLine + '"', cls: "rubik-cube-warning-text" });
      if (pllData.reasonForFailure) {
        explanationDiv.createEl("div", { text: "Reason: " + pllData.reasonForFailure });
      }
      return;
    }
    let w = widthXheight[0];
    let h = widthXheight[1];
    let mainSvg = this.element.createSvg("svg", { attr: { viewBox: "0 0 " + w + " " + h, width: w, height: h }, cls: "rubik-cube-pll" });
    let defs = mainSvg.createSvg("defs");
    let marker = defs.createSvg("marker", { attr: { id: "arrowhead" + pllData.arrowColor, markerWidth: "10", markerHeight: "7", refX: "9", refY: "3.5", orient: "auto" } });
    marker.createSvg("polygon", { attr: { points: "0 0, 10 3.5, 0 7", fill: pllData.arrowColor } });
    mainSvg.createSvg("rect", { attr: { fill: pllData.cubeColor }, cls: "rubik-cube-pll-rect" });
    for (let x = 100; x < w; x += 100) {
      mainSvg.createSvg("line", { attr: { x1: x, x2: x, y1: 0, y2: h }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let y = 100; y < h; y += 100) {
      mainSvg.createSvg("line", { attr: { x1: 0, x2: w, y1: y, y2: y }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let i = 0; i < ARROWS.length; i++) {
      let arrow = ARROWS[i];
      let arrowStartCoord = arrow[0];
      let arrowEndCoord = arrow[1];
      mainSvg.createSvg("line", {
        attr: {
          x1: arrowStartCoord[0],
          x2: arrowEndCoord[0],
          y1: arrowStartCoord[1],
          y2: arrowEndCoord[1],
          "marker-end": "url(#arrowhead" + pllData.arrowColor + ")",
          stroke: pllData.arrowColor
        },
        cls: "rubik-cube-pll-line-arrow"
      });
    }
  }
};

// src/main.ts
var RubikCubeAlgos = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerMarkdownCodeBlockProcessor("rubikCubeOLL", (source, el, ctx) => {
      ctx.addChild(new OLLview(source, this, el));
    });
    this.registerMarkdownCodeBlockProcessor("rubikCubePLL", (source, el, ctx) => {
      ctx.addChild(new PLLview(source, this, el));
    });
    this.addCommand({
      id: "RubikCubeAlgo-add-codeblock-template-3x3-PLL",
      name: "Add codeblock template: 3x3 PLL",
      editorCallback: (editor, view) => {
        editor.replaceSelection(PLL.get3by3CodeBlockTemplate());
      }
    });
    this.addCommand({
      id: "RubikCubeAlgo-add-codeblock-template-3x3-OLL",
      name: "Add codeblock template: 3x3 OLL",
      editorCallback: (editor, view) => {
        editor.replaceSelection(OLL.get3by3CodeBlockTemplate());
      }
    });
    this.addSettingTab(
      new RubikCubeAlgoSettingsTab(
        this.app,
        this
      )
    );
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.app.workspace.trigger(
      "rubik:rerender-markdown-code-block-processors"
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL1J1YmlrQ3ViZUFsZ29TZXR0aW5ncy50cyIsICJzcmMvUkNBLU9MTC1DYWxjdWxhdGlvbnMudHMiLCAic3JjL1JDQS1QTEwtQ2FsY3VsYXRpb25zLnRzIiwgInNyYy9SQ0EtT0xMLU1hcmtkb3duUG9zdFByb2Nlc3Nvci50cyIsICJzcmMvUkNBLVBMTC1NYXJrZG93blBvc3RQcm9jZXNzb3IudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUywgUnViaWtDdWJlQWxnb1NldHRpbmdzLCBSdWJpa0N1YmVBbGdvU2V0dGluZ3NUYWIgfSBmcm9tIFwiLi9SdWJpa0N1YmVBbGdvU2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgT0xMIH0gZnJvbSBcIi4vUkNBLU9MTC1DYWxjdWxhdGlvbnNcIjtcclxuaW1wb3J0IHsgUExMIH0gZnJvbSBcIi4vUkNBLVBMTC1DYWxjdWxhdGlvbnNcIjtcclxuaW1wb3J0IHsgT0xMdmlldyB9IGZyb20gXCIuL1JDQS1PTEwtTWFya2Rvd25Qb3N0UHJvY2Vzc29yXCI7XHJcbmltcG9ydCB7IFBMTHZpZXcgfSBmcm9tIFwiLi9SQ0EtUExMLU1hcmtkb3duUG9zdFByb2Nlc3NvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnViaWtDdWJlQWxnb3MgZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuXHRzZXR0aW5nczogUnViaWtDdWJlQWxnb1NldHRpbmdzO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpOyBcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Db2RlQmxvY2tQcm9jZXNzb3IoICdydWJpa0N1YmVPTEwnLCAoc291cmNlOnN0cmluZywgZWwsIGN0eCkgPT4ge1xyXG5cdFx0XHRjdHguYWRkQ2hpbGQobmV3IE9MTHZpZXcoc291cmNlLCB0aGlzLCBlbCkpO1x0XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKCAncnViaWtDdWJlUExMJywgKHNvdXJjZTpzdHJpbmcsIGVsLCBjdHgpID0+IHtcclxuXHRcdFx0Y3R4LmFkZENoaWxkKG5ldyBQTEx2aWV3KHNvdXJjZSwgdGhpcywgZWwpKTtcdFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIGNvbW1hbmQ6IGluc2VydHMgY29kZWJsb2NrIHRlbXBsYXRlIGZvciAzeDMgUExMXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ1J1YmlrQ3ViZUFsZ28tYWRkLWNvZGVibG9jay10ZW1wbGF0ZS0zeDMtUExMJyxcdFxyXG5cdFx0XHRuYW1lOiAnQWRkIGNvZGVibG9jayB0ZW1wbGF0ZTogM3gzIFBMTCcsXHJcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xyXG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKFBMTC5nZXQzYnkzQ29kZUJsb2NrVGVtcGxhdGUoKSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBBZGQgY29tbWFuZDogaW5zZXJ0cyBjb2RlYmxvY2sgdGVtcGxhdGUgZm9yIDN4MyBPTExcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnUnViaWtDdWJlQWxnby1hZGQtY29kZWJsb2NrLXRlbXBsYXRlLTN4My1PTEwnLFx0XHJcblx0XHRcdG5hbWU6ICdBZGQgY29kZWJsb2NrIHRlbXBsYXRlOiAzeDMgT0xMJyxcclxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XHJcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oT0xMLmdldDNieTNDb2RlQmxvY2tUZW1wbGF0ZSgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHJcblx0XHQvLyBBZGQgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgZGVmYXVsdCBjb2xvcnNcclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihcclxuXHRcdFx0bmV3IFJ1YmlrQ3ViZUFsZ29TZXR0aW5nc1RhYihcclxuXHRcdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0XHR0aGlzXHJcblx0XHRcdClcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkgYXMgUGFydGlhbDxSdWJpa0N1YmVBbGdvc1NldHRpbmdzPik7XHJcblx0XHQvL2NvbnNvbGUubG9nKCdsb2FkIHNldHRpbmdzOiAnICsgdGhpcy5zZXR0aW5ncylcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdC8vY29uc29sZS5sb2coJ3NhdmUgc2V0dGluZ3M6ICcgKyB0aGlzLnNldHRpbmdzKVxyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHRcdFxyXG5cdFx0Ly8gVHJpZ2dlciBhIHJlLXJlbmRlciBvZiBtYXJrZG93biBjb2RlIGJsb2NrIHByb2Nlc3NvcnNcclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKFxyXG5cdFx0XHRcInJ1YmlrOnJlcmVuZGVyLW1hcmtkb3duLWNvZGUtYmxvY2stcHJvY2Vzc29yc1wiXHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBNYXJrZG93blJlbmRlckNoaWxkIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBNeVBsdWdpbiBmcm9tIFwiLi9tYWluXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJ1YmlrQ3ViZUFsZ29TZXR0aW5ncyB7XHJcblx0Y3ViZUNvbG9yOiBzdHJpbmc7XHJcblx0YXJyb3dDb2xvcjogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUnViaWtDdWJlQWxnb1NldHRpbmdzID0ge1xyXG5cdENVQkVfQ09MT1I6ICcjZmYwJywgLyogeWVsbG93IGZvciBjdWJlICovXHJcblx0QVJST1dfQ09MT1I6ICcjMDhmJyAvKiBza3kgYmx1ZSBmb3IgYXJyb3dzICovXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdWJpa0N1YmVBbGdvU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IE15UGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBNeVBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBjdWJlIGNvbG9yJylcclxuXHRcdFx0LnNldERlc2MoJ1N0YXJ0aW5nIHZhbHVlOiAjZmYwICh5ZWxsb3cpJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCczIG9yIDYgZGlnaXQgaGV4IHZhbHVlJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3ViZUNvbG9yKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGlmICh2YWx1ZS5tYXRjaCgnXiMoW2EtZjAtOV17M30pezEsMn0kJykpe1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdWJlQ29sb3IgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSkpO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdEZWZhdWx0IGFycm93IGNvbG9yJylcclxuXHRcdFx0LnNldERlc2MoJ1N0YXJ0aW5nIHZhbHVlOiAjMDhmIChza3kgYmx1ZSknKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJzMgb3IgNiBkaWdpdCBoZXggdmFsdWUnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcnJvd0NvbG9yKSBcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAodmFsdWUubWF0Y2goJ14jKFthLWYwLTldezN9KXsxLDJ9JCcpKXtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJyb3dDb2xvciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTLCBSdWJpa0N1YmVBbGdvc1NldHRpbmdzIH0gZnJvbSBcIi4vUnViaWtDdWJlQWxnb1NldHRpbmdzXCI7XHJcblxyXG5jb25zdCBERUZBVUxUID0ge1xyXG5cdFdJRFRIOiAzLCAvKiBkZWZhdWx0IHJ1YmlrIGN1YmUgd2lkdGggKi9cclxuXHRIRUlHSFQ6IDMsIC8qIGRlZmF1bHQgcnViaWsgY3ViZSBoZWlnaHQgKi9cclxuXHRDT0RFX0JMT0NLX1RFTVBMQVRFOlxyXG4nXFxuYGBgcnViaWtDdWJlT0xMXFxuJytcclxuJy4wMDAuXFxuJytcclxuJzAxMTAxXFxuJytcclxuJzEwMTAxXFxuJytcclxuJzAxMTAxXFxuJytcclxuJy4wMDAuXFxuJytcclxuJ2BgYCdcclxufSBhcyBjb25zdDsgXHJcblxyXG5jb25zdCBsaWdodDpudW1iZXIgPSAxO1xyXG5jb25zdCBkYXJrOm51bWJlciA9IDA7XHJcblxyXG5leHBvcnQgY2xhc3MgT0xMIHtcclxuXHRjZWxsczpudW1iZXJbXTtcclxuXHR3aWR0aDpudW1iZXI7XHJcblx0aGVpZ2h0Om51bWJlcjtcclxuXHRjdWJlQ29sb3I6c3RyaW5nO1xyXG5cdGFycm93Q29sb3I6c3RyaW5nO1xyXG5cdGFycm93czpzdHJpbmc7XHJcblx0Y29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsOmJvb2xlYW47XHJcblx0bGFzdE5vbkludGVycHJldGFibGVMaW5lOnN0cmluZzsgXHJcblx0cmVhc29uRm9yRmFpbHVyZTpzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHNldHRpbmdzOlJ1YmlrQ3ViZUFsZ29zU2V0dGluZ3MpIHtcclxuXHRcdHRoaXMuY2VsbHMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdHRoaXMud2lkdGggPSBERUZBVUxULldJRFRIO1xyXG5cdFx0dGhpcy5oZWlnaHQgPSBERUZBVUxULkhFSUdIVDtcclxuXHRcdFxyXG5cdFx0aWYgKHNldHRpbmdzLmN1YmVDb2xvcil7XHJcblx0XHRcdHRoaXMuY3ViZUNvbG9yID0gc2V0dGluZ3MuY3ViZUNvbG9yO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5jdWJlQ29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkNVQkVfQ09MT1I7XHJcblx0XHR9XHJcblx0XHRpZiAoc2V0dGluZ3MuYXJyb3dDb2xvcil7XHJcblx0XHRcdHRoaXMuYXJyb3dDb2xvciA9IHNldHRpbmdzLmFycm93Q29sb3I7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmFycm93Q29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkFSUk9XX0NPTE9SO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHR0aGlzLmFycm93cyA9IFwiXCI7XHJcblx0XHR0aGlzLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bD10cnVlO1xyXG5cdH1cclxuXHRwcml2YXRlIHNldERpbWVuc2lvbih3Om51bWJlcixoOm51bWJlcik6dm9pZCB7XHJcblx0XHR0aGlzLndpZHRoPXc7XHJcblx0XHR0aGlzLmhlaWdodD1oO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBkaW1lbnNpb25zOiBcIit3K1wiLFwiK2gpO1xyXG5cdH1cclxuXHRwcml2YXRlIHNldEN1YmVDb2xvcihzOnN0cmluZyk6dm9pZCB7XHJcblx0XHR0aGlzLmN1YmVDb2xvciA9ICcjJytzO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBjdWJlIGNvbG9yOiAnXCIrcytcIidcIik7XHJcblx0fVxyXG5cdHByaXZhdGUgc2V0QXJyb3dDb2xvcihzOnN0cmluZyk6dm9pZCB7XHJcblx0XHR0aGlzLmFycm93Q29sb3IgPSAnIycrcztcclxuXHRcdC8vY29uc29sZS5sb2coXCJuZXcgYXJyb3cgY29sb3I6ICdcIitzK1wiJ1wiKTtcclxuXHR9XHJcblx0cHJpdmF0ZSBzZXRBcnJvd3MoczpzdHJpbmcpOnZvaWQge1xyXG5cdFx0dGhpcy5hcnJvd3MgPSBzO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBhcnJvd3M6ICdcIitzK1wiJ1wiKTtcclxuXHR9XHJcblx0dG9TdHJpbmcoKTpzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwicGxsW2N1YmVDbHInXCIrdGhpcy5jdWJlQ29sb3IrXCInLGFycm93Q29sb3InXCIrdGhpcy5hcnJvd0NvbG9yK1wiJyxhcnJvd3MnXCIrdGhpcy5hcnJvd3MrXCInXVwiXHJcblx0fVxyXG5cdGludGVycHJldENvZGVCbG9jayhyb3dzOnN0cmluZ1tdKTpBcnJheSB7XHJcblx0XHRpZiAocm93cy5sZW5ndGggPCA0KXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAoXCJbbm8gaW5wdXRdXCIsXCJJbnB1dCBmb3IgT0xMIHNob3VsZCBjb250YWluIGF0IGxlYXN0IDQgbGluZXMhXCIpO1xyXG5cdFx0fSBlbHNlIGlmIChmYWxzZSA9PT0gcm93c1swXS5tYXRjaCgnXlxcXFwuLis/XFxcXC4kJykgfHwgZmFsc2UgPT09IHJvd3Nbcm93cy5sZW5ndGgtMV0ubWF0Y2goJ15cXFxcLi4rP1xcXFwuJCcpICkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5mdWNrVGhpc1NoaXRVcChyb3dzWzBdLFwiRmlyc3QgYW5kIGxhc3QgbGluZSBzaG91bGQgc3RhcnQgYW5kIGVuZCBvbiBhIGRvdCAoJy4nKSFcIik7XHJcblx0XHR9XHJcblx0XHRsZXQgZXhwZWN0ZWRSb3dMZW5ndGg6bnVtYmVyID0gcm93c1swXS5sZW5ndGg7XHJcblx0XHR0aGlzLndpZHRoID0gcm93c1swXS5sZW5ndGggLSAyO1xyXG5cdFx0dGhpcy5oZWlnaHQgPSByb3dzLmxlbmd0aCAtIDI7XHJcblx0XHRmb3IgKGxldCByID0gMDsgciA8IHJvd3MubGVuZ3RoOyByKyspIHtcclxuXHRcdFx0bGV0IHJvdyA9IHJvd3Nbcl07XHJcblx0XHRcdGlmIChyb3cubGVuZ3RoICE9IGV4cGVjdGVkUm93TGVuZ3RoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAocm93LCdJbmNvbnNpc3RlbnQgcm93IGxlbmd0aC4gRXhwZWN0ZWQ6ICcrZXhwZWN0ZWRSb3dMZW5ndGgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCBwYXJzZWRSb3c6bnVtYmVyW10gPSBuZXcgQXJyYXkoKTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByb3cubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRsZXQgYzpzdHJpbmcgPSByb3dbaV07XHJcblx0XHRcdFx0aWYgKGM9PT0nLicpIHtcclxuXHRcdFx0XHRcdHBhcnNlZFJvd1twYXJzZWRSb3cubGVuZ3RoXSA9IC0xO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoaSA9PT0gMCB8fCByID09PSAwIHx8IHIgPT09IHJvd3MubGVuZ3RoLTEgfHwgaSA9PT0gcm93Lmxlbmd0aC0xKSB7XHJcblx0XHRcdFx0XHRwYXJzZWRSb3dbcGFyc2VkUm93Lmxlbmd0aF0gPSBjLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHBhcnNlZFJvd1twYXJzZWRSb3cubGVuZ3RoXSA9IGMudG9VcHBlckNhc2UoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5jZWxsc1t0aGlzLmNlbGxzLmxlbmd0aF0gPSBwYXJzZWRSb3c7XHJcblx0XHR9XHRcclxuXHRcdC8vdGhpcy5jYWxjdWxhdGVDb29yZGluYXRlcygpO1xyXG5cdFx0dGhpcy5sb2dDZWxsc1RhYmxlKCk7XHJcblx0XHRyZXR1cm4gdGhpcy5jZWxscztcclxuXHR9XHJcblx0cHJpdmF0ZSBsb2dDZWxsc1RhYmxlKCkge1xyXG5cdFx0bGV0IGxvZzpzdHJpbmcgPSAnbG9nQ2VsbHNUYWJsZTpcXG4nXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2VsbHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0bG9nID0gbG9nICsgdGhpcy5jZWxsc1tpXSArICdcXG4nO1xyXG5cdFx0fVxyXG5cdFx0Y29uc29sZS5sb2cobG9nKTtcclxuXHR9XHJcblx0Ly9wcml2YXRlIGNhbGN1bGF0ZUNvb3JkaW5hdGVzKCl7XHJcblx0Ly9cdHRoaXMuQ09PUkRJTkFURVNbMF0gPSBbXTtcclxuXHQvL1x0bGV0IGluZGV4Om51bWJlcj0xO1xyXG5cdC8vXHQvKiByZXZlcnNlIGxvb3Agb3JkZXIgdG8gZ2l2ZSB4IGNvb3JkaW5hdGVzIG1vcmUgcHJpb3JpdHkgKi9cclxuXHQvL1x0Zm9yIChsZXQgaCA9IDA7IGggPCB0aGlzLmhlaWdodDsgaCsrKSB7XHJcblx0Ly9cdFx0Zm9yIChsZXQgdyA9IDA7IHcgPCB0aGlzLndpZHRoOyB3KyspIHtcclxuXHQvL1x0XHRcdHRoaXMuQ09PUkRJTkFURVNbaW5kZXgrK10gPSBbdyoxMDAgKyA1MCwgaCoxMDAgKyA1MF07XHJcblx0Ly9cdFx0fVxyXG5cdC8vXHR9XHJcblx0Ly99XHJcblx0cHJpdmF0ZSBmdWNrVGhpc1NoaXRVcChtYW5kYXRvcnlMYXN0TGluZU5vdEludGVycHJldGFibGU6c3RyaW5nLCBvcHRpb25hbFJlYXNvbkZvckZhaWx1cmU6c3RyaW5nKTp2b2lke1xyXG5cdFx0dGhpcy5jb2RlQmxvY2tJbnRlcnByZXRhdGlvblN1Y2Nlc3NmdWw9ZmFsc2U7XHJcblx0XHR0aGlzLmxhc3ROb25JbnRlcnByZXRhYmxlTGluZT1tYW5kYXRvcnlMYXN0TGluZU5vdEludGVycHJldGFibGU7XHJcblx0XHRpZiAob3B0aW9uYWxSZWFzb25Gb3JGYWlsdXJlKSB7XHJcblx0XHRcdHRoaXMucmVhc29uRm9yRmFpbHVyZT1vcHRpb25hbFJlYXNvbkZvckZhaWx1cmU7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdVbmV4cGVjdGVkIE9MTCBpbnB1dDogXCInK21hbmRhdG9yeUxhc3RMaW5lTm90SW50ZXJwcmV0YWJsZSsnXCIgKCdcclxuXHRcdFx0K29wdGlvbmFsUmVhc29uRm9yRmFpbHVyZStcclxuXHRcdFx0JyknKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdVbmV4cGVjdGVkIE9MTCBpbnB1dDogXCInK21hbmRhdG9yeUxhc3RMaW5lTm90SW50ZXJwcmV0YWJsZSsnXCIgJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGdldERpbWVuc2lvbnMoKXtcclxuXHRcdGxldCB3WGggPSBbdGhpcy53aWR0aCoxMDAgKyAxMDAsIHRoaXMuaGVpZ2h0KjEwMCArIDEwMF07XHJcblx0XHRyZXR1cm4gd1hoO1xyXG5cdH1cclxuXHRzdGF0aWMgZ2V0M2J5M0NvZGVCbG9ja1RlbXBsYXRlKCk6c3RyaW5nIHtcclxuXHRcdHJldHVybiBERUZBVUxULkNPREVfQkxPQ0tfVEVNUExBVEU7XHJcblx0fVxyXG59OyIsICJpbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTLCBSdWJpa0N1YmVBbGdvc1NldHRpbmdzIH0gZnJvbSBcIi4vUnViaWtDdWJlQWxnb1NldHRpbmdzXCI7XHJcblxyXG5jb25zdCBERUZBVUxUID0ge1xyXG5cdFdJRFRIOiAzLCAvKiBkZWZhdWx0IHJ1YmlrIGN1YmUgd2lkdGggKi9cclxuXHRIRUlHSFQ6IDMsIC8qIGRlZmF1bHQgcnViaWsgY3ViZSBoZWlnaHQgKi9cclxuXHRDT0RFX0JMT0NLX1RFTVBMQVRFOlxyXG4nXFxuYGBgcnViaWtDdWJlUExMXFxuJytcclxuJ2RpbWVuc2lvbjozLDMgLy8gd2lkdGgsaGVpZ2h0XFxuJytcclxuJ2N1YmVDb2xvcjpmZjAgLy8geWVsbG93IGN1YmUsIG9wdGlvbmFsIHBhcmFtZXRlclxcbicrXHJcbidhcnJvd0NvbG9yOjA4ZiAvLyBza3kgYmx1ZSBhcnJvd3MsIG9wdGlvbmFsIHBhcmFtZXRlclxcbicrXHJcbidhcnJvd3M6MS4xLTEuMyw3KzlcXG4nK1xyXG4nYGBgJ1xyXG59IGFzIGNvbnN0OyBcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUExMIHtcclxuXHRDT09SRElOQVRFUztcclxuXHR3aWR0aDpudW1iZXI7XHJcblx0aGVpZ2h0Om51bWJlcjtcclxuXHRjdWJlQ29sb3I6c3RyaW5nO1xyXG5cdGFycm93Q29sb3I6c3RyaW5nO1xyXG5cdGFycm93czpzdHJpbmc7XHJcblx0Y29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsOmJvb2xlYW47XHJcblx0bGFzdE5vbkludGVycHJldGFibGVMaW5lOnN0cmluZzsgXHJcblx0cmVhc29uRm9yRmFpbHVyZTpzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHNldHRpbmdzOlJ1YmlrQ3ViZUFsZ29zU2V0dGluZ3MpIHtcclxuXHRcdHRoaXMuQ09PUkRJTkFURVMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdHRoaXMud2lkdGggPSBERUZBVUxULldJRFRIO1xyXG5cdFx0dGhpcy5oZWlnaHQgPSBERUZBVUxULkhFSUdIVDtcclxuXHRcdFxyXG5cdFx0aWYgKHNldHRpbmdzLmN1YmVDb2xvcil7XHJcblx0XHRcdHRoaXMuY3ViZUNvbG9yID0gc2V0dGluZ3MuY3ViZUNvbG9yO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5jdWJlQ29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkNVQkVfQ09MT1I7XHJcblx0XHR9XHJcblx0XHRpZiAoc2V0dGluZ3MuYXJyb3dDb2xvcil7XHJcblx0XHRcdHRoaXMuYXJyb3dDb2xvciA9IHNldHRpbmdzLmFycm93Q29sb3I7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmFycm93Q29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkFSUk9XX0NPTE9SO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHR0aGlzLmFycm93cyA9IFwiXCI7XHJcblx0XHR0aGlzLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bD10cnVlO1xyXG5cdH1cclxuXHRwcml2YXRlIHNldERpbWVuc2lvbih3Om51bWJlcixoOm51bWJlcik6dm9pZCB7XHJcblx0XHR0aGlzLndpZHRoPXc7XHJcblx0XHR0aGlzLmhlaWdodD1oO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBkaW1lbnNpb25zOiBcIit3K1wiLFwiK2gpO1xyXG5cdH1cclxuXHRwcml2YXRlIHNldEN1YmVDb2xvcihzOnN0cmluZyk6dm9pZCB7XHJcblx0XHR0aGlzLmN1YmVDb2xvciA9ICcjJytzO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBjdWJlIGNvbG9yOiAnXCIrcytcIidcIik7XHJcblx0fVxyXG5cdHByaXZhdGUgc2V0QXJyb3dDb2xvcihzOnN0cmluZyk6dm9pZCB7XHJcblx0XHR0aGlzLmFycm93Q29sb3IgPSAnIycrcztcclxuXHRcdC8vY29uc29sZS5sb2coXCJuZXcgYXJyb3cgY29sb3I6ICdcIitzK1wiJ1wiKTtcclxuXHR9XHJcblx0cHJpdmF0ZSBzZXRBcnJvd3MoczpzdHJpbmcpOnZvaWQge1xyXG5cdFx0dGhpcy5hcnJvd3MgPSBzO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBhcnJvd3M6ICdcIitzK1wiJ1wiKTtcclxuXHR9XHJcblx0dG9TdHJpbmcoKTpzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwicGxsW2N1YmVDbHInXCIrdGhpcy5jdWJlQ29sb3IrXCInLGFycm93Q29sb3InXCIrdGhpcy5hcnJvd0NvbG9yK1wiJyxhcnJvd3MnXCIrdGhpcy5hcnJvd3MrXCInXVwiXHJcblx0fVxyXG5cdGludGVycHJldENvZGVCbG9jayhyb3dzOnN0cmluZ1tdKTp2b2lkIHtcclxuXHRcdGlmIChyb3dzLmxlbmd0aCA9PT0wKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAoXCJbbm8gaW5wdXRdXCIsXCJhdCBsZWFzdCAxIHBhcmFtZXRlciBuZWVkZWQ6ICdkaW1lbnNpb24vY3ViZUNvbG9yL2Fycm93Q29sb3IvYXJyb3dzJ1wiKTtcclxuXHRcdH1cclxuXHRcdC8vIGNvbnNvbGUubG9nKCdwbGwgYmVmb3JlOiAnK3RoaXMudG9TdHJpbmcoKSk7XHRcdFxyXG5cdFx0Zm9yIChsZXQgciA9IDA7IHIgPCByb3dzLmxlbmd0aDsgcisrKSB7XHJcblx0XHRcdGxldCByb3cgPSByb3dzW3JdO1xyXG5cdFx0XHRpZiAocm93LnN0YXJ0c1dpdGgoJ2RpbWVuc2lvbjonKSkge1xyXG5cdFx0XHRcdGlmICghcm93Lm1hdGNoKCdeZGltZW5zaW9uOlxcXFxkKyxcXFxcZCsoIC8vLiopPycpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5mdWNrVGhpc1NoaXRVcChyb3csJ2ludmFsaWQgZGltZW5zaW9uLCBleHBlY3RlZCBcImRpbWVuc2lvbjpbMi0xMF0sWzItMTBdXCIgLy8gb3B0aW9uYWwgY29tbWVudCBnb2VzIGhlcmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IHdYaCA9IHJvdy5zcGxpdCgnICcpWzBdLnRyaW0oKS5yZXBsYWNlKCdkaW1lbnNpb246JywnJyk7XHJcblx0XHRcdFx0bGV0IHdYaFNwbGl0ID0gd1hoLnNwbGl0KCcsJyk7XHJcblx0XHRcdFx0bGV0IHc9IHdYaFNwbGl0WzBdO1xyXG5cdFx0XHRcdGxldCBoPSB3WGhTcGxpdFsxXTtcclxuXHRcdFx0XHRpZiAodzwyfHxoPDJ8fHc+MTB8fGg+MTApe1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAocm93LCdpbnZhbGlkIGRpbWVuc2lvbnMgLSBleHBlY3RlZDogMiA8IHdpZHRoL2hlaWdodCA8IDEwJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuc2V0RGltZW5zaW9uKHcsaCk7XHJcblx0XHRcdH0gZWxzZSBpZiAocm93Lm1hdGNoKCdeY3ViZUNvbG9yOihbYS1mMC05XXszfSl7MSwyfSggLy8uKik/JykpIHtcclxuXHRcdFx0XHRsZXQgbmV3Q3ViQ2xyID0gcm93LnNwbGl0KCcgJylbMF0udHJpbSgpLnJlcGxhY2UoJ2N1YmVDb2xvcjonLCcnKTtcclxuXHRcdFx0XHR0aGlzLnNldEN1YmVDb2xvcihuZXdDdWJDbHIpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJvdy5tYXRjaCgnXmFycm93Q29sb3I6KFthLWYwLTldezN9KXsxLDJ9KCAvLy4qKT8nKSkge1xyXG5cdFx0XHRcdGxldCBuZXdBcm9DbHIgPSByb3cuc3BsaXQoJyAnKVswXS50cmltKCkucmVwbGFjZSgnYXJyb3dDb2xvcjonLCcnKVxyXG5cdFx0XHRcdHRoaXMuc2V0QXJyb3dDb2xvcihuZXdBcm9DbHIpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJvdy5tYXRjaCgnXmFycm93czpcXFxcZCsoXFxcXC5cXFxcZCspPygtfFxcXFwrKVxcXFxkKyhcXFxcLlxcXFxkKyk/KCxcXFxcZCsoXFxcXC5cXFxcZCspPygtfFxcXFwrKVxcXFxkKyhcXFxcLlxcXFxkKyk/KSooIC8vLiopPycpKSB7XHJcblx0XHRcdFx0bGV0IG5ld0Fycm93cyA9IHJvdy5zcGxpdCgnICcpWzBdLnRyaW0oKS5yZXBsYWNlKCdhcnJvd3M6JywnJylcclxuXHRcdFx0XHR0aGlzLnNldEFycm93cyhuZXdBcnJvd3MpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmZ1Y2tUaGlzU2hpdFVwKHJvdywgXCJ1bmV4cGVjdGVkIGlucHV0LCBleHBlY3RlZDogJ2RpbWVuc2lvbicsICdjdWJlQ29sb3InLCAnYXJyb3dDb2xvcicgb3IgJ2Fycm93cydcIik7XHJcblx0XHRcdH1cclxuXHRcdH1cdFxyXG5cdFx0dGhpcy5jYWxjdWxhdGVDb29yZGluYXRlcygpO1xyXG5cdH1cclxuXHRwcml2YXRlIGNhbGN1bGF0ZUNvb3JkaW5hdGVzKCl7XHJcblx0XHR0aGlzLkNPT1JESU5BVEVTWzBdID0gW107XHJcblx0XHRsZXQgaW5kZXg6bnVtYmVyPTE7XHJcblx0XHQvKiByZXZlcnNlIGxvb3Agb3JkZXIgdG8gZ2l2ZSB4IGNvb3JkaW5hdGVzIG1vcmUgcHJpb3JpdHkgKi9cclxuXHRcdGZvciAobGV0IGggPSAwOyBoIDwgdGhpcy5oZWlnaHQ7IGgrKykge1xyXG5cdFx0XHRmb3IgKGxldCB3ID0gMDsgdyA8IHRoaXMud2lkdGg7IHcrKykge1xyXG5cdFx0XHRcdHRoaXMuQ09PUkRJTkFURVNbaW5kZXgrK10gPSBbdyoxMDAgKyA1MCwgaCoxMDAgKyA1MF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cHJpdmF0ZSBmdWNrVGhpc1NoaXRVcChtYW5kYXRvcnlMYXN0TGluZU5vdEludGVycHJldGFibGU6c3RyaW5nLCBvcHRpb25hbFJlYXNvbkZvckZhaWx1cmU6c3RyaW5nKXtcclxuXHRcdHRoaXMuY29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsPWZhbHNlO1xyXG5cdFx0dGhpcy5sYXN0Tm9uSW50ZXJwcmV0YWJsZUxpbmU9bWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlO1xyXG5cdFx0aWYgKG9wdGlvbmFsUmVhc29uRm9yRmFpbHVyZSkge1xyXG5cdFx0XHR0aGlzLnJlYXNvbkZvckZhaWx1cmU9b3B0aW9uYWxSZWFzb25Gb3JGYWlsdXJlO1xyXG5cdFx0fVxyXG5cdFx0Y29uc29sZS5sb2coJ1VuZXhwZWN0ZWQgUExMIGlucHV0OiBcIicrbWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlKydcIicpO1xyXG5cdH1cclxuXHRnZXRDdWJlU2l6ZSgpe1xyXG5cdFx0bGV0IHdYaCA9IFt0aGlzLndpZHRoKjEwMCwgdGhpcy5oZWlnaHQqMTAwXTtcclxuXHRcdHJldHVybiB3WGg7XHJcblx0fVxyXG5cdGdldEFycm93Q29vcmRpbmF0ZXMoKSB7XHJcblx0XHQvL2NvbnNvbGUubG9nKCc+PiBnZXRBcnJvd0Nvb3JkaW5hdGVzLCAnICsgdGhpcy5DT09SRElOQVRFUyk7XHJcblx0XHRsZXQgQVJST1dTID0gbmV3IEFycmF5KCk7XHJcblx0XHRsZXQgYWxsQXJyb3dDb29yZHMgPSB0aGlzLmFycm93cy5zcGxpdCgnLCcpLmZpbHRlcigoeCkgPT4geC5sZW5ndGggPiAwKTtcclxuXHRcdGxldCBpbmRleDpudW1iZXIgPSAwO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIkFycm93cyB0byBpbnRlcnByZXQ6IFwiK2FsbEFycm93Q29vcmRzKTtcclxuXHRcdGxldCBpc0RvdWJsZVNpZGVkOmJvb2xlYW4gPSBmYWxzZTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWxsQXJyb3dDb29yZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aXNEb3VibGVTaWRlZCA9IGZhbHNlO1xyXG5cdFx0XHRsZXQgc2luZ2xlQXJyb3dDb29yZHM6c3RyaW5nID0gYWxsQXJyb3dDb29yZHNbaV07XHJcblx0XHRcdGxldCBzaW5nbGVBcnJvd0Nvb3Jkc0Zyb206c3RyaW5nOyBcclxuXHRcdFx0bGV0IHNpbmdsZUFycm93Q29vcmRzVG86c3RyaW5nO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHNpbmdsZUFycm93Q29vcmRzLm1hdGNoKCdcXFxcZC1cXFxcZCcpKSB7XHJcblx0XHRcdFx0bGV0IHNpbmdsZUFycm93Q29vcmRzU3BsaXQgPSBzaW5nbGVBcnJvd0Nvb3Jkcy5zcGxpdCgnLScpO1xyXG5cdFx0XHRcdHNpbmdsZUFycm93Q29vcmRzRnJvbSA9IHNpbmdsZUFycm93Q29vcmRzU3BsaXRbMF07XHJcblx0XHRcdFx0c2luZ2xlQXJyb3dDb29yZHNUbyA9IHNpbmdsZUFycm93Q29vcmRzU3BsaXRbMV07XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bGV0IHNpbmdsZUFycm93Q29vcmRzU3BsaXQgPSBzaW5nbGVBcnJvd0Nvb3Jkcy5zcGxpdCgnKycpO1xyXG5cdFx0XHRcdHNpbmdsZUFycm93Q29vcmRzRnJvbSA9IHNpbmdsZUFycm93Q29vcmRzU3BsaXRbMF07XHJcblx0XHRcdFx0c2luZ2xlQXJyb3dDb29yZHNUbyA9IHNpbmdsZUFycm93Q29vcmRzU3BsaXRbMV07XHJcblx0XHRcdFx0aXNEb3VibGVTaWRlZCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChzaW5nbGVBcnJvd0Nvb3Jkc0Zyb209PT1zaW5nbGVBcnJvd0Nvb3Jkc1RvKXtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhcIlNraXAgYXJyb3cgcG9pbnRpbmcgdG8gaXRzZWxmOiBcIitzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20pO1xyXG5cdFx0XHRcdHRoaXMuZnVja1RoaXNTaGl0VXAoc2luZ2xlQXJyb3dDb29yZHMsJ2Fycm93IGlzIHBvaW50aW5nIHRvIGl0cyBzdGFydGluZyBwb2ludCcpO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL2NvbnNvbGUubG9nKFwiLS0gQXJyb3cgZ29lcyBmcm9tICdcIitzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20rXCInIHRvICdcIitzaW5nbGVBcnJvd0Nvb3Jkc1RvK1wiJ1wiKTtcclxuXHRcdFx0XHJcblx0XHRcdGxldCBhcnJvd1N0YXJ0O1xyXG5cdFx0XHRsZXQgYXJyb3dFbmQ7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoc2luZ2xlQXJyb3dDb29yZHNGcm9tLm1hdGNoKCdeWzAtOV0rJCcpKXtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCctLSBkOiAnICsgc2luZ2xlQXJyb3dDb29yZHNGcm9tKTtcclxuXHRcdFx0XHRhcnJvd1N0YXJ0ID0gdGhpcy5DT09SRElOQVRFU1tzaW5nbGVBcnJvd0Nvb3Jkc0Zyb21dO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGxldCBzZW1hbnRpY1ZlcnNpb24gPSBzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20uc3BsaXQoJy4nKTtcclxuXHRcdFx0XHRsZXQgbWFqb3I6bnVtYmVyID0gK3NlbWFudGljVmVyc2lvblswXTtcclxuXHRcdFx0XHRsZXQgbWlub3I6bnVtYmVyID0gK3NlbWFudGljVmVyc2lvblsxXTtcclxuXHRcdFx0XHRsZXQgYzpudW1iZXIgPSAobWFqb3ItMSkqdGhpcy53aWR0aCArIG1pbm9yO1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJy0tIGM6ICcgKyBjKTtcclxuXHRcdFx0XHRhcnJvd1N0YXJ0ID0gdGhpcy5DT09SRElOQVRFU1tjXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHNpbmdsZUFycm93Q29vcmRzVG8ubWF0Y2goJ15bMC05XSskJykpe1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJy0tIGQ6ICcgKyBzaW5nbGVBcnJvd0Nvb3Jkc1RvKTtcclxuXHRcdFx0XHRhcnJvd0VuZCA9IHRoaXMuQ09PUkRJTkFURVNbc2luZ2xlQXJyb3dDb29yZHNUb107XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bGV0IHNlbWFudGljVmVyc2lvbiA9IHNpbmdsZUFycm93Q29vcmRzVG8uc3BsaXQoJy4nKTtcclxuXHRcdFx0XHRsZXQgbWFqb3I6bnVtYmVyID0gK3NlbWFudGljVmVyc2lvblswXTtcclxuXHRcdFx0XHRsZXQgbWlub3I6bnVtYmVyID0gK3NlbWFudGljVmVyc2lvblsxXTtcclxuXHRcdFx0XHRsZXQgYzpudW1iZXIgPSAobWFqb3ItMSkqdGhpcy53aWR0aCArIG1pbm9yO1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJy0tIGM6ICcgKyBjKTtcclxuXHRcdFx0XHRhcnJvd0VuZCA9IHRoaXMuQ09PUkRJTkFURVNbY107XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRBUlJPV1NbaW5kZXgrK10gPSBbIGFycm93U3RhcnQsIGFycm93RW5kIF07XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoaXNEb3VibGVTaWRlZCkgeyAvLyBhZGQgcmV2ZXJzZSBjb3B5XHJcblx0XHRcdFx0QVJST1dTW2luZGV4KytdID0gWyBhcnJvd0VuZCwgYXJyb3dTdGFydCBdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvL2NvbnNvbGUubG9nKCc8PCBnZXRBcnJvd0Nvb3JkaW5hdGVzLCAnICsgQVJST1dTKTtcclxuXHRcdHJldHVybiBBUlJPV1M7XHJcblx0fVxyXG5cdHN0YXRpYyBnZXQzYnkzQ29kZUJsb2NrVGVtcGxhdGUoKTpzdHJpbmcge1xyXG5cdFx0cmV0dXJuIERFRkFVTFQuQ09ERV9CTE9DS19URU1QTEFURTtcclxuXHR9XHJcbn07IiwgImltcG9ydCB7IE1hcmtkb3duUmVuZGVyQ2hpbGQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IFJ1YmlrQ3ViZUFsZ29zIGZyb20gXCIuL21haW5cIjtcclxuaW1wb3J0IHsgT0xMIH0gZnJvbSBcIi4vUkNBLU9MTC1DYWxjdWxhdGlvbnNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgT0xMdmlldyBleHRlbmRzIE1hcmtkb3duUmVuZGVyQ2hpbGQge1xyXG5cdHNvdXJjZTogc3RyaW5nO1xyXG5cdHBsdWdpbjogUnViaWtDdWJlQWxnb3M7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRzb3VyY2U6IHN0cmluZyxcclxuXHRcdHBsdWdpbjogUnViaWtDdWJlQWxnb3MsXHJcblx0XHRlbGVtZW50OiBIVE1MRWxlbWVudFxyXG5cdCkge1xyXG5cdFx0c3VwZXIoZWxlbWVudCk7XHJcblx0XHR0aGlzLnNvdXJjZSA9IHNvdXJjZTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdH1cclxuXHRcclxuXHRvbmxvYWQoKSB7XHJcblx0Ly9cdC8qXHJcblx0Ly9cdCAqIFJlZ2lzdGVyIGxpc3RlbmVyIHdoaWNoIGluc3RhbnRseSByZWRyYXdzIHJ1YmlrIGN1YmVzIHdoaWxlIGNoYW5naW5nIHBsdWdpbiBzZXR0aW5ncy5cclxuXHQvL1x0ICovXHJcblx0Ly9cdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHQvL1x0XHR0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG5cdC8vXHRcdFx0XCJydWJpazpyZXJlbmRlci1tYXJrZG93bi1jb2RlLWJsb2NrLXByb2Nlc3NvcnNcIixcclxuXHQvL1x0XHRcdHRoaXMuZGlzcGxheS5iaW5kKHRoaXMpXHJcblx0Ly9cdFx0KVxyXG5cdC8vXHQpO1xyXG5cdH1cclxuXHRcclxuXHRkaXNwbGF5KCkge1xyXG5cdFx0dGhpcy5lbGVtZW50LmVtcHR5KCk7XHJcblx0XHRjb25zdCByb3dzID0gdGhpcy5zb3VyY2Uuc3BsaXQoJ1xcbicpLmZpbHRlcigocm93KSA9PiByb3cubGVuZ3RoID4gMCk7XHJcblx0XHRsZXQgb2xsRGF0YSA9IG5ldyBPTEwodGhpcy5wbHVnaW4uc2V0dGluZ3MpOyBcclxuXHRcdGxldCBjZWxscyA9IG9sbERhdGEuaW50ZXJwcmV0Q29kZUJsb2NrKHJvd3MpO1xyXG5cdFx0bGV0IHdpZHRoWGhlaWdodCA9IG9sbERhdGEuZ2V0RGltZW5zaW9ucygpO1xyXG5cclxuXHRcdGlmIChmYWxzZSA9PT0gb2xsRGF0YS5jb2RlQmxvY2tJbnRlcnByZXRhdGlvblN1Y2Nlc3NmdWwpe1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogXCItLS0gUnViaWsgQ3ViZSBPTEwgcGF0dGVybiBpbnRlcnByZXRhdGlvbiBmYWlsZWQgLS0tXCIgfSk7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnRmF1bHR5IGlucHV0OicgfSk7XHJcblx0XHRcdGxldCBleHBsYW5hdGlvbkRpdiA9IHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnZGl2Jyk7XHJcblx0XHRcdGV4cGxhbmF0aW9uRGl2LmNyZWF0ZUVsKCdiJywgeyB0ZXh0OiAnXCInK29sbERhdGEubGFzdE5vbkludGVycHJldGFibGVMaW5lKydcIicsIGNsczoncnViaWstY3ViZS13YXJuaW5nLXRleHQnICB9KTtcclxuXHRcdFx0aWYgKG9sbERhdGEucmVhc29uRm9yRmFpbHVyZSkge1xyXG5cdFx0XHRcdGV4cGxhbmF0aW9uRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdSZWFzb246ICcrb2xsRGF0YS5yZWFzb25Gb3JGYWlsdXJlfSk7XHJcblx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHRyZXR1cm47IFxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgdyA9IHdpZHRoWGhlaWdodFswXTsgXHJcblx0XHRsZXQgaCA9IHdpZHRoWGhlaWdodFsxXTsgXHJcblx0XHRjb25zb2xlLmxvZygncnViaWtDdWJlT0xMOiB3PScrdysnLGg9JytoKTtcclxuXHRcdGxldCBtYWluU3ZnID0gdGhpcy5lbGVtZW50LmNyZWF0ZVN2Zygnc3ZnJywgeyBhdHRyOiB7IHdpZHRoOjIwMCwgaGVpZ2h0OjIwMCwgdmlld0JveDonMCAwICcrdysnICcraCB9LCBjbHM6IFwicnViaWstY3ViZS1wbGxcIiB9KTtcclxuXHRcdC8vbGV0IGRlZnMgPSBtYWluU3ZnLmNyZWF0ZVN2ZygnZGVmcycpO1xyXG5cdFx0Ly9sZXQgbWFya2VyID0gZGVmcy5jcmVhdGVTdmcoJ21hcmtlcicsIHsgYXR0cjoge2lkOlwiYXJyb3doZWFkXCIrb2xsRGF0YS5hcnJvd0NvbG9yLCBtYXJrZXJXaWR0aDpcIjEwXCIsIG1hcmtlckhlaWdodDpcIjdcIiwgcmVmWDpcIjlcIiwgcmVmWTpcIjMuNVwiLCBvcmllbnQ6XCJhdXRvXCJ9fSk7XHJcblx0XHQvL21hcmtlci5jcmVhdGVTdmcoJ3BvbHlnb24nLCB7IGF0dHI6IHtwb2ludHM6XCIwIDAsIDEwIDMuNSwgMCA3XCIgLCBmaWxsOm9sbERhdGEuYXJyb3dDb2xvcn19KTtcclxuXHRcdFxyXG5cdFx0LyogQmxhY2sgYmFzZSByZWN0ICovXHJcblx0XHQvL21haW5TdmcuY3JlYXRlU3ZnKCdyZWN0JywgeyBhdHRyOiB7IGZpbGw6JyMwJyB9LCBjbHM6IFwicnViaWstY3ViZS1wbGwtcmVjdFwiIH0pOyBcclxuXHRcdFxyXG5cdFx0LypcclxuXHRcdCAqIEVkZ2Ugcm93cy9jb2x1bW5zXHJcblx0XHQgKi9cclxuXHRcdGxldCBjdWJlV2lkdGggPSByb3dzWzBdLmxlbmd0aDtcclxuXHRcdGxldCBjdWJlSGVpZ2h0ID0gcm93cy5sZW5ndGg7XHJcblx0XHQgXHJcblx0XHQvKiB1cHBlciByb3cgYm9yZGVyICovXHJcblx0XHRmb3IgKGxldCB4Om51bWJlciA9IDA7IHggPCBjdWJlV2lkdGgtMjsgeCsrKSB7XHJcblx0XHRcdG1haW5TdmcuY3JlYXRlU3ZnKCdyZWN0JywgeyBhdHRyOiB7IHg6NTAreCoxMDAsIHk6MCwgd2lkdGg6JzEwMCcsIGhlaWdodDonNTAnLCBmaWxsOnRoaXMuZ2V0Q29sb3IoY2VsbHNbMF1beCsxXSkgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcmVjdFwiIH0pOyBcclxuXHRcdH1cclxuXHRcdC8qIGxvd2VyIHJvdyBib3JkZXIgKi9cclxuXHRcdGZvciAobGV0IHg6bnVtYmVyID0gMDsgeCA8IGN1YmVXaWR0aC0yOyB4KyspIHtcclxuXHRcdFx0bWFpblN2Zy5jcmVhdGVTdmcoJ3JlY3QnLCB7IGF0dHI6IHsgeDo1MCt4KjEwMCwgeTpoLTUwLCB3aWR0aDonMTAwJywgaGVpZ2h0Oic1MCcsIGZpbGw6dGhpcy5nZXRDb2xvcihjZWxsc1tjZWxscy5sZW5ndGgtMV1beCsxXSkgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcmVjdFwiIH0pOyBcclxuXHRcdH1cclxuXHRcdC8qIGxlZnQgY29sdW1uIGJvcmRlciAqL1xyXG5cdFx0Zm9yIChsZXQgeTpudW1iZXIgPSAwOyB5IDwgY3ViZUhlaWdodC0yOyB5KyspIHtcclxuXHRcdFx0bWFpblN2Zy5jcmVhdGVTdmcoJ3JlY3QnLCB7IGF0dHI6IHsgeDowLCB5OjUwK3kqMTAwLCB3aWR0aDo1MCwgaGVpZ2h0OjEwMCwgZmlsbDp0aGlzLmdldENvbG9yKGNlbGxzW3krMV1bMF0pIH0sIGNsczogXCJydWJpay1jdWJlLXJlY3RcIiB9KTsgXHJcblx0XHR9XHJcblx0XHQvKiByaWdodCBjb2x1bW4gYm9yZGVyICovXHJcblx0XHRmb3IgKGxldCB5Om51bWJlciA9IDA7IHkgPCBjdWJlSGVpZ2h0LTI7IHkrKykge1xyXG5cdFx0XHRtYWluU3ZnLmNyZWF0ZVN2ZygncmVjdCcsIHsgYXR0cjogeyB4OnctNTAsIHk6NTAreSoxMDAsIHdpZHRoOjUwLCBoZWlnaHQ6MTAwLCBmaWxsOnRoaXMuZ2V0Q29sb3IoY2VsbHNbeSsxXVtjZWxscy5sZW5ndGgtMV0pIH0sIGNsczogXCJydWJpay1jdWJlLXJlY3RcIiB9KTsgXHJcblx0XHR9XHJcblxyXG5cdFx0LypcclxuXHRcdCAqIENlbnRlciByb3dzL2NvbHVtbnNcclxuXHRcdCAqL1xyXG5cdFx0LyogVmVydGljYWwgbGluZXMgKi9cclxuXHRcdGZvciAobGV0IHk6bnVtYmVyID0gMDsgeSA8IGN1YmVIZWlnaHQtMjsgeSsrKSB7XHJcblx0XHRcdGZvciAobGV0IHg6bnVtYmVyID0gMDsgeCA8IGN1YmVXaWR0aC0yOyB4KyspIHtcclxuXHRcdFx0XHRtYWluU3ZnLmNyZWF0ZVN2ZygncmVjdCcsIHsgYXR0cjogeyB4OjUwK3gqMTAwLCB5OjUwK3kqMTAwLCB3aWR0aDoxMDAsIGhlaWdodDoxMDAsIGZpbGw6dGhpcy5nZXRDb2xvcihjZWxsc1t5KzFdW3grMV0pIH0sIGNsczogXCJydWJpay1jdWJlLXBsbC1saW5lLWdyaWRcIiB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qXHJcblx0XHQgKiBCYWNrZ3JvdW5kIGdyaWQ7IHN0YXRpYywgdW5yZXNwb25zaXZlLCBibGFjayByZWN0YW5ndWxhciBsaW5lc1xyXG5cdFx0ICovXHJcblx0XHQvKiBWZXJ0aWNhbCBsaW5lcyAqL1xyXG5cdFx0Zm9yIChsZXQgeDpudW1iZXIgPSA1MDsgeCA8IHc7IHgrPTEwMCkge1xyXG5cdFx0XHRtYWluU3ZnLmNyZWF0ZVN2ZygnbGluZScsIHsgYXR0cjogeyB4MTp4LCB4Mjp4LCB5MTowLCB5MjpoIH0sIGNsczogXCJydWJpay1jdWJlLXBsbC1saW5lLWdyaWRcIiB9KTtcclxuXHRcdH1cclxuXHRcdC8qIEhvcml6b250YWwgbGluZXMgKi8gXHJcblx0XHRmb3IgKGxldCB5Om51bWJlciA9IDUwOyB5IDwgaDsgeSs9MTAwKSB7XHJcblx0XHRcdG1haW5TdmcuY3JlYXRlU3ZnKCdsaW5lJywgeyBhdHRyOiB7IHgxOjAsIHgyOncsIHkxOnksIHkyOnkgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsLWxpbmUtZ3JpZFwiIH0pO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0Ly9mb3IgKGxldCBpID0gMDsgaSA8IEFSUk9XUy5sZW5ndGg7IGkrKykge1xyXG5cdFx0Ly9cdGxldCBhcnJvdyA9IEFSUk9XU1tpXTtcclxuXHRcdC8vXHRsZXQgYXJyb3dTdGFydENvb3JkID0gYXJyb3dbMF07XHJcblx0XHQvL1x0bGV0IGFycm93RW5kQ29vcmQgPSBhcnJvd1sxXTtcclxuXHRcdC8vXHQvL2NvbnNvbGUubG9nKFwiQXJyb3cgZ29lcyBmcm9tIFwiK2Fycm93U3RhcnRDb29yZCtcIiB0byBcIithcnJvd0VuZENvb3JkKTtcclxuXHRcdC8vXHRtYWluU3ZnLmNyZWF0ZVN2ZygnbGluZScsIHsgYXR0cjogeyB4MTphcnJvd1N0YXJ0Q29vcmRbMF0sIHgyOmFycm93RW5kQ29vcmRbMF0sIHkxOmFycm93U3RhcnRDb29yZFsxXSwgeTI6YXJyb3dFbmRDb29yZFsxXSxcclxuXHRcdC8vXHRcdFx0XHQnbWFya2VyLWVuZCc6J3VybCgjYXJyb3doZWFkJytvbGxEYXRhLmFycm93Q29sb3IrJyknLCBzdHJva2U6b2xsRGF0YS5hcnJvd0NvbG9yLCAgfSxcclxuXHRcdC8vXHRjbHM6IFwicnViaWstY3ViZS1wbGwtbGluZS1hcnJvd1wiIH0pO1xyXG5cdFx0Ly99XHJcblx0XHQvL2NvbnNvbGUubG9nKCc8PCBydWJpa0N1YmVPTEwnKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogbmVnLiB2YWx1ZSAtPiBibGFjayBcclxuXHQgKiAwIC0+IGdyZXlcclxuXHQgKiAxIC0+IGRlZmF1bHQgY3ViZSBjb2xvciBvZiBwbHVnaW5cclxuXHQgKi9cclxuXHRwcml2YXRlIGdldENvbG9yKGNvbG9ySW5kZXg6c3RyaW5nKTpzdHJpbmcge1xyXG5cdFx0bGV0IGM6c3RyaW5nID0gJyMwMDAnOyBcclxuXHRcdGlmICghY29sb3JJbmRleCkge1xyXG5cdFx0XHRjID0gJyNmMDAnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3dpdGNoIChjb2xvckluZGV4KSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdGNhc2UgJ3InOiBjID0gJyNjYzAwMDAnOyBicmVhazsgLy8gZGFya2VyIHJlZCAoODAlKVxyXG5cdFx0XHRjYXNlICdSJzogYyA9ICcjZmYwMDAwJzsgYnJlYWs7IC8vIHJlZFxyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSAnbyc6IGMgPSAnI2NjNTAwMCc7IGJyZWFrOyAvLyBkYXJrZXIgb3JhbmdlXHJcblx0XHRcdGNhc2UgJ08nOiBjID0gJyNmZjY0MDAnOyBicmVhazsgLy8gb3JhbmdlXHJcblx0XHRcdFxyXG5cdFx0XHRjYXNlICdiJzogYyA9ICcjMDAwMDlhJzsgYnJlYWs7IC8vIGRhcmtlciBibHVlXHJcblx0XHRcdGNhc2UgJ0InOiBjID0gJyMwMDAwYmInOyBicmVhazsgLy8gYmx1ZVxyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSAnZyc6IGMgPSAnIzAwOWEwMCc7IGJyZWFrOyAvLyBkYXJrZXIgZ3JlZW5cclxuXHRcdFx0Y2FzZSAnRyc6IGMgPSAnIzAwYmIwMCc7IGJyZWFrOyAvLyBncmVlblxyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSAnWSc6IGMgPSAnI2ZmMDAwMCc7IGJyZWFrOyAvLyB5ZWxsb3dcclxuXHRcdFx0Y2FzZSAneSc6IGMgPSAnI2NjMDAwMCc7IGJyZWFrOyAvLyBkYXJrZXIgeWVsbG93XHJcblx0XHRcdFx0XHJcblx0XHRcdGNhc2UgJ1cnOiBjID0gJyNmZmZmZmYnOyBicmVhazsgLy8gd2hpdGVcclxuXHRcdFx0Y2FzZSAndyc6IGMgPSAnI2NjY2NjYyc7IGJyZWFrOyAvLyBncmV5ICg4MCUpXHJcblx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRjYXNlICcuJzogYyA9ICcjNDQ0JzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJzAnOiBjID0gJyM0NDQnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAnMSc6IGMgPSAnI2ZmMCc7IGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OiBjID0gJyMwMDAnOyBicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y29uc29sZS5sb2coXCJnZXRDb2xvcigpICdcIitjb2xvckluZGV4K1wiJyA9PiAnXCIrYytcIidcIilcclxuXHRcdHJldHVybiBjO1xyXG5cdH1cclxuXHJcbn1cclxuIiwgImltcG9ydCB7IE1hcmtkb3duUmVuZGVyQ2hpbGQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IFJ1YmlrQ3ViZUFsZ29zIGZyb20gXCIuL21haW5cIjtcclxuaW1wb3J0IHsgUExMIH0gZnJvbSBcIi4vUkNBLVBMTC1DYWxjdWxhdGlvbnNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUExMdmlldyBleHRlbmRzIE1hcmtkb3duUmVuZGVyQ2hpbGQge1xyXG5cdHNvdXJjZTogc3RyaW5nO1xyXG5cdHBsdWdpbjogUnViaWtDdWJlQWxnb3M7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRzb3VyY2U6IHN0cmluZyxcclxuXHRcdHBsdWdpbjogUnViaWtDdWJlQWxnb3MsXHJcblx0XHRlbGVtZW50OiBIVE1MRWxlbWVudFxyXG5cdCkge1xyXG5cdFx0c3VwZXIoZWxlbWVudCk7XHJcblx0XHR0aGlzLnNvdXJjZSA9IHNvdXJjZTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdH1cclxuXHRcclxuXHRvbmxvYWQoKSB7XHJcblx0XHQvKlxyXG5cdFx0ICogUmVnaXN0ZXIgbGlzdGVuZXIgd2hpY2ggaW5zdGFudGx5IHJlZHJhd3MgcnViaWsgY3ViZXMgd2hpbGUgY2hhbmdpbmcgcGx1Z2luIHNldHRpbmdzLlxyXG5cdFx0ICovXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcblx0XHRcdFx0XCJydWJpazpyZXJlbmRlci1tYXJrZG93bi1jb2RlLWJsb2NrLXByb2Nlc3NvcnNcIixcclxuXHRcdFx0XHR0aGlzLmRpc3BsYXkuYmluZCh0aGlzKVxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdH1cclxuXHRcclxuXHRkaXNwbGF5KCkge1xyXG5cdFx0dGhpcy5lbGVtZW50LmVtcHR5KCk7XHJcblx0XHRjb25zdCByb3dzID0gdGhpcy5zb3VyY2Uuc3BsaXQoJ1xcbicpLmZpbHRlcigocm93KSA9PiByb3cubGVuZ3RoID4gMCk7XHJcblx0XHRsZXQgcGxsRGF0YSA9IG5ldyBQTEwodGhpcy5wbHVnaW4uc2V0dGluZ3MpOyBcclxuXHRcdHBsbERhdGEuaW50ZXJwcmV0Q29kZUJsb2NrKHJvd3MpOyBcclxuXHRcdGxldCB3aWR0aFhoZWlnaHQgPSBwbGxEYXRhLmdldEN1YmVTaXplKCk7XHJcblx0XHRsZXQgQVJST1dTID0gcGxsRGF0YS5nZXRBcnJvd0Nvb3JkaW5hdGVzKCk7XHJcblxyXG5cdFx0aWYgKGZhbHNlID09PSBwbGxEYXRhLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bCl7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBcIi0tLSBSdWJpayBDdWJlIFBMTCBwYXR0ZXJuIGludGVycHJldGF0aW9uIGZhaWxlZCAtLS1cIiB9KTtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdGYXVsdHkgaW5wdXQ6JyB9KTtcclxuXHRcdFx0bGV0IGV4cGxhbmF0aW9uRGl2ID0gdGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdkaXYnKTtcclxuXHRcdFx0ZXhwbGFuYXRpb25EaXYuY3JlYXRlRWwoJ2InLCB7IHRleHQ6ICdcIicrcGxsRGF0YS5sYXN0Tm9uSW50ZXJwcmV0YWJsZUxpbmUrJ1wiJywgY2xzOidydWJpay1jdWJlLXdhcm5pbmctdGV4dCcgIH0pO1xyXG5cdFx0XHRpZiAocGxsRGF0YS5yZWFzb25Gb3JGYWlsdXJlKSB7XHJcblx0XHRcdFx0ZXhwbGFuYXRpb25EaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1JlYXNvbjogJytwbGxEYXRhLnJlYXNvbkZvckZhaWx1cmV9KTtcclxuXHRcdFx0fVx0XHRcdFx0XHJcblx0XHRcdHJldHVybjsgXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB3ID0gd2lkdGhYaGVpZ2h0WzBdOyBcclxuXHRcdGxldCBoID0gd2lkdGhYaGVpZ2h0WzFdOyBcclxuXHRcdGxldCBtYWluU3ZnID0gdGhpcy5lbGVtZW50LmNyZWF0ZVN2Zygnc3ZnJywgeyBhdHRyOiB7IHZpZXdCb3g6JzAgMCAnK3crJyAnK2gsIHdpZHRoOncsIGhlaWdodDpoIH0sIGNsczogXCJydWJpay1jdWJlLXBsbFwiIH0pO1xyXG5cdFx0bGV0IGRlZnMgPSBtYWluU3ZnLmNyZWF0ZVN2ZygnZGVmcycpO1xyXG5cdFx0bGV0IG1hcmtlciA9IGRlZnMuY3JlYXRlU3ZnKCdtYXJrZXInLCB7IGF0dHI6IHtpZDpcImFycm93aGVhZFwiK3BsbERhdGEuYXJyb3dDb2xvciwgbWFya2VyV2lkdGg6XCIxMFwiLCBtYXJrZXJIZWlnaHQ6XCI3XCIsIHJlZlg6XCI5XCIsIHJlZlk6XCIzLjVcIiwgb3JpZW50OlwiYXV0b1wifX0pO1xyXG5cdFx0bWFya2VyLmNyZWF0ZVN2ZygncG9seWdvbicsIHsgYXR0cjoge3BvaW50czpcIjAgMCwgMTAgMy41LCAwIDdcIiAsIGZpbGw6cGxsRGF0YS5hcnJvd0NvbG9yfX0pO1xyXG5cdFx0XHJcblx0XHQvKiBZZWxsb3cgYmFzZSByZWN0ICovXHJcblx0XHRtYWluU3ZnLmNyZWF0ZVN2ZygncmVjdCcsIHsgYXR0cjogeyBmaWxsOnBsbERhdGEuY3ViZUNvbG9yIH0sIGNsczogXCJydWJpay1jdWJlLXBsbC1yZWN0XCIgfSk7IFxyXG5cdFx0XHJcblx0XHQvKlxyXG5cdFx0ICogQmFja2dyb3VuZCBncmlkOyBzdGF0aWMsIHVucmVzcG9uc2l2ZSwgYmxhY2sgcmVjdGFuZ3VsYXIgbGluZXNcclxuXHRcdCAqL1xyXG5cdFx0LyogVmVydGljYWwgbGluZXMgKi9cclxuXHRcdGZvciAobGV0IHg6bnVtYmVyID0gMTAwOyB4IDwgdzsgeCs9MTAwKSB7XHJcblx0XHRcdG1haW5TdmcuY3JlYXRlU3ZnKCdsaW5lJywgeyBhdHRyOiB7IHgxOngsIHgyOngsIHkxOjAsIHkyOmggfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsLWxpbmUtZ3JpZFwiIH0pO1xyXG5cdFx0fVxyXG5cdFx0LyogSG9yaXpvbnRhbCBsaW5lcyAqLyBcclxuXHRcdGZvciAobGV0IHk6bnVtYmVyID0gMTAwOyB5IDwgaDsgeSs9MTAwKSB7XHJcblx0XHRcdG1haW5TdmcuY3JlYXRlU3ZnKCdsaW5lJywgeyBhdHRyOiB7IHgxOjAsIHgyOncsIHkxOnksIHkyOnkgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsLWxpbmUtZ3JpZFwiIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgQVJST1dTLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxldCBhcnJvdyA9IEFSUk9XU1tpXTtcclxuXHRcdFx0bGV0IGFycm93U3RhcnRDb29yZCA9IGFycm93WzBdO1xyXG5cdFx0XHRsZXQgYXJyb3dFbmRDb29yZCA9IGFycm93WzFdO1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKFwiQXJyb3cgZ29lcyBmcm9tIFwiK2Fycm93U3RhcnRDb29yZCtcIiB0byBcIithcnJvd0VuZENvb3JkKTtcclxuXHRcdFx0bWFpblN2Zy5jcmVhdGVTdmcoJ2xpbmUnLCB7IGF0dHI6IHsgeDE6YXJyb3dTdGFydENvb3JkWzBdLCB4MjphcnJvd0VuZENvb3JkWzBdLCB5MTphcnJvd1N0YXJ0Q29vcmRbMV0sIHkyOmFycm93RW5kQ29vcmRbMV0sXHJcblx0XHRcdFx0XHRcdCdtYXJrZXItZW5kJzondXJsKCNhcnJvd2hlYWQnK3BsbERhdGEuYXJyb3dDb2xvcisnKScsIHN0cm9rZTpwbGxEYXRhLmFycm93Q29sb3IsICB9LFxyXG5cdFx0XHRjbHM6IFwicnViaWstY3ViZS1wbGwtbGluZS1hcnJvd1wiIH0pO1xyXG5cdFx0fVxyXG5cdFx0Ly9jb25zb2xlLmxvZygnPDwgcnViaWtDdWJlUExMJyk7XHJcblx0fVxyXG5cclxuXHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUFrRDs7O0FDQWxELHNCQUFvRTtBQVE3RCxJQUFNLG1CQUEwQztBQUFBLEVBQ3RELFlBQVk7QUFBQTtBQUFBLEVBQ1osYUFBYTtBQUFBO0FBQ2Q7QUFFTyxJQUFNLDJCQUFOLGNBQXVDLGlDQUFpQjtBQUFBLEVBRzlELFlBQVksS0FBVSxRQUFrQjtB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QyxDQUFDO0FBRUQsU0FBSyxtQ0FBb0MsZ0JBQWdCLENBQUMsUUFBZSxJQUFJLFFBQVE7QUFDcEYsVUFBSSxTQUFTLElBQUksUUFBUSxRQUFRLE1BQU0sRUFBRSxDQUFDO0FBQUEsSUFDM0MsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sZ0JBQWdCLENBQUMsUUFBZ0IsU0FBdUI7QUFDdkQsZUFBTyxpQkFBaUIsSUFBSSx5QkFBeUIsQ0FBQztBQUFBLE1BQ3ZEO0FBQUEsSUFDRCxDQUFDO0FBR0QsU0FBSyxXQUFXO0FBQUEsTUFDZixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixnQkFBZ0IsQ0FBQyxRQUFnQixTQUF1QjtBQUN2RCxlQUFPLGlCQUFpQixJQUFJLHlCQUF5QixDQUFDO0FBQUEsTUFDdkQ7QUFBQSxJQUNELENBQUM7QUFJRCxTQUFLO0FBQUEsTUFDSixJQUFJO0FBQUEsUUFDSCxLQUFLO0FBQUEsUUFDTDtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRUEsV0FBVztBQUFBLEVBQ1g7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBb0M7QUFBQSxFQUU3RztBQUFBLEVBRUEsTUFBTSxlQUFlO0FBRXBCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUdqQyxTQUFLLElBQUksVUFBVTtBQUFBLE1BQ2xCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgIkRFRkFVTFQiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
