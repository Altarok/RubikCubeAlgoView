/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => RubikCubeAlgos
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/RubikCubeAlgoSettings.ts
var import_obsidian2 = require("obsidian");
var DEFAULT_SETTINGS = {
  CUBE_COLOR: "#ff0",
  /* yellow for cube */
  ARROW_COLOR: "#08f"
  /* sky blue for arrows */
};
var RubikCubeAlgoSettingsTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Default cube color").setDesc("Starting value: #ff0 (yellow)").addText((text) => text.setPlaceholder("3 or 6 digit hex value").setValue(this.plugin.settings.cubeColor).onChange(
      async (value) => {
        if (value.match("^#([a-f0-9]{3}){1,2}$")) {
          this.plugin.settings.cubeColor = value;
          await this.plugin.saveSettings();
        }
      }
    ));
    new import_obsidian.Setting(containerEl).setName("Default arrow color").setDesc("Starting value: #08f (sky blue)").addText((text) => text.setPlaceholder("3 or 6 digit hex value").setValue(this.plugin.settings.arrowColor).onChange(
      async (value) => {
        if (value.match("^#([a-f0-9]{3}){1,2}$")) {
          this.plugin.settings.arrowColor = value;
          await this.plugin.saveSettings();
        }
      }
    ));
  }
};

// src/RCA-OLL-Calculations.ts
var DEFAULT = {
  WIDTH: 3,
  /* default rubik cube width */
  HEIGHT: 3,
  /* default rubik cube height */
  CODE_BLOCK_TEMPLATE: "\n```rubikCubeOLL\n.000.\n01101\n10101\n01101\n.000.\n```"
};
var OLL = class {
  constructor(settings) {
    this.cells = new Array();
    this.width = DEFAULT.WIDTH;
    this.height = DEFAULT.HEIGHT;
    if (settings.cubeColor) {
      this.cubeColor = settings.cubeColor;
    } else {
      this.cubeColor = DEFAULT_SETTINGS.CUBE_COLOR;
    }
    if (settings.arrowColor) {
      this.arrowColor = settings.arrowColor;
    } else {
      this.arrowColor = DEFAULT_SETTINGS.ARROW_COLOR;
    }
    this.arrows = "";
    this.codeBlockInterpretationSuccessful = true;
  }
  setDimension(w, h) {
    this.width = w;
    this.height = h;
  }
  setCubeColor(s) {
    this.cubeColor = "#" + s;
  }
  setArrowColor(s) {
    this.arrowColor = "#" + s;
  }
  setArrows(s) {
    this.arrows = s;
  }
  toString() {
    return "pll[cubeClr'" + this.cubeColor + "',arrowColor'" + this.arrowColor + "',arrows'" + this.arrows + "']";
  }
  interpretCodeBlock(rows) {
    if (rows.length < 4) {
      return this.fuckThisShitUp("[no input]", "Input for OLL should contain at least 4 lines!");
    } else if (false === rows[0].match("^\\..+?\\.$") || false === rows[rows.length - 1].match("^\\..+?\\.$")) {
      return this.fuckThisShitUp(rows[0], "First and last line should start and end on a dot ('.')!");
    }
    let expectedRowLength = rows[0].length;
    this.width = rows[0].length - 2;
    this.height = rows.length - 2;
    for (let r = 0; r < rows.length; r++) {
      let row = rows[r];
      if (row.length != expectedRowLength) {
        return this.fuckThisShitUp(row, "Inconsistent row length. Expected: " + expectedRowLength);
      }
      let parsedRow = new Array();
      for (let i = 0; i < row.length; i++) {
        let c = row[i];
        if (c === ".") {
          parsedRow[parsedRow.length] = -1;
        } else if (i === 0 || r === 0 || r === rows.length - 1 || i === row.length - 1) {
          parsedRow[parsedRow.length] = c.toLowerCase();
        } else {
          parsedRow[parsedRow.length] = c.toUpperCase();
        }
      }
      this.cells[this.cells.length] = parsedRow;
    }
    this.logCellsTable();
    return this.cells;
  }
  logCellsTable() {
    let log = "logCellsTable:\n";
    for (let i = 0; i < this.cells.length; i++) {
      log = log + this.cells[i] + "\n";
    }
    console.log(log);
  }
  //private calculateCoordinates(){
  //  this.COORDINATES[0] = [];
  //  let index:number=1;
  //  /* reverse loop order to give x coordinates more priority */
  //  for (let h = 0; h < this.height; h++) {
  //    for (let w = 0; w < this.width; w++) {
  //      this.COORDINATES[index++] = [w*100 + 50, h*100 + 50];
  //    }
  //  }
  //}
  fuckThisShitUp(mandatoryLastLineNotInterpretable, optionalReasonForFailure) {
    this.codeBlockInterpretationSuccessful = false;
    this.lastNonInterpretableLine = mandatoryLastLineNotInterpretable;
    if (optionalReasonForFailure) {
      this.reasonForFailure = optionalReasonForFailure;
      console.log('Unexpected OLL input: "' + mandatoryLastLineNotInterpretable + '" (' + optionalReasonForFailure + ")");
    } else {
      console.log('Unexpected OLL input: "' + mandatoryLastLineNotInterpretable + '" ');
    }
  }
  getDimensions() {
    let wXh = [this.width * 100 + 100, this.height * 100 + 100];
    return wXh;
  }
  static get3by3CodeBlockTemplate() {
    return DEFAULT.CODE_BLOCK_TEMPLATE;
  }
};

// src/ArrowCalculations.ts
var DEFAULT2 = {
  WIDTH: 3,
  /* default rubik cube width */
  HEIGHT: 3,
  /* default rubik cube height */
  CODE_BLOCK_TEMPLATE: "\n```rubikCubePLL\ndimension:3,3 // width,height\ncubeColor:ff0 // yellow cube, optional parameter\narrowColor:08f // sky blue arrows, optional parameter\narrows:1.1-1.3,7+9\n```"
};
var ArrowCalculations = class {
  constructor(rows, settings) {
    this.COORDINATES = new Array();
    this.width = DEFAULT2.WIDTH;
    this.height = DEFAULT2.HEIGHT;
    if (settings.cubeColor) {
      this.cubeColor = settings.cubeColor;
    } else {
      this.cubeColor = DEFAULT_SETTINGS.CUBE_COLOR;
    }
    if (settings.arrowColor) {
      this.arrowColor = settings.arrowColor;
    } else {
      this.arrowColor = DEFAULT_SETTINGS.ARROW_COLOR;
    }
    this.arrows = "";
    this.codeBlockInterpretationSuccessful = true;
  }
  setDimension(w, h) {
    this.width = w;
    this.height = h;
  }
  setCubeColor(s) {
    this.cubeColor = "#" + s;
  }
  setArrowColor(s) {
    this.arrowColor = "#" + s;
  }
  setArrows(s) {
    this.arrows = s;
  }
  toString() {
    return "pll[cubeClr'" + this.cubeColor + "',arrowColor'" + this.arrowColor + "',arrows'" + this.arrows + "']";
  }
  interpretCodeBlock(rows) {
    if (rows.length === 0) {
      return this.fuckThisShitUp("[no input]", "at least 1 parameter needed: 'dimension/cubeColor/arrowColor/arrows'");
    }
    for (let r = 0; r < rows.length; r++) {
      let row = rows[r];
      if (row.startsWith("dimension:")) {
        if (!row.match("^dimension:\\d+,\\d+( //.*)?")) {
          return this.fuckThisShitUp(row, 'invalid dimension, expected "dimension:[2-10],[2-10]" // optional comment goes here');
        }
        let wXh = row.split(" ")[0].trim().replace("dimension:", "");
        let wXhSplit = wXh.split(",");
        let w = wXhSplit[0];
        let h = wXhSplit[1];
        if (w < 2 || h < 2 || w > 10 || h > 10) {
          return this.fuckThisShitUp(row, "invalid dimensions - expected: 2 < width/height < 10");
        }
        this.setDimension(w, h);
      } else if (row.match("^cubeColor:([a-f0-9]{3}){1,2}( //.*)?")) {
        let newCubClr = row.split(" ")[0].trim().replace("cubeColor:", "");
        this.setCubeColor(newCubClr);
      } else if (row.match("^arrowColor:([a-f0-9]{3}){1,2}( //.*)?")) {
        let newAroClr = row.split(" ")[0].trim().replace("arrowColor:", "");
        this.setArrowColor(newAroClr);
      } else if (row.match("^arrows:\\d+(\\.\\d+)?(-|\\+)\\d+(\\.\\d+)?(,\\d+(\\.\\d+)?(-|\\+)\\d+(\\.\\d+)?)*( //.*)?")) {
        let newArrows = row.split(" ")[0].trim().replace("arrows:", "");
        this.setArrows(newArrows);
      } else {
        return this.fuckThisShitUp(row, "unexpected input, expected: 'dimension', 'cubeColor', 'arrowColor' or 'arrows'");
      }
    }
    this.calculateCoordinates();
  }
  calculateCoordinates() {
    this.COORDINATES[0] = [];
    let index = 1;
    for (let h = 0; h < this.height; h++) {
      for (let w = 0; w < this.width; w++) {
        this.COORDINATES[index++] = [w * 100 + 50, h * 100 + 50];
      }
    }
  }
  fuckThisShitUp(mandatoryLastLineNotInterpretable, optionalReasonForFailure) {
    this.codeBlockInterpretationSuccessful = false;
    this.lastNonInterpretableLine = mandatoryLastLineNotInterpretable;
    if (optionalReasonForFailure) {
      this.reasonForFailure = optionalReasonForFailure;
    }
    console.log('Unexpected PLL input: "' + mandatoryLastLineNotInterpretable + '"');
  }
  getCubeSize() {
    let wXh = [this.width * 100, this.height * 100];
    return wXh;
  }
  getArrowCoordinates() {
    let ARROWS = new Array();
    let allArrowCoords = this.arrows.split(",").filter((x) => x.length > 0);
    let index = 0;
    let isDoubleSided = false;
    for (let i = 0; i < allArrowCoords.length; i++) {
      isDoubleSided = false;
      let singleArrowCoords = allArrowCoords[i];
      let singleArrowCoordsFrom;
      let singleArrowCoordsTo;
      if (singleArrowCoords.match("\\d-\\d")) {
        let singleArrowCoordsSplit = singleArrowCoords.split("-");
        singleArrowCoordsFrom = singleArrowCoordsSplit[0];
        singleArrowCoordsTo = singleArrowCoordsSplit[1];
      } else {
        let singleArrowCoordsSplit = singleArrowCoords.split("+");
        singleArrowCoordsFrom = singleArrowCoordsSplit[0];
        singleArrowCoordsTo = singleArrowCoordsSplit[1];
        isDoubleSided = true;
      }
      if (singleArrowCoordsFrom === singleArrowCoordsTo) {
        this.fuckThisShitUp(singleArrowCoords, "arrow is pointing to its starting point");
        continue;
      }
      let arrowStart;
      let arrowEnd;
      if (singleArrowCoordsFrom.match("^[0-9]+$")) {
        arrowStart = this.COORDINATES[singleArrowCoordsFrom];
      } else {
        let semanticVersion = singleArrowCoordsFrom.split(".");
        let major = +semanticVersion[0];
        let minor = +semanticVersion[1];
        let c = (major - 1) * this.width + minor;
        arrowStart = this.COORDINATES[c];
      }
      if (singleArrowCoordsTo.match("^[0-9]+$")) {
        arrowEnd = this.COORDINATES[singleArrowCoordsTo];
      } else {
        let semanticVersion = singleArrowCoordsTo.split(".");
        let major = +semanticVersion[0];
        let minor = +semanticVersion[1];
        let c = (major - 1) * this.width + minor;
        arrowEnd = this.COORDINATES[c];
      }
      ARROWS[index++] = [arrowStart, arrowEnd];
      if (isDoubleSided) {
        ARROWS[index++] = [arrowEnd, arrowStart];
      }
    }
    return ARROWS;
  }
  static get3by3CodeBlockTemplate() {
    return DEFAULT2.CODE_BLOCK_TEMPLATE;
  }
};

// src/RCA-PLL-Calculations.ts
var DEFAULT3 = {
  WIDTH: 3,
  /* default rubik cube width */
  HEIGHT: 3,
  /* default rubik cube height */
  CODE_BLOCK_TEMPLATE: "\n```rubikCubePLL\ndimension:3,3 // width,height\ncubeColor:ff0 // yellow cube, optional parameter\narrowColor:08f // sky blue arrows, optional parameter\narrows:1.1-1.3,7+9\n```"
};
var PLL = class extends ArrowCalculations {
  //constructor(settings:RubikCubeAlgosSettings) {
  constructor(rows, settings) {
    super(rows, settings);
    this.COORDINATES = new Array();
    this.width = DEFAULT3.WIDTH;
    this.height = DEFAULT3.HEIGHT;
    if (settings.cubeColor) {
      this.cubeColor = settings.cubeColor;
    } else {
      this.cubeColor = DEFAULT_SETTINGS.CUBE_COLOR;
    }
    if (settings.arrowColor) {
      this.arrowColor = settings.arrowColor;
    } else {
      this.arrowColor = DEFAULT_SETTINGS.ARROW_COLOR;
    }
    this.arrows = "";
    this.codeBlockInterpretationSuccessful = true;
  }
  setDimension(w, h) {
    this.width = w;
    this.height = h;
  }
  setCubeColor(s) {
    this.cubeColor = "#" + s;
  }
  setArrowColor(s) {
    this.arrowColor = "#" + s;
  }
  setArrows(s) {
    this.arrows = s;
  }
  toString() {
    return "pll[cubeClr'" + this.cubeColor + "',arrowColor'" + this.arrowColor + "',arrows'" + this.arrows + "']";
  }
  interpretCodeBlock(rows) {
    if (rows.length === 0) {
      return this.fuckThisShitUp("[no input]", "at least 1 parameter needed: 'dimension/cubeColor/arrowColor/arrows'");
    }
    for (let r = 0; r < rows.length; r++) {
      let row = rows[r];
      if (row.startsWith("dimension:")) {
        if (!row.match("^dimension:\\d+,\\d+( //.*)?")) {
          return this.fuckThisShitUp(row, 'invalid dimension, expected "dimension:[2-10],[2-10]" // optional comment goes here');
        }
        let wXh = row.split(" ")[0].trim().replace("dimension:", "");
        let wXhSplit = wXh.split(",");
        let w = wXhSplit[0];
        let h = wXhSplit[1];
        if (w < 2 || h < 2 || w > 10 || h > 10) {
          return this.fuckThisShitUp(row, "invalid dimensions - expected: 2 < width/height < 10");
        }
        this.setDimension(w, h);
      } else if (row.match("^cubeColor:([a-f0-9]{3}){1,2}( //.*)?")) {
        let newCubClr = row.split(" ")[0].trim().replace("cubeColor:", "");
        this.setCubeColor(newCubClr);
      } else if (row.match("^arrowColor:([a-f0-9]{3}){1,2}( //.*)?")) {
        let newAroClr = row.split(" ")[0].trim().replace("arrowColor:", "");
        this.setArrowColor(newAroClr);
      } else if (row.match("^arrows:\\d+(\\.\\d+)?(-|\\+)\\d+(\\.\\d+)?(,\\d+(\\.\\d+)?(-|\\+)\\d+(\\.\\d+)?)*( //.*)?")) {
        let newArrows = row.split(" ")[0].trim().replace("arrows:", "");
        this.setArrows(newArrows);
      } else {
        return this.fuckThisShitUp(row, "unexpected input, expected: 'dimension', 'cubeColor', 'arrowColor' or 'arrows'");
      }
    }
    this.calculateCoordinates();
  }
  calculateCoordinates() {
    this.COORDINATES[0] = [];
    let index = 1;
    for (let h = 0; h < this.height; h++) {
      for (let w = 0; w < this.width; w++) {
        this.COORDINATES[index++] = [w * 100 + 50, h * 100 + 50];
      }
    }
  }
  fuckThisShitUp(mandatoryLastLineNotInterpretable, optionalReasonForFailure) {
    this.codeBlockInterpretationSuccessful = false;
    this.lastNonInterpretableLine = mandatoryLastLineNotInterpretable;
    if (optionalReasonForFailure) {
      this.reasonForFailure = optionalReasonForFailure;
    }
    console.log('Unexpected PLL input: "' + mandatoryLastLineNotInterpretable + '"');
  }
  getCubeSize() {
    let wXh = [this.width * 100, this.height * 100];
    return wXh;
  }
  getArrowCoordinates() {
    let ARROWS = new Array();
    let allArrowCoords = this.arrows.split(",").filter((x) => x.length > 0);
    let index = 0;
    let isDoubleSided = false;
    for (let i = 0; i < allArrowCoords.length; i++) {
      isDoubleSided = false;
      let singleArrowCoords = allArrowCoords[i];
      let singleArrowCoordsFrom;
      let singleArrowCoordsTo;
      if (singleArrowCoords.match("\\d-\\d")) {
        let singleArrowCoordsSplit = singleArrowCoords.split("-");
        singleArrowCoordsFrom = singleArrowCoordsSplit[0];
        singleArrowCoordsTo = singleArrowCoordsSplit[1];
      } else {
        let singleArrowCoordsSplit = singleArrowCoords.split("+");
        singleArrowCoordsFrom = singleArrowCoordsSplit[0];
        singleArrowCoordsTo = singleArrowCoordsSplit[1];
        isDoubleSided = true;
      }
      if (singleArrowCoordsFrom === singleArrowCoordsTo) {
        this.fuckThisShitUp(singleArrowCoords, "arrow is pointing to its starting point");
        continue;
      }
      let arrowStart;
      let arrowEnd;
      if (singleArrowCoordsFrom.match("^[0-9]+$")) {
        arrowStart = this.COORDINATES[singleArrowCoordsFrom];
      } else {
        let semanticVersion = singleArrowCoordsFrom.split(".");
        let major = +semanticVersion[0];
        let minor = +semanticVersion[1];
        let c = (major - 1) * this.width + minor;
        arrowStart = this.COORDINATES[c];
      }
      if (singleArrowCoordsTo.match("^[0-9]+$")) {
        arrowEnd = this.COORDINATES[singleArrowCoordsTo];
      } else {
        let semanticVersion = singleArrowCoordsTo.split(".");
        let major = +semanticVersion[0];
        let minor = +semanticVersion[1];
        let c = (major - 1) * this.width + minor;
        arrowEnd = this.COORDINATES[c];
      }
      ARROWS[index++] = [arrowStart, arrowEnd];
      if (isDoubleSided) {
        ARROWS[index++] = [arrowEnd, arrowStart];
      }
    }
    return ARROWS;
  }
  static get3by3CodeBlockTemplate() {
    return DEFAULT3.CODE_BLOCK_TEMPLATE;
  }
};

// src/RCA-OLL-MarkdownPostProcessor.ts
var import_obsidian3 = require("obsidian");
var OLLView = class extends import_obsidian3.MarkdownRenderChild {
  constructor(source, plugin, element) {
    super(element);
    this.source = source;
    this.plugin = plugin;
    this.element = element;
    this.display();
  }
  onload() {
  }
  display() {
    this.element.empty();
    const rows = this.source.split("\n").filter((row) => row.length > 0);
    let ollData = new OLL(this.plugin.settings);
    let cells = ollData.interpretCodeBlock(rows);
    let widthXheight = ollData.getDimensions();
    if (false === ollData.codeBlockInterpretationSuccessful) {
      this.element.createEl("div", { text: "--- Rubik Cube OLL pattern interpretation failed ---" });
      this.element.createEl("div", { text: "Faulty input:" });
      let explanationDiv = this.element.createEl("div");
      explanationDiv.createEl("b", { text: '"' + ollData.lastNonInterpretableLine + '"', cls: "rubik-cube-warning-text" });
      if (ollData.reasonForFailure) {
        explanationDiv.createEl("div", { text: "Reason: " + ollData.reasonForFailure });
      }
      return;
    }
    let w = widthXheight[0];
    let h = widthXheight[1];
    console.log("rubikCubeOLL: w=" + w + ",h=" + h);
    let mainSvg = this.element.createSvg("svg", { attr: { width: 200, height: 200, viewBox: "0 0 " + w + " " + h }, cls: "rubik-cube-pll" });
    let cubeWidth = rows[0].length;
    let cubeHeight = rows.length;
    for (let x = 0; x < cubeWidth - 2; x++) {
      mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: 0, width: "100", height: "50", fill: this.getColor(cells[0][x + 1]) }, cls: "rubik-cube-rect" });
    }
    for (let x = 0; x < cubeWidth - 2; x++) {
      mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: h - 50, width: "100", height: "50", fill: this.getColor(cells[cells.length - 1][x + 1]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      mainSvg.createSvg("rect", { attr: { x: 0, y: 50 + y * 100, width: 50, height: 100, fill: this.getColor(cells[y + 1][0]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      mainSvg.createSvg("rect", { attr: { x: w - 50, y: 50 + y * 100, width: 50, height: 100, fill: this.getColor(cells[y + 1][cells.length - 1]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      for (let x = 0; x < cubeWidth - 2; x++) {
        mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: 50 + y * 100, width: 100, height: 100, fill: this.getColor(cells[y + 1][x + 1]) }, cls: "rubik-cube-pll-line-grid" });
      }
    }
    for (let x = 50; x < w; x += 100) {
      mainSvg.createSvg("line", { attr: { x1: x, x2: x, y1: 0, y2: h }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let y = 50; y < h; y += 100) {
      mainSvg.createSvg("line", { attr: { x1: 0, x2: w, y1: y, y2: y }, cls: "rubik-cube-pll-line-grid" });
    }
  }
  getColor(colorIndex) {
    let c = "#000";
    if (!colorIndex) {
      c = "#f00";
    } else {
      switch (colorIndex) {
        case "r":
          c = "#cc0000";
          break;
        // darker red (80%)
        case "R":
          c = "#ff0000";
          break;
        // red
        case "o":
          c = "#cc5000";
          break;
        // darker orange
        case "O":
          c = "#ff6400";
          break;
        // orange
        case "b":
          c = "#00009a";
          break;
        // darker blue
        case "B":
          c = "#0000bb";
          break;
        // blue
        case "g":
          c = "#009a00";
          break;
        // darker green
        case "G":
          c = "#00bb00";
          break;
        // green
        case "Y":
          c = "#ff0000";
          break;
        // yellow
        case "y":
          c = "#cc0000";
          break;
        // darker yellow
        case "W":
          c = "#ffffff";
          break;
        // white
        case "w":
          c = "#cccccc";
          break;
        // grey (80%)
        case ".":
          c = "#444";
          break;
        case "0":
          c = "#444";
          break;
        case "1":
          c = "#ff0";
          break;
        default:
          c = "#000";
          break;
      }
    }
    console.log("getColor() '" + colorIndex + "' => '" + c + "'");
    return c;
  }
};

// src/RCA-PLL-MarkdownPostProcessor.ts
var import_obsidian4 = require("obsidian");
var PLLView = class extends import_obsidian4.MarkdownRenderChild {
  constructor(source, plugin, element) {
    super(element);
    this.source = source;
    this.plugin = plugin;
    this.element = element;
    this.display();
  }
  onload() {
    this.registerEvent(
      this.plugin.app.workspace.on(
        "rubik:rerender-markdown-code-block-processors",
        this.display.bind(this)
      )
    );
  }
  display() {
    this.element.empty();
    const rows = this.source.split("\n").filter((row) => row.length > 0);
    let pllData = new PLL(rows, this.plugin.settings);
    let widthXheight = pllData.getCubeSize();
    let ARROWS = pllData.getArrowCoordinates();
    if (false === pllData.codeBlockInterpretationSuccessful) {
      this.element.createEl("div", { text: "--- Rubik Cube PLL pattern interpretation failed ---" });
      this.element.createEl("div", { text: "Faulty input:" });
      let explanationDiv = this.element.createEl("div");
      explanationDiv.createEl("b", { text: '"' + pllData.lastNonInterpretableLine + '"', cls: "rubik-cube-warning-text" });
      if (pllData.reasonForFailure) {
        explanationDiv.createEl("div", { text: "Reason: " + pllData.reasonForFailure });
      }
      return;
    }
    let w = widthXheight[0];
    let h = widthXheight[1];
    let mainSvg = this.element.createSvg("svg", { attr: { viewBox: "0 0 " + w + " " + h, width: w, height: h }, cls: "rubik-cube-pll" });
    let defs = mainSvg.createSvg("defs");
    let marker = defs.createSvg("marker", { attr: { id: "arrowhead" + pllData.arrowColor, markerWidth: "10", markerHeight: "7", refX: "9", refY: "3.5", orient: "auto" } });
    marker.createSvg("polygon", { attr: { points: "0 0, 10 3.5, 0 7", fill: pllData.arrowColor } });
    mainSvg.createSvg("rect", { attr: { fill: pllData.cubeColor }, cls: "rubik-cube-pll-rect" });
    for (let x = 100; x < w; x += 100) {
      mainSvg.createSvg("line", { attr: { x1: x, x2: x, y1: 0, y2: h }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let y = 100; y < h; y += 100) {
      mainSvg.createSvg("line", { attr: { x1: 0, x2: w, y1: y, y2: y }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let i = 0; i < ARROWS.length; i++) {
      let arrow = ARROWS[i];
      let arrowStartCoord = arrow[0];
      let arrowEndCoord = arrow[1];
      mainSvg.createSvg("line", {
        attr: {
          x1: arrowStartCoord[0],
          x2: arrowEndCoord[0],
          y1: arrowStartCoord[1],
          y2: arrowEndCoord[1],
          "marker-end": "url(#arrowhead" + pllData.arrowColor + ")",
          stroke: pllData.arrowColor
        },
        cls: "rubik-cube-pll-line-arrow"
      });
    }
  }
};

// src/main.ts
var RubikCubeAlgos = class extends import_obsidian5.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerMarkdownCodeBlockProcessor(
      "rubikCubeOLL",
      (source, el, ctx) => {
        ctx.addChild(new OLLView(source, this, el));
      }
    );
    this.registerMarkdownCodeBlockProcessor(
      "rubikCubePLL",
      (source, el, ctx) => {
        ctx.addChild(new PLLView(source, this, el));
      }
    );
    this.addCommand({
      id: "RubikCubeAlgo-add-codeblock-template-3x3-OLL",
      name: "Add codeblock template: 3x3 OLL",
      editorCallback: (editor, view) => {
        editor.replaceSelection(OLL.get3by3CodeBlockTemplate());
      }
    });
    this.addCommand({
      id: "RubikCubeAlgo-add-codeblock-template-3x3-PLL",
      name: "Add codeblock template: 3x3 PLL",
      editorCallback: (editor, view) => {
        editor.replaceSelection(PLL.get3by3CodeBlockTemplate());
      }
    });
    this.addSettingTab(
      new RubikCubeAlgoSettingsTab(
        this.app,
        this
      )
    );
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.app.workspace.trigger(
      "rubik:rerender-markdown-code-block-processors"
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL1J1YmlrQ3ViZUFsZ29TZXR0aW5ncy50cyIsICJzcmMvUkNBLU9MTC1DYWxjdWxhdGlvbnMudHMiLCAic3JjL0Fycm93Q2FsY3VsYXRpb25zLnRzIiwgInNyYy9SQ0EtUExMLUNhbGN1bGF0aW9ucy50cyIsICJzcmMvUkNBLU9MTC1NYXJrZG93blBvc3RQcm9jZXNzb3IudHMiLCAic3JjL1JDQS1QTEwtTWFya2Rvd25Qb3N0UHJvY2Vzc29yLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBNYXJrZG93blJlbmRlckNoaWxkLCBQbHVnaW4sIEFwcCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBPTEwgfSBmcm9tIFwiLi9SQ0EtT0xMLUNhbGN1bGF0aW9uc1wiO1xyXG5pbXBvcnQgeyBQTEwgfSBmcm9tIFwiLi9SQ0EtUExMLUNhbGN1bGF0aW9uc1wiO1xyXG5pbXBvcnQgeyBPTExWaWV3IH0gZnJvbSBcIi4vUkNBLU9MTC1NYXJrZG93blBvc3RQcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgUExMVmlldyB9IGZyb20gXCIuL1JDQS1QTEwtTWFya2Rvd25Qb3N0UHJvY2Vzc29yXCI7XHJcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIFJ1YmlrQ3ViZUFsZ29TZXR0aW5nc1RhYiB9IGZyb20gXCIuL1J1YmlrQ3ViZUFsZ29TZXR0aW5nc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnViaWtDdWJlQWxnb3MgZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuICBhc3luYyBvbmxvYWQoKSB7XHJcblxyXG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcbiAgICB0aGlzLnJlZ2lzdGVyTWFya2Rvd25Db2RlQmxvY2tQcm9jZXNzb3IoIFwicnViaWtDdWJlT0xMXCIsXHJcbiAgICAgIChzb3VyY2UsIGVsLCBjdHgpID0+IHtcclxuICAgICAgICBjdHguYWRkQ2hpbGQobmV3IE9MTFZpZXcoc291cmNlLCB0aGlzLCBlbCkpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvciggXCJydWJpa0N1YmVQTExcIixcclxuICAgICAgKHNvdXJjZSwgZWwsIGN0eCkgPT4ge1xyXG4gICAgICAgIGN0eC5hZGRDaGlsZChuZXcgUExMVmlldyhzb3VyY2UsIHRoaXMsIGVsKSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgaWQ6IFwiUnViaWtDdWJlQWxnby1hZGQtY29kZWJsb2NrLXRlbXBsYXRlLTN4My1PTExcIixcclxuICAgICAgbmFtZTogXCJBZGQgY29kZWJsb2NrIHRlbXBsYXRlOiAzeDMgT0xMXCIsXHJcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB7XHJcbiAgICAgICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oT0xMLmdldDNieTNDb2RlQmxvY2tUZW1wbGF0ZSgpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgaWQ6IFwiUnViaWtDdWJlQWxnby1hZGQtY29kZWJsb2NrLXRlbXBsYXRlLTN4My1QTExcIixcclxuICAgICAgbmFtZTogXCJBZGQgY29kZWJsb2NrIHRlbXBsYXRlOiAzeDMgUExMXCIsXHJcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB7XHJcbiAgICAgICAgZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oUExMLmdldDNieTNDb2RlQmxvY2tUZW1wbGF0ZSgpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKFxyXG4gICAgICBuZXcgUnViaWtDdWJlQWxnb1NldHRpbmdzVGFiKFxyXG4gICAgICAgIHRoaXMuYXBwLFxyXG4gICAgICAgIHRoaXNcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcbiAgXHJcbiAgb251bmxvYWQoKSB7XHJcbiAgfVxyXG4gIFxyXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG4gIH1cclxuICBcclxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG4gICAgdGhpcy5hcHAud29ya3NwYWNlLnRyaWdnZXIoXHJcbiAgICAgIFwicnViaWs6cmVyZW5kZXItbWFya2Rvd24tY29kZS1ibG9jay1wcm9jZXNzb3JzXCJcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBSdWJpa0N1YmVBbGdvcyBmcm9tIFwiLi9tYWluXCI7XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUyA9IHtcclxuICBDVUJFX0NPTE9SOiBcIiNmZjBcIiwgLyogeWVsbG93IGZvciBjdWJlICovXHJcbiAgQVJST1dfQ09MT1I6IFwiIzA4ZlwiIC8qIHNreSBibHVlIGZvciBhcnJvd3MgKi9cclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBSdWJpa0N1YmVBbGdvU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICBcclxuICBjb25zdHJ1Y3RvcihhcHAsIHBsdWdpbikge1xyXG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgfVxyXG4gICBcclxuICBkaXNwbGF5KCkge1xyXG4gICAgXHJcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG4gIFxyXG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcclxuICBcclxuICAgIG5ldyBpbXBvcnRfb2JzaWRpYW4uU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoXCJEZWZhdWx0IGN1YmUgY29sb3JcIilcclxuICAgICAgLnNldERlc2MoXCJTdGFydGluZyB2YWx1ZTogI2ZmMCAoeWVsbG93KVwiKVxyXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT4gdGV4dFxyXG4gICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIjMgb3IgNiBkaWdpdCBoZXggdmFsdWVcIikgXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1YmVDb2xvcilcclxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICBpZiAodmFsdWUubWF0Y2goXCJeIyhbYS1mMC05XXszfSl7MSwyfSRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3ViZUNvbG9yID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICkpO1xyXG4gIFxyXG4gICAgbmV3IGltcG9ydF9vYnNpZGlhbi5TZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZShcIkRlZmF1bHQgYXJyb3cgY29sb3JcIilcclxuICAgICAgLnNldERlc2MoXCJTdGFydGluZyB2YWx1ZTogIzA4ZiAoc2t5IGJsdWUpXCIpXHJcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB0ZXh0XHJcbiAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiMyBvciA2IGRpZ2l0IGhleCB2YWx1ZVwiKVxyXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcnJvd0NvbG9yKVxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIGlmICh2YWx1ZS5tYXRjaChcIl4jKFthLWYwLTldezN9KXsxLDJ9JFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcnJvd0NvbG9yID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICkpO1xyXG4gIH1cclxufTsiLCAiaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUywgUnViaWtDdWJlQWxnb3NTZXR0aW5ncyB9IGZyb20gXCIuL1J1YmlrQ3ViZUFsZ29TZXR0aW5nc1wiO1xyXG5cclxuY29uc3QgREVGQVVMVCA9IHtcclxuICBXSURUSDogMywgLyogZGVmYXVsdCBydWJpayBjdWJlIHdpZHRoICovXHJcbiAgSEVJR0hUOiAzLCAvKiBkZWZhdWx0IHJ1YmlrIGN1YmUgaGVpZ2h0ICovXHJcbiAgQ09ERV9CTE9DS19URU1QTEFURTpcclxuJ1xcbmBgYHJ1YmlrQ3ViZU9MTFxcbicrXHJcbicuMDAwLlxcbicrXHJcbicwMTEwMVxcbicrXHJcbicxMDEwMVxcbicrXHJcbicwMTEwMVxcbicrXHJcbicuMDAwLlxcbicrXHJcbidgYGAnXHJcbn0gYXMgY29uc3Q7IFxyXG5cclxuY29uc3QgbGlnaHQ6bnVtYmVyID0gMTtcclxuY29uc3QgZGFyazpudW1iZXIgPSAwO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9MTCB7XHJcbiAgY2VsbHM6bnVtYmVyW107XHJcbiAgd2lkdGg6bnVtYmVyO1xyXG4gIGhlaWdodDpudW1iZXI7XHJcbiAgY3ViZUNvbG9yOnN0cmluZztcclxuICBhcnJvd0NvbG9yOnN0cmluZztcclxuICBhcnJvd3M6c3RyaW5nO1xyXG4gIGNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bDpib29sZWFuO1xyXG4gIGxhc3ROb25JbnRlcnByZXRhYmxlTGluZTpzdHJpbmc7IFxyXG4gIHJlYXNvbkZvckZhaWx1cmU6c3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5nczpSdWJpa0N1YmVBbGdvc1NldHRpbmdzKSB7XHJcbiAgICB0aGlzLmNlbGxzID0gbmV3IEFycmF5KCk7XHJcbiAgICB0aGlzLndpZHRoID0gREVGQVVMVC5XSURUSDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gREVGQVVMVC5IRUlHSFQ7XHJcbiAgICBcclxuICAgIGlmIChzZXR0aW5ncy5jdWJlQ29sb3Ipe1xyXG4gICAgICB0aGlzLmN1YmVDb2xvciA9IHNldHRpbmdzLmN1YmVDb2xvcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY3ViZUNvbG9yID0gREVGQVVMVF9TRVRUSU5HUy5DVUJFX0NPTE9SO1xyXG4gICAgfVxyXG4gICAgaWYgKHNldHRpbmdzLmFycm93Q29sb3Ipe1xyXG4gICAgICB0aGlzLmFycm93Q29sb3IgPSBzZXR0aW5ncy5hcnJvd0NvbG9yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hcnJvd0NvbG9yID0gREVGQVVMVF9TRVRUSU5HUy5BUlJPV19DT0xPUjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5hcnJvd3MgPSBcIlwiO1xyXG4gICAgdGhpcy5jb2RlQmxvY2tJbnRlcnByZXRhdGlvblN1Y2Nlc3NmdWw9dHJ1ZTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXREaW1lbnNpb24odzpudW1iZXIsaDpudW1iZXIpOnZvaWQge1xyXG4gICAgdGhpcy53aWR0aD13O1xyXG4gICAgdGhpcy5oZWlnaHQ9aDtcclxuICAgIC8vY29uc29sZS5sb2coXCJuZXcgZGltZW5zaW9uczogXCIrdytcIixcIitoKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXRDdWJlQ29sb3IoczpzdHJpbmcpOnZvaWQge1xyXG4gICAgdGhpcy5jdWJlQ29sb3IgPSAnIycrcztcclxuICAgIC8vY29uc29sZS5sb2coXCJuZXcgY3ViZSBjb2xvcjogJ1wiK3MrXCInXCIpO1xyXG4gIH1cclxuICBwcml2YXRlIHNldEFycm93Q29sb3IoczpzdHJpbmcpOnZvaWQge1xyXG4gICAgdGhpcy5hcnJvd0NvbG9yID0gJyMnK3M7XHJcbiAgICAvL2NvbnNvbGUubG9nKFwibmV3IGFycm93IGNvbG9yOiAnXCIrcytcIidcIik7XHJcbiAgfVxyXG4gIHByaXZhdGUgc2V0QXJyb3dzKHM6c3RyaW5nKTp2b2lkIHtcclxuICAgIHRoaXMuYXJyb3dzID0gcztcclxuICAgIC8vY29uc29sZS5sb2coXCJuZXcgYXJyb3dzOiAnXCIrcytcIidcIik7XHJcbiAgfVxyXG4gIHRvU3RyaW5nKCk6c3RyaW5nIHtcclxuICAgIHJldHVybiBcInBsbFtjdWJlQ2xyJ1wiK3RoaXMuY3ViZUNvbG9yK1wiJyxhcnJvd0NvbG9yJ1wiK3RoaXMuYXJyb3dDb2xvcitcIicsYXJyb3dzJ1wiK3RoaXMuYXJyb3dzK1wiJ11cIlxyXG4gIH1cclxuICBpbnRlcnByZXRDb2RlQmxvY2socm93czpzdHJpbmdbXSk6QXJyYXkge1xyXG4gICAgaWYgKHJvd3MubGVuZ3RoIDwgNCl7XHJcbiAgICAgIHJldHVybiB0aGlzLmZ1Y2tUaGlzU2hpdFVwKFwiW25vIGlucHV0XVwiLFwiSW5wdXQgZm9yIE9MTCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCA0IGxpbmVzIVwiKTtcclxuICAgIH0gZWxzZSBpZiAoZmFsc2UgPT09IHJvd3NbMF0ubWF0Y2goJ15cXFxcLi4rP1xcXFwuJCcpIHx8IGZhbHNlID09PSByb3dzW3Jvd3MubGVuZ3RoLTFdLm1hdGNoKCdeXFxcXC4uKz9cXFxcLiQnKSApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAocm93c1swXSxcIkZpcnN0IGFuZCBsYXN0IGxpbmUgc2hvdWxkIHN0YXJ0IGFuZCBlbmQgb24gYSBkb3QgKCcuJykhXCIpO1xyXG4gICAgfVxyXG4gICAgbGV0IGV4cGVjdGVkUm93TGVuZ3RoOm51bWJlciA9IHJvd3NbMF0ubGVuZ3RoO1xyXG4gICAgdGhpcy53aWR0aCA9IHJvd3NbMF0ubGVuZ3RoIC0gMjtcclxuICAgIHRoaXMuaGVpZ2h0ID0gcm93cy5sZW5ndGggLSAyO1xyXG4gICAgZm9yIChsZXQgciA9IDA7IHIgPCByb3dzLmxlbmd0aDsgcisrKSB7XHJcbiAgICAgIGxldCByb3cgPSByb3dzW3JdO1xyXG4gICAgICBpZiAocm93Lmxlbmd0aCAhPSBleHBlY3RlZFJvd0xlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZ1Y2tUaGlzU2hpdFVwKHJvdywnSW5jb25zaXN0ZW50IHJvdyBsZW5ndGguIEV4cGVjdGVkOiAnK2V4cGVjdGVkUm93TGVuZ3RoKTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgcGFyc2VkUm93Om51bWJlcltdID0gbmV3IEFycmF5KCk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93Lmxlbmd0aDsgaSsrKSB7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjOnN0cmluZyA9IHJvd1tpXTtcclxuICAgICAgICBpZiAoYz09PScuJykge1xyXG4gICAgICAgICAgcGFyc2VkUm93W3BhcnNlZFJvdy5sZW5ndGhdID0gLTE7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpID09PSAwIHx8IHIgPT09IDAgfHwgciA9PT0gcm93cy5sZW5ndGgtMSB8fCBpID09PSByb3cubGVuZ3RoLTEpIHtcclxuICAgICAgICAgIHBhcnNlZFJvd1twYXJzZWRSb3cubGVuZ3RoXSA9IGMudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFyc2VkUm93W3BhcnNlZFJvdy5sZW5ndGhdID0gYy50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNlbGxzW3RoaXMuY2VsbHMubGVuZ3RoXSA9IHBhcnNlZFJvdztcclxuICAgIH0gIFxyXG4gICAgLy90aGlzLmNhbGN1bGF0ZUNvb3JkaW5hdGVzKCk7XHJcbiAgICB0aGlzLmxvZ0NlbGxzVGFibGUoKTtcclxuICAgIHJldHVybiB0aGlzLmNlbGxzO1xyXG4gIH1cclxuICBwcml2YXRlIGxvZ0NlbGxzVGFibGUoKSB7XHJcbiAgICBsZXQgbG9nOnN0cmluZyA9ICdsb2dDZWxsc1RhYmxlOlxcbidcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jZWxscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsb2cgPSBsb2cgKyB0aGlzLmNlbGxzW2ldICsgJ1xcbic7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhsb2cpO1xyXG4gIH1cclxuICAvL3ByaXZhdGUgY2FsY3VsYXRlQ29vcmRpbmF0ZXMoKXtcclxuICAvLyAgdGhpcy5DT09SRElOQVRFU1swXSA9IFtdO1xyXG4gIC8vICBsZXQgaW5kZXg6bnVtYmVyPTE7XHJcbiAgLy8gIC8qIHJldmVyc2UgbG9vcCBvcmRlciB0byBnaXZlIHggY29vcmRpbmF0ZXMgbW9yZSBwcmlvcml0eSAqL1xyXG4gIC8vICBmb3IgKGxldCBoID0gMDsgaCA8IHRoaXMuaGVpZ2h0OyBoKyspIHtcclxuICAvLyAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHRoaXMud2lkdGg7IHcrKykge1xyXG4gIC8vICAgICAgdGhpcy5DT09SRElOQVRFU1tpbmRleCsrXSA9IFt3KjEwMCArIDUwLCBoKjEwMCArIDUwXTtcclxuICAvLyAgICB9XHJcbiAgLy8gIH1cclxuICAvL31cclxuICBwcml2YXRlIGZ1Y2tUaGlzU2hpdFVwKG1hbmRhdG9yeUxhc3RMaW5lTm90SW50ZXJwcmV0YWJsZTpzdHJpbmcsIG9wdGlvbmFsUmVhc29uRm9yRmFpbHVyZTpzdHJpbmcpOnZvaWR7XHJcbiAgICB0aGlzLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bD1mYWxzZTtcclxuICAgIHRoaXMubGFzdE5vbkludGVycHJldGFibGVMaW5lPW1hbmRhdG9yeUxhc3RMaW5lTm90SW50ZXJwcmV0YWJsZTtcclxuICAgIGlmIChvcHRpb25hbFJlYXNvbkZvckZhaWx1cmUpIHtcclxuICAgICAgdGhpcy5yZWFzb25Gb3JGYWlsdXJlPW9wdGlvbmFsUmVhc29uRm9yRmFpbHVyZTtcclxuICAgICAgY29uc29sZS5sb2coJ1VuZXhwZWN0ZWQgT0xMIGlucHV0OiBcIicrbWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlKydcIiAoJ1xyXG4gICAgICArb3B0aW9uYWxSZWFzb25Gb3JGYWlsdXJlK1xyXG4gICAgICAnKScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ1VuZXhwZWN0ZWQgT0xMIGlucHV0OiBcIicrbWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlKydcIiAnKTtcclxuICAgIH1cclxuICB9XHJcbiAgZ2V0RGltZW5zaW9ucygpe1xyXG4gICAgbGV0IHdYaCA9IFt0aGlzLndpZHRoKjEwMCArIDEwMCwgdGhpcy5oZWlnaHQqMTAwICsgMTAwXTtcclxuICAgIHJldHVybiB3WGg7XHJcbiAgfVxyXG4gIHN0YXRpYyBnZXQzYnkzQ29kZUJsb2NrVGVtcGxhdGUoKTpzdHJpbmcge1xyXG4gICAgcmV0dXJuIERFRkFVTFQuQ09ERV9CTE9DS19URU1QTEFURTtcclxuICB9XHJcbn07IiwgImltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIFJ1YmlrQ3ViZUFsZ29zU2V0dGluZ3MgfSBmcm9tIFwiLi9SdWJpa0N1YmVBbGdvU2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgQmFzZUNvZGVCbG9ja0ludGVycHJldGVyIH0gZnJvbSBcIi4vQmFzZUNvZGVCbG9ja0ludGVycHJldGVyXCI7XHJcblxyXG5cclxuY29uc3QgREVGQVVMVCA9IHtcclxuICBXSURUSDogMywgLyogZGVmYXVsdCBydWJpayBjdWJlIHdpZHRoICovXHJcbiAgSEVJR0hUOiAzLCAvKiBkZWZhdWx0IHJ1YmlrIGN1YmUgaGVpZ2h0ICovXHJcbiAgQ09ERV9CTE9DS19URU1QTEFURTpcclxuJ1xcbmBgYHJ1YmlrQ3ViZVBMTFxcbicrXHJcbidkaW1lbnNpb246MywzIC8vIHdpZHRoLGhlaWdodFxcbicrXHJcbidjdWJlQ29sb3I6ZmYwIC8vIHllbGxvdyBjdWJlLCBvcHRpb25hbCBwYXJhbWV0ZXJcXG4nK1xyXG4nYXJyb3dDb2xvcjowOGYgLy8gc2t5IGJsdWUgYXJyb3dzLCBvcHRpb25hbCBwYXJhbWV0ZXJcXG4nK1xyXG4nYXJyb3dzOjEuMS0xLjMsNys5XFxuJytcclxuJ2BgYCdcclxufSBhcyBjb25zdDsgXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEFycm93Q2FsY3VsYXRpb25zIHtcclxuICBDT09SRElOQVRFUztcclxuICB3aWR0aDpudW1iZXI7XHJcbiAgaGVpZ2h0Om51bWJlcjtcclxuICBjdWJlQ29sb3I6c3RyaW5nO1xyXG4gIGFycm93Q29sb3I6c3RyaW5nO1xyXG4gIGFycm93czpzdHJpbmc7XHJcbiAgY29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsOmJvb2xlYW47XHJcbiAgbGFzdE5vbkludGVycHJldGFibGVMaW5lOnN0cmluZzsgXHJcbiAgcmVhc29uRm9yRmFpbHVyZTpzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJvd3M6c3RyaW5nW10sIHNldHRpbmdzOlJ1YmlrQ3ViZUFsZ29zU2V0dGluZ3MpIHtcclxuICAgIHRoaXMuQ09PUkRJTkFURVMgPSBuZXcgQXJyYXkoKTtcclxuICAgIHRoaXMud2lkdGggPSBERUZBVUxULldJRFRIO1xyXG4gICAgdGhpcy5oZWlnaHQgPSBERUZBVUxULkhFSUdIVDtcclxuICAgIFxyXG4gICAgaWYgKHNldHRpbmdzLmN1YmVDb2xvcil7XHJcbiAgICAgIHRoaXMuY3ViZUNvbG9yID0gc2V0dGluZ3MuY3ViZUNvbG9yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jdWJlQ29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkNVQkVfQ09MT1I7XHJcbiAgICB9XHJcbiAgICBpZiAoc2V0dGluZ3MuYXJyb3dDb2xvcil7XHJcbiAgICAgIHRoaXMuYXJyb3dDb2xvciA9IHNldHRpbmdzLmFycm93Q29sb3I7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFycm93Q29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkFSUk9XX0NPTE9SO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLmFycm93cyA9IFwiXCI7XHJcbiAgICB0aGlzLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bD10cnVlO1xyXG4gIH1cclxuICBwcml2YXRlIHNldERpbWVuc2lvbih3Om51bWJlcixoOm51bWJlcik6dm9pZCB7XHJcbiAgICB0aGlzLndpZHRoPXc7XHJcbiAgICB0aGlzLmhlaWdodD1oO1xyXG4gICAgLy9jb25zb2xlLmxvZyhcIm5ldyBkaW1lbnNpb25zOiBcIit3K1wiLFwiK2gpO1xyXG4gIH1cclxuICBwcml2YXRlIHNldEN1YmVDb2xvcihzOnN0cmluZyk6dm9pZCB7XHJcbiAgICB0aGlzLmN1YmVDb2xvciA9ICcjJytzO1xyXG4gICAgLy9jb25zb2xlLmxvZyhcIm5ldyBjdWJlIGNvbG9yOiAnXCIrcytcIidcIik7XHJcbiAgfVxyXG4gIHByaXZhdGUgc2V0QXJyb3dDb2xvcihzOnN0cmluZyk6dm9pZCB7XHJcbiAgICB0aGlzLmFycm93Q29sb3IgPSAnIycrcztcclxuICAgIC8vY29uc29sZS5sb2coXCJuZXcgYXJyb3cgY29sb3I6ICdcIitzK1wiJ1wiKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXRBcnJvd3MoczpzdHJpbmcpOnZvaWQge1xyXG4gICAgdGhpcy5hcnJvd3MgPSBzO1xyXG4gICAgLy9jb25zb2xlLmxvZyhcIm5ldyBhcnJvd3M6ICdcIitzK1wiJ1wiKTtcclxuICB9XHJcbiAgdG9TdHJpbmcoKTpzdHJpbmcge1xyXG4gICAgcmV0dXJuIFwicGxsW2N1YmVDbHInXCIrdGhpcy5jdWJlQ29sb3IrXCInLGFycm93Q29sb3InXCIrdGhpcy5hcnJvd0NvbG9yK1wiJyxhcnJvd3MnXCIrdGhpcy5hcnJvd3MrXCInXVwiXHJcbiAgfVxyXG4gIGludGVycHJldENvZGVCbG9jayhyb3dzOnN0cmluZ1tdKTp2b2lkIHtcclxuICAgIGlmIChyb3dzLmxlbmd0aCA9PT0wKXtcclxuICAgICAgcmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAoXCJbbm8gaW5wdXRdXCIsXCJhdCBsZWFzdCAxIHBhcmFtZXRlciBuZWVkZWQ6ICdkaW1lbnNpb24vY3ViZUNvbG9yL2Fycm93Q29sb3IvYXJyb3dzJ1wiKTtcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKCdwbGwgYmVmb3JlOiAnK3RoaXMudG9TdHJpbmcoKSk7ICAgIFxyXG4gICAgZm9yIChsZXQgciA9IDA7IHIgPCByb3dzLmxlbmd0aDsgcisrKSB7XHJcbiAgICAgIGxldCByb3cgPSByb3dzW3JdO1xyXG4gICAgICBpZiAocm93LnN0YXJ0c1dpdGgoJ2RpbWVuc2lvbjonKSkge1xyXG4gICAgICAgIGlmICghcm93Lm1hdGNoKCdeZGltZW5zaW9uOlxcXFxkKyxcXFxcZCsoIC8vLiopPycpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5mdWNrVGhpc1NoaXRVcChyb3csJ2ludmFsaWQgZGltZW5zaW9uLCBleHBlY3RlZCBcImRpbWVuc2lvbjpbMi0xMF0sWzItMTBdXCIgLy8gb3B0aW9uYWwgY29tbWVudCBnb2VzIGhlcmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHdYaCA9IHJvdy5zcGxpdCgnICcpWzBdLnRyaW0oKS5yZXBsYWNlKCdkaW1lbnNpb246JywnJyk7XHJcbiAgICAgICAgbGV0IHdYaFNwbGl0ID0gd1hoLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgbGV0IHc9IHdYaFNwbGl0WzBdO1xyXG4gICAgICAgIGxldCBoPSB3WGhTcGxpdFsxXTtcclxuICAgICAgICBpZiAodzwyfHxoPDJ8fHc+MTB8fGg+MTApe1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAocm93LCdpbnZhbGlkIGRpbWVuc2lvbnMgLSBleHBlY3RlZDogMiA8IHdpZHRoL2hlaWdodCA8IDEwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0RGltZW5zaW9uKHcsaCk7XHJcbiAgICAgIH0gZWxzZSBpZiAocm93Lm1hdGNoKCdeY3ViZUNvbG9yOihbYS1mMC05XXszfSl7MSwyfSggLy8uKik/JykpIHtcclxuICAgICAgICBsZXQgbmV3Q3ViQ2xyID0gcm93LnNwbGl0KCcgJylbMF0udHJpbSgpLnJlcGxhY2UoJ2N1YmVDb2xvcjonLCcnKTtcclxuICAgICAgICB0aGlzLnNldEN1YmVDb2xvcihuZXdDdWJDbHIpO1xyXG4gICAgICB9IGVsc2UgaWYgKHJvdy5tYXRjaCgnXmFycm93Q29sb3I6KFthLWYwLTldezN9KXsxLDJ9KCAvLy4qKT8nKSkge1xyXG4gICAgICAgIGxldCBuZXdBcm9DbHIgPSByb3cuc3BsaXQoJyAnKVswXS50cmltKCkucmVwbGFjZSgnYXJyb3dDb2xvcjonLCcnKVxyXG4gICAgICAgIHRoaXMuc2V0QXJyb3dDb2xvcihuZXdBcm9DbHIpO1xyXG4gICAgICB9IGVsc2UgaWYgKHJvdy5tYXRjaCgnXmFycm93czpcXFxcZCsoXFxcXC5cXFxcZCspPygtfFxcXFwrKVxcXFxkKyhcXFxcLlxcXFxkKyk/KCxcXFxcZCsoXFxcXC5cXFxcZCspPygtfFxcXFwrKVxcXFxkKyhcXFxcLlxcXFxkKyk/KSooIC8vLiopPycpKSB7XHJcbiAgICAgICAgbGV0IG5ld0Fycm93cyA9IHJvdy5zcGxpdCgnICcpWzBdLnRyaW0oKS5yZXBsYWNlKCdhcnJvd3M6JywnJylcclxuICAgICAgICB0aGlzLnNldEFycm93cyhuZXdBcnJvd3MpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZ1Y2tUaGlzU2hpdFVwKHJvdywgXCJ1bmV4cGVjdGVkIGlucHV0LCBleHBlY3RlZDogJ2RpbWVuc2lvbicsICdjdWJlQ29sb3InLCAnYXJyb3dDb2xvcicgb3IgJ2Fycm93cydcIik7XHJcbiAgICAgIH1cclxuICAgIH0gIFxyXG4gICAgdGhpcy5jYWxjdWxhdGVDb29yZGluYXRlcygpO1xyXG4gIH1cclxuICBwcml2YXRlIGNhbGN1bGF0ZUNvb3JkaW5hdGVzKCl7XHJcbiAgICB0aGlzLkNPT1JESU5BVEVTWzBdID0gW107XHJcbiAgICBsZXQgaW5kZXg6bnVtYmVyPTE7XHJcbiAgICAvKiByZXZlcnNlIGxvb3Agb3JkZXIgdG8gZ2l2ZSB4IGNvb3JkaW5hdGVzIG1vcmUgcHJpb3JpdHkgKi9cclxuICAgIGZvciAobGV0IGggPSAwOyBoIDwgdGhpcy5oZWlnaHQ7IGgrKykge1xyXG4gICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHRoaXMud2lkdGg7IHcrKykge1xyXG4gICAgICAgIHRoaXMuQ09PUkRJTkFURVNbaW5kZXgrK10gPSBbdyoxMDAgKyA1MCwgaCoxMDAgKyA1MF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcHJpdmF0ZSBmdWNrVGhpc1NoaXRVcChtYW5kYXRvcnlMYXN0TGluZU5vdEludGVycHJldGFibGU6c3RyaW5nLCBvcHRpb25hbFJlYXNvbkZvckZhaWx1cmU6c3RyaW5nKXtcclxuICAgIHRoaXMuY29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsPWZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Tm9uSW50ZXJwcmV0YWJsZUxpbmU9bWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlO1xyXG4gICAgaWYgKG9wdGlvbmFsUmVhc29uRm9yRmFpbHVyZSkge1xyXG4gICAgICB0aGlzLnJlYXNvbkZvckZhaWx1cmU9b3B0aW9uYWxSZWFzb25Gb3JGYWlsdXJlO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ1VuZXhwZWN0ZWQgUExMIGlucHV0OiBcIicrbWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlKydcIicpO1xyXG4gIH1cclxuICBnZXRDdWJlU2l6ZSgpe1xyXG4gICAgbGV0IHdYaCA9IFt0aGlzLndpZHRoKjEwMCwgdGhpcy5oZWlnaHQqMTAwXTtcclxuICAgIHJldHVybiB3WGg7XHJcbiAgfVxyXG4gIGdldEFycm93Q29vcmRpbmF0ZXMoKSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKCc+PiBnZXRBcnJvd0Nvb3JkaW5hdGVzLCAnICsgdGhpcy5DT09SRElOQVRFUyk7XHJcbiAgICBsZXQgQVJST1dTID0gbmV3IEFycmF5KCk7XHJcbiAgICBsZXQgYWxsQXJyb3dDb29yZHMgPSB0aGlzLmFycm93cy5zcGxpdCgnLCcpLmZpbHRlcigoeCkgPT4geC5sZW5ndGggPiAwKTtcclxuICAgIGxldCBpbmRleDpudW1iZXIgPSAwO1xyXG4gICAgLy9jb25zb2xlLmxvZyhcIkFycm93cyB0byBpbnRlcnByZXQ6IFwiK2FsbEFycm93Q29vcmRzKTtcclxuICAgIGxldCBpc0RvdWJsZVNpZGVkOmJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsQXJyb3dDb29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaXNEb3VibGVTaWRlZCA9IGZhbHNlO1xyXG4gICAgICBsZXQgc2luZ2xlQXJyb3dDb29yZHM6c3RyaW5nID0gYWxsQXJyb3dDb29yZHNbaV07XHJcbiAgICAgIGxldCBzaW5nbGVBcnJvd0Nvb3Jkc0Zyb206c3RyaW5nOyBcclxuICAgICAgbGV0IHNpbmdsZUFycm93Q29vcmRzVG86c3RyaW5nO1xyXG4gICAgICBcclxuICAgICAgaWYgKHNpbmdsZUFycm93Q29vcmRzLm1hdGNoKCdcXFxcZC1cXFxcZCcpKSB7XHJcbiAgICAgICAgbGV0IHNpbmdsZUFycm93Q29vcmRzU3BsaXQgPSBzaW5nbGVBcnJvd0Nvb3Jkcy5zcGxpdCgnLScpO1xyXG4gICAgICAgIHNpbmdsZUFycm93Q29vcmRzRnJvbSA9IHNpbmdsZUFycm93Q29vcmRzU3BsaXRbMF07XHJcbiAgICAgICAgc2luZ2xlQXJyb3dDb29yZHNUbyA9IHNpbmdsZUFycm93Q29vcmRzU3BsaXRbMV07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHNpbmdsZUFycm93Q29vcmRzU3BsaXQgPSBzaW5nbGVBcnJvd0Nvb3Jkcy5zcGxpdCgnKycpO1xyXG4gICAgICAgIHNpbmdsZUFycm93Q29vcmRzRnJvbSA9IHNpbmdsZUFycm93Q29vcmRzU3BsaXRbMF07XHJcbiAgICAgICAgc2luZ2xlQXJyb3dDb29yZHNUbyA9IHNpbmdsZUFycm93Q29vcmRzU3BsaXRbMV07XHJcbiAgICAgICAgaXNEb3VibGVTaWRlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzaW5nbGVBcnJvd0Nvb3Jkc0Zyb209PT1zaW5nbGVBcnJvd0Nvb3Jkc1RvKXtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlNraXAgYXJyb3cgcG9pbnRpbmcgdG8gaXRzZWxmOiBcIitzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20pO1xyXG4gICAgICAgIHRoaXMuZnVja1RoaXNTaGl0VXAoc2luZ2xlQXJyb3dDb29yZHMsJ2Fycm93IGlzIHBvaW50aW5nIHRvIGl0cyBzdGFydGluZyBwb2ludCcpO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL2NvbnNvbGUubG9nKFwiLS0gQXJyb3cgZ29lcyBmcm9tICdcIitzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20rXCInIHRvICdcIitzaW5nbGVBcnJvd0Nvb3Jkc1RvK1wiJ1wiKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBhcnJvd1N0YXJ0O1xyXG4gICAgICBsZXQgYXJyb3dFbmQ7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoc2luZ2xlQXJyb3dDb29yZHNGcm9tLm1hdGNoKCdeWzAtOV0rJCcpKXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCctLSBkOiAnICsgc2luZ2xlQXJyb3dDb29yZHNGcm9tKTtcclxuICAgICAgICBhcnJvd1N0YXJ0ID0gdGhpcy5DT09SRElOQVRFU1tzaW5nbGVBcnJvd0Nvb3Jkc0Zyb21dO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBzZW1hbnRpY1ZlcnNpb24gPSBzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20uc3BsaXQoJy4nKTtcclxuICAgICAgICBsZXQgbWFqb3I6bnVtYmVyID0gK3NlbWFudGljVmVyc2lvblswXTtcclxuICAgICAgICBsZXQgbWlub3I6bnVtYmVyID0gK3NlbWFudGljVmVyc2lvblsxXTtcclxuICAgICAgICBsZXQgYzpudW1iZXIgPSAobWFqb3ItMSkqdGhpcy53aWR0aCArIG1pbm9yO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJy0tIGM6ICcgKyBjKTtcclxuICAgICAgICBhcnJvd1N0YXJ0ID0gdGhpcy5DT09SRElOQVRFU1tjXTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHNpbmdsZUFycm93Q29vcmRzVG8ubWF0Y2goJ15bMC05XSskJykpe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJy0tIGQ6ICcgKyBzaW5nbGVBcnJvd0Nvb3Jkc1RvKTtcclxuICAgICAgICBhcnJvd0VuZCA9IHRoaXMuQ09PUkRJTkFURVNbc2luZ2xlQXJyb3dDb29yZHNUb107XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHNlbWFudGljVmVyc2lvbiA9IHNpbmdsZUFycm93Q29vcmRzVG8uc3BsaXQoJy4nKTtcclxuICAgICAgICBsZXQgbWFqb3I6bnVtYmVyID0gK3NlbWFudGljVmVyc2lvblswXTtcclxuICAgICAgICBsZXQgbWlub3I6bnVtYmVyID0gK3NlbWFudGljVmVyc2lvblsxXTtcclxuICAgICAgICBsZXQgYzpudW1iZXIgPSAobWFqb3ItMSkqdGhpcy53aWR0aCArIG1pbm9yO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJy0tIGM6ICcgKyBjKTtcclxuICAgICAgICBhcnJvd0VuZCA9IHRoaXMuQ09PUkRJTkFURVNbY107XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICBBUlJPV1NbaW5kZXgrK10gPSBbIGFycm93U3RhcnQsIGFycm93RW5kIF07XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaXNEb3VibGVTaWRlZCkgeyAvLyBhZGQgcmV2ZXJzZSBjb3B5XHJcbiAgICAgICAgQVJST1dTW2luZGV4KytdID0gWyBhcnJvd0VuZCwgYXJyb3dTdGFydCBdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2NvbnNvbGUubG9nKCc8PCBnZXRBcnJvd0Nvb3JkaW5hdGVzLCAnICsgQVJST1dTKTtcclxuICAgIHJldHVybiBBUlJPV1M7XHJcbiAgfVxyXG4gIHN0YXRpYyBnZXQzYnkzQ29kZUJsb2NrVGVtcGxhdGUoKTpzdHJpbmcge1xyXG4gICAgcmV0dXJuIERFRkFVTFQuQ09ERV9CTE9DS19URU1QTEFURTtcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUywgUnViaWtDdWJlQWxnb3NTZXR0aW5ncyB9IGZyb20gXCIuL1J1YmlrQ3ViZUFsZ29TZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBBcnJvd0NhbGN1bGF0aW9ucyB9IGZyb20gXCIuL0Fycm93Q2FsY3VsYXRpb25zXCI7XHJcblxyXG5cclxuY29uc3QgREVGQVVMVCA9IHtcclxuICBXSURUSDogMywgLyogZGVmYXVsdCBydWJpayBjdWJlIHdpZHRoICovXHJcbiAgSEVJR0hUOiAzLCAvKiBkZWZhdWx0IHJ1YmlrIGN1YmUgaGVpZ2h0ICovXHJcbiAgQ09ERV9CTE9DS19URU1QTEFURTpcclxuJ1xcbmBgYHJ1YmlrQ3ViZVBMTFxcbicrXHJcbidkaW1lbnNpb246MywzIC8vIHdpZHRoLGhlaWdodFxcbicrXHJcbidjdWJlQ29sb3I6ZmYwIC8vIHllbGxvdyBjdWJlLCBvcHRpb25hbCBwYXJhbWV0ZXJcXG4nK1xyXG4nYXJyb3dDb2xvcjowOGYgLy8gc2t5IGJsdWUgYXJyb3dzLCBvcHRpb25hbCBwYXJhbWV0ZXJcXG4nK1xyXG4nYXJyb3dzOjEuMS0xLjMsNys5XFxuJytcclxuJ2BgYCdcclxufSBhcyBjb25zdDsgXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBMTCBleHRlbmRzIEFycm93Q2FsY3VsYXRpb25zIHtcclxuICBDT09SRElOQVRFUztcclxuICB3aWR0aDpudW1iZXI7XHJcbiAgaGVpZ2h0Om51bWJlcjtcclxuICBjdWJlQ29sb3I6c3RyaW5nO1xyXG4gIGFycm93Q29sb3I6c3RyaW5nO1xyXG4gIGFycm93czpzdHJpbmc7XHJcbiAgY29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsOmJvb2xlYW47XHJcbiAgbGFzdE5vbkludGVycHJldGFibGVMaW5lOnN0cmluZzsgIFxyXG4gIHJlYXNvbkZvckZhaWx1cmU6c3RyaW5nO1xyXG5cclxuICAvL2NvbnN0cnVjdG9yKHNldHRpbmdzOlJ1YmlrQ3ViZUFsZ29zU2V0dGluZ3MpIHtcclxuICBjb25zdHJ1Y3Rvcihyb3dzOnN0cmluZ1tdLCBzZXR0aW5nczpSdWJpa0N1YmVBbGdvc1NldHRpbmdzKSB7XHJcbiAgICBzdXBlcihyb3dzLCBzZXR0aW5ncyk7XHJcbiAgICB0aGlzLkNPT1JESU5BVEVTID0gbmV3IEFycmF5KCk7XHJcbiAgICB0aGlzLndpZHRoID0gREVGQVVMVC5XSURUSDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gREVGQVVMVC5IRUlHSFQ7XHJcbiAgICBcclxuICAgIGlmIChzZXR0aW5ncy5jdWJlQ29sb3Ipe1xyXG4gICAgICB0aGlzLmN1YmVDb2xvciA9IHNldHRpbmdzLmN1YmVDb2xvcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY3ViZUNvbG9yID0gREVGQVVMVF9TRVRUSU5HUy5DVUJFX0NPTE9SO1xyXG4gICAgfVxyXG4gICAgaWYgKHNldHRpbmdzLmFycm93Q29sb3Ipe1xyXG4gICAgICB0aGlzLmFycm93Q29sb3IgPSBzZXR0aW5ncy5hcnJvd0NvbG9yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hcnJvd0NvbG9yID0gREVGQVVMVF9TRVRUSU5HUy5BUlJPV19DT0xPUjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5hcnJvd3MgPSBcIlwiO1xyXG4gICAgdGhpcy5jb2RlQmxvY2tJbnRlcnByZXRhdGlvblN1Y2Nlc3NmdWw9dHJ1ZTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXREaW1lbnNpb24odzpudW1iZXIsaDpudW1iZXIpOnZvaWQge1xyXG4gICAgdGhpcy53aWR0aD13O1xyXG4gICAgdGhpcy5oZWlnaHQ9aDtcclxuICAgIC8vY29uc29sZS5sb2coXCJuZXcgZGltZW5zaW9uczogXCIrdytcIixcIitoKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXRDdWJlQ29sb3IoczpzdHJpbmcpOnZvaWQge1xyXG4gICAgdGhpcy5jdWJlQ29sb3IgPSAnIycrcztcclxuICAgIC8vY29uc29sZS5sb2coXCJuZXcgY3ViZSBjb2xvcjogJ1wiK3MrXCInXCIpO1xyXG4gIH1cclxuICBwcml2YXRlIHNldEFycm93Q29sb3IoczpzdHJpbmcpOnZvaWQge1xyXG4gICAgdGhpcy5hcnJvd0NvbG9yID0gJyMnK3M7XHJcbiAgICAvL2NvbnNvbGUubG9nKFwibmV3IGFycm93IGNvbG9yOiAnXCIrcytcIidcIik7XHJcbiAgfVxyXG4gIHByaXZhdGUgc2V0QXJyb3dzKHM6c3RyaW5nKTp2b2lkIHtcclxuICAgIHRoaXMuYXJyb3dzID0gcztcclxuICAgIC8vY29uc29sZS5sb2coXCJuZXcgYXJyb3dzOiAnXCIrcytcIidcIik7XHJcbiAgfVxyXG4gIHRvU3RyaW5nKCk6c3RyaW5nIHtcclxuICAgIHJldHVybiBcInBsbFtjdWJlQ2xyJ1wiK3RoaXMuY3ViZUNvbG9yK1wiJyxhcnJvd0NvbG9yJ1wiK3RoaXMuYXJyb3dDb2xvcitcIicsYXJyb3dzJ1wiK3RoaXMuYXJyb3dzK1wiJ11cIlxyXG4gIH1cclxuICBpbnRlcnByZXRDb2RlQmxvY2socm93czpzdHJpbmdbXSk6dm9pZCB7XHJcbiAgICBpZiAocm93cy5sZW5ndGggPT09MCl7XHJcbiAgICAgIHJldHVybiB0aGlzLmZ1Y2tUaGlzU2hpdFVwKFwiW25vIGlucHV0XVwiLFwiYXQgbGVhc3QgMSBwYXJhbWV0ZXIgbmVlZGVkOiAnZGltZW5zaW9uL2N1YmVDb2xvci9hcnJvd0NvbG9yL2Fycm93cydcIik7XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZygncGxsIGJlZm9yZTogJyt0aGlzLnRvU3RyaW5nKCkpOyAgICBcclxuICAgIGZvciAobGV0IHIgPSAwOyByIDwgcm93cy5sZW5ndGg7IHIrKykge1xyXG4gICAgICBsZXQgcm93ID0gcm93c1tyXTtcclxuICAgICAgaWYgKHJvdy5zdGFydHNXaXRoKCdkaW1lbnNpb246JykpIHtcclxuICAgICAgICBpZiAoIXJvdy5tYXRjaCgnXmRpbWVuc2lvbjpcXFxcZCssXFxcXGQrKCAvLy4qKT8nKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAocm93LCdpbnZhbGlkIGRpbWVuc2lvbiwgZXhwZWN0ZWQgXCJkaW1lbnNpb246WzItMTBdLFsyLTEwXVwiIC8vIG9wdGlvbmFsIGNvbW1lbnQgZ29lcyBoZXJlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB3WGggPSByb3cuc3BsaXQoJyAnKVswXS50cmltKCkucmVwbGFjZSgnZGltZW5zaW9uOicsJycpO1xyXG4gICAgICAgIGxldCB3WGhTcGxpdCA9IHdYaC5zcGxpdCgnLCcpO1xyXG4gICAgICAgIGxldCB3PSB3WGhTcGxpdFswXTtcclxuICAgICAgICBsZXQgaD0gd1hoU3BsaXRbMV07XHJcbiAgICAgICAgaWYgKHc8Mnx8aDwyfHx3PjEwfHxoPjEwKXtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmZ1Y2tUaGlzU2hpdFVwKHJvdywnaW52YWxpZCBkaW1lbnNpb25zIC0gZXhwZWN0ZWQ6IDIgPCB3aWR0aC9oZWlnaHQgPCAxMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldERpbWVuc2lvbih3LGgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHJvdy5tYXRjaCgnXmN1YmVDb2xvcjooW2EtZjAtOV17M30pezEsMn0oIC8vLiopPycpKSB7XHJcbiAgICAgICAgbGV0IG5ld0N1YkNsciA9IHJvdy5zcGxpdCgnICcpWzBdLnRyaW0oKS5yZXBsYWNlKCdjdWJlQ29sb3I6JywnJyk7XHJcbiAgICAgICAgdGhpcy5zZXRDdWJlQ29sb3IobmV3Q3ViQ2xyKTtcclxuICAgICAgfSBlbHNlIGlmIChyb3cubWF0Y2goJ15hcnJvd0NvbG9yOihbYS1mMC05XXszfSl7MSwyfSggLy8uKik/JykpIHtcclxuICAgICAgICBsZXQgbmV3QXJvQ2xyID0gcm93LnNwbGl0KCcgJylbMF0udHJpbSgpLnJlcGxhY2UoJ2Fycm93Q29sb3I6JywnJylcclxuICAgICAgICB0aGlzLnNldEFycm93Q29sb3IobmV3QXJvQ2xyKTtcclxuICAgICAgfSBlbHNlIGlmIChyb3cubWF0Y2goJ15hcnJvd3M6XFxcXGQrKFxcXFwuXFxcXGQrKT8oLXxcXFxcKylcXFxcZCsoXFxcXC5cXFxcZCspPygsXFxcXGQrKFxcXFwuXFxcXGQrKT8oLXxcXFxcKylcXFxcZCsoXFxcXC5cXFxcZCspPykqKCAvLy4qKT8nKSkge1xyXG4gICAgICAgIGxldCBuZXdBcnJvd3MgPSByb3cuc3BsaXQoJyAnKVswXS50cmltKCkucmVwbGFjZSgnYXJyb3dzOicsJycpXHJcbiAgICAgICAgdGhpcy5zZXRBcnJvd3MobmV3QXJyb3dzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mdWNrVGhpc1NoaXRVcChyb3csIFwidW5leHBlY3RlZCBpbnB1dCwgZXhwZWN0ZWQ6ICdkaW1lbnNpb24nLCAnY3ViZUNvbG9yJywgJ2Fycm93Q29sb3InIG9yICdhcnJvd3MnXCIpO1xyXG4gICAgICB9XHJcbiAgICB9ICBcclxuICAgIHRoaXMuY2FsY3VsYXRlQ29vcmRpbmF0ZXMoKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBjYWxjdWxhdGVDb29yZGluYXRlcygpe1xyXG4gICAgdGhpcy5DT09SRElOQVRFU1swXSA9IFtdO1xyXG4gICAgbGV0IGluZGV4Om51bWJlcj0xO1xyXG4gICAgLyogcmV2ZXJzZSBsb29wIG9yZGVyIHRvIGdpdmUgeCBjb29yZGluYXRlcyBtb3JlIHByaW9yaXR5ICovXHJcbiAgICBmb3IgKGxldCBoID0gMDsgaCA8IHRoaXMuaGVpZ2h0OyBoKyspIHtcclxuICAgICAgZm9yIChsZXQgdyA9IDA7IHcgPCB0aGlzLndpZHRoOyB3KyspIHtcclxuICAgICAgICB0aGlzLkNPT1JESU5BVEVTW2luZGV4KytdID0gW3cqMTAwICsgNTAsIGgqMTAwICsgNTBdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHByaXZhdGUgZnVja1RoaXNTaGl0VXAobWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlOnN0cmluZywgb3B0aW9uYWxSZWFzb25Gb3JGYWlsdXJlOnN0cmluZyl7XHJcbiAgICB0aGlzLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bD1mYWxzZTtcclxuICAgIHRoaXMubGFzdE5vbkludGVycHJldGFibGVMaW5lPW1hbmRhdG9yeUxhc3RMaW5lTm90SW50ZXJwcmV0YWJsZTtcclxuICAgIGlmIChvcHRpb25hbFJlYXNvbkZvckZhaWx1cmUpIHtcclxuICAgICAgdGhpcy5yZWFzb25Gb3JGYWlsdXJlPW9wdGlvbmFsUmVhc29uRm9yRmFpbHVyZTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdVbmV4cGVjdGVkIFBMTCBpbnB1dDogXCInK21hbmRhdG9yeUxhc3RMaW5lTm90SW50ZXJwcmV0YWJsZSsnXCInKTtcclxuICB9XHJcbiAgZ2V0Q3ViZVNpemUoKXtcclxuICAgIGxldCB3WGggPSBbdGhpcy53aWR0aCoxMDAsIHRoaXMuaGVpZ2h0KjEwMF07XHJcbiAgICByZXR1cm4gd1hoO1xyXG4gIH1cclxuICBnZXRBcnJvd0Nvb3JkaW5hdGVzKCkge1xyXG4gICAgLy9jb25zb2xlLmxvZygnPj4gZ2V0QXJyb3dDb29yZGluYXRlcywgJyArIHRoaXMuQ09PUkRJTkFURVMpO1xyXG4gICAgbGV0IEFSUk9XUyA9IG5ldyBBcnJheSgpO1xyXG4gICAgbGV0IGFsbEFycm93Q29vcmRzID0gdGhpcy5hcnJvd3Muc3BsaXQoJywnKS5maWx0ZXIoKHgpID0+IHgubGVuZ3RoID4gMCk7XHJcbiAgICBsZXQgaW5kZXg6bnVtYmVyID0gMDtcclxuICAgIC8vY29uc29sZS5sb2coXCJBcnJvd3MgdG8gaW50ZXJwcmV0OiBcIithbGxBcnJvd0Nvb3Jkcyk7XHJcbiAgICBsZXQgaXNEb3VibGVTaWRlZDpib29sZWFuID0gZmFsc2U7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEFycm93Q29vcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlzRG91YmxlU2lkZWQgPSBmYWxzZTtcclxuICAgICAgbGV0IHNpbmdsZUFycm93Q29vcmRzOnN0cmluZyA9IGFsbEFycm93Q29vcmRzW2ldO1xyXG4gICAgICBsZXQgc2luZ2xlQXJyb3dDb29yZHNGcm9tOnN0cmluZzsgXHJcbiAgICAgIGxldCBzaW5nbGVBcnJvd0Nvb3Jkc1RvOnN0cmluZztcclxuICAgICAgXHJcbiAgICAgIGlmIChzaW5nbGVBcnJvd0Nvb3Jkcy5tYXRjaCgnXFxcXGQtXFxcXGQnKSkge1xyXG4gICAgICAgIGxldCBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0ID0gc2luZ2xlQXJyb3dDb29yZHMuc3BsaXQoJy0nKTtcclxuICAgICAgICBzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20gPSBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0WzBdO1xyXG4gICAgICAgIHNpbmdsZUFycm93Q29vcmRzVG8gPSBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0WzFdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0ID0gc2luZ2xlQXJyb3dDb29yZHMuc3BsaXQoJysnKTtcclxuICAgICAgICBzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20gPSBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0WzBdO1xyXG4gICAgICAgIHNpbmdsZUFycm93Q29vcmRzVG8gPSBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0WzFdO1xyXG4gICAgICAgIGlzRG91YmxlU2lkZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc2luZ2xlQXJyb3dDb29yZHNGcm9tPT09c2luZ2xlQXJyb3dDb29yZHNUbyl7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJTa2lwIGFycm93IHBvaW50aW5nIHRvIGl0c2VsZjogXCIrc2luZ2xlQXJyb3dDb29yZHNGcm9tKTtcclxuICAgICAgICB0aGlzLmZ1Y2tUaGlzU2hpdFVwKHNpbmdsZUFycm93Q29vcmRzLCdhcnJvdyBpcyBwb2ludGluZyB0byBpdHMgc3RhcnRpbmcgcG9pbnQnKTtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9jb25zb2xlLmxvZyhcIi0tIEFycm93IGdvZXMgZnJvbSAnXCIrc2luZ2xlQXJyb3dDb29yZHNGcm9tK1wiJyB0byAnXCIrc2luZ2xlQXJyb3dDb29yZHNUbytcIidcIik7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgYXJyb3dTdGFydDtcclxuICAgICAgbGV0IGFycm93RW5kO1xyXG4gICAgICBcclxuICAgICAgaWYgKHNpbmdsZUFycm93Q29vcmRzRnJvbS5tYXRjaCgnXlswLTldKyQnKSl7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnLS0gZDogJyArIHNpbmdsZUFycm93Q29vcmRzRnJvbSk7XHJcbiAgICAgICAgYXJyb3dTdGFydCA9IHRoaXMuQ09PUkRJTkFURVNbc2luZ2xlQXJyb3dDb29yZHNGcm9tXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgc2VtYW50aWNWZXJzaW9uID0gc2luZ2xlQXJyb3dDb29yZHNGcm9tLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgbGV0IG1ham9yOm51bWJlciA9ICtzZW1hbnRpY1ZlcnNpb25bMF07XHJcbiAgICAgICAgbGV0IG1pbm9yOm51bWJlciA9ICtzZW1hbnRpY1ZlcnNpb25bMV07XHJcbiAgICAgICAgbGV0IGM6bnVtYmVyID0gKG1ham9yLTEpKnRoaXMud2lkdGggKyBtaW5vcjtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCctLSBjOiAnICsgYyk7XHJcbiAgICAgICAgYXJyb3dTdGFydCA9IHRoaXMuQ09PUkRJTkFURVNbY107XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChzaW5nbGVBcnJvd0Nvb3Jkc1RvLm1hdGNoKCdeWzAtOV0rJCcpKXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCctLSBkOiAnICsgc2luZ2xlQXJyb3dDb29yZHNUbyk7XHJcbiAgICAgICAgYXJyb3dFbmQgPSB0aGlzLkNPT1JESU5BVEVTW3NpbmdsZUFycm93Q29vcmRzVG9dO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBzZW1hbnRpY1ZlcnNpb24gPSBzaW5nbGVBcnJvd0Nvb3Jkc1RvLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgbGV0IG1ham9yOm51bWJlciA9ICtzZW1hbnRpY1ZlcnNpb25bMF07XHJcbiAgICAgICAgbGV0IG1pbm9yOm51bWJlciA9ICtzZW1hbnRpY1ZlcnNpb25bMV07XHJcbiAgICAgICAgbGV0IGM6bnVtYmVyID0gKG1ham9yLTEpKnRoaXMud2lkdGggKyBtaW5vcjtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCctLSBjOiAnICsgYyk7XHJcbiAgICAgICAgYXJyb3dFbmQgPSB0aGlzLkNPT1JESU5BVEVTW2NdO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgQVJST1dTW2luZGV4KytdID0gWyBhcnJvd1N0YXJ0LCBhcnJvd0VuZCBdO1xyXG4gICAgICBcclxuICAgICAgaWYgKGlzRG91YmxlU2lkZWQpIHsgLy8gYWRkIHJldmVyc2UgY29weVxyXG4gICAgICAgIEFSUk9XU1tpbmRleCsrXSA9IFsgYXJyb3dFbmQsIGFycm93U3RhcnQgXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9jb25zb2xlLmxvZygnPDwgZ2V0QXJyb3dDb29yZGluYXRlcywgJyArIEFSUk9XUyk7XHJcbiAgICByZXR1cm4gQVJST1dTO1xyXG4gIH1cclxuICBzdGF0aWMgZ2V0M2J5M0NvZGVCbG9ja1RlbXBsYXRlKCk6c3RyaW5nIHtcclxuICAgIHJldHVybiBERUZBVUxULkNPREVfQkxPQ0tfVEVNUExBVEU7XHJcbiAgfVxyXG59IiwgImltcG9ydCB7IE1hcmtkb3duUmVuZGVyQ2hpbGQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IFJ1YmlrQ3ViZUFsZ29zIGZyb20gXCIuL21haW5cIjtcclxuaW1wb3J0IHsgT0xMIH0gZnJvbSBcIi4vUkNBLU9MTC1DYWxjdWxhdGlvbnNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgT0xMVmlldyBleHRlbmRzIE1hcmtkb3duUmVuZGVyQ2hpbGQge1xyXG4gIHNvdXJjZTogc3RyaW5nO1xyXG4gIHBsdWdpbjogUnViaWtDdWJlQWxnb3M7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBzb3VyY2U6IHN0cmluZyxcclxuICAgIHBsdWdpbjogUnViaWtDdWJlQWxnb3MsXHJcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudFxyXG4gICkge1xyXG4gICAgc3VwZXIoZWxlbWVudCk7XHJcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gIH1cclxuICBcclxuICBvbmxvYWQoKSB7XHJcbiAgLy8gIC8qXHJcbiAgLy8gICAqIFJlZ2lzdGVyIGxpc3RlbmVyIHdoaWNoIGluc3RhbnRseSByZWRyYXdzIHJ1YmlrIGN1YmVzIHdoaWxlIGNoYW5naW5nIHBsdWdpbiBzZXR0aW5ncy5cclxuICAvLyAgICovXHJcbiAgLy8gIHRoaXMucmVnaXN0ZXJFdmVudChcclxuICAvLyAgICB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gIC8vICAgICAgXCJydWJpazpyZXJlbmRlci1tYXJrZG93bi1jb2RlLWJsb2NrLXByb2Nlc3NvcnNcIixcclxuICAvLyAgICAgIHRoaXMuZGlzcGxheS5iaW5kKHRoaXMpXHJcbiAgLy8gICAgKVxyXG4gIC8vICApO1xyXG4gIH1cclxuICBcclxuICBkaXNwbGF5KCkge1xyXG4gICAgdGhpcy5lbGVtZW50LmVtcHR5KCk7XHJcbiAgICBjb25zdCByb3dzID0gdGhpcy5zb3VyY2Uuc3BsaXQoJ1xcbicpLmZpbHRlcigocm93KSA9PiByb3cubGVuZ3RoID4gMCk7XHJcbiAgICBsZXQgb2xsRGF0YSA9IG5ldyBPTEwodGhpcy5wbHVnaW4uc2V0dGluZ3MpOyBcclxuICAgIGxldCBjZWxscyA9IG9sbERhdGEuaW50ZXJwcmV0Q29kZUJsb2NrKHJvd3MpO1xyXG4gICAgbGV0IHdpZHRoWGhlaWdodCA9IG9sbERhdGEuZ2V0RGltZW5zaW9ucygpO1xyXG5cclxuICAgIGlmIChmYWxzZSA9PT0gb2xsRGF0YS5jb2RlQmxvY2tJbnRlcnByZXRhdGlvblN1Y2Nlc3NmdWwpe1xyXG4gICAgICB0aGlzLmVsZW1lbnQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogXCItLS0gUnViaWsgQ3ViZSBPTEwgcGF0dGVybiBpbnRlcnByZXRhdGlvbiBmYWlsZWQgLS0tXCIgfSk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnRmF1bHR5IGlucHV0OicgfSk7XHJcbiAgICAgIGxldCBleHBsYW5hdGlvbkRpdiA9IHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnZGl2Jyk7XHJcbiAgICAgIGV4cGxhbmF0aW9uRGl2LmNyZWF0ZUVsKCdiJywgeyB0ZXh0OiAnXCInK29sbERhdGEubGFzdE5vbkludGVycHJldGFibGVMaW5lKydcIicsIGNsczoncnViaWstY3ViZS13YXJuaW5nLXRleHQnICB9KTtcclxuICAgICAgaWYgKG9sbERhdGEucmVhc29uRm9yRmFpbHVyZSkge1xyXG4gICAgICAgIGV4cGxhbmF0aW9uRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdSZWFzb246ICcrb2xsRGF0YS5yZWFzb25Gb3JGYWlsdXJlfSk7XHJcbiAgICAgIH0gICAgICAgIFxyXG4gICAgICByZXR1cm47IFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsZXQgdyA9IHdpZHRoWGhlaWdodFswXTsgXHJcbiAgICBsZXQgaCA9IHdpZHRoWGhlaWdodFsxXTsgXHJcbiAgICBjb25zb2xlLmxvZygncnViaWtDdWJlT0xMOiB3PScrdysnLGg9JytoKTtcclxuICAgIGxldCBtYWluU3ZnID0gdGhpcy5lbGVtZW50LmNyZWF0ZVN2Zygnc3ZnJywgeyBhdHRyOiB7IHdpZHRoOjIwMCwgaGVpZ2h0OjIwMCwgdmlld0JveDonMCAwICcrdysnICcraCB9LCBjbHM6IFwicnViaWstY3ViZS1wbGxcIiB9KTtcclxuICAgIC8vbGV0IGRlZnMgPSBtYWluU3ZnLmNyZWF0ZVN2ZygnZGVmcycpO1xyXG4gICAgLy9sZXQgbWFya2VyID0gZGVmcy5jcmVhdGVTdmcoJ21hcmtlcicsIHsgYXR0cjoge2lkOlwiYXJyb3doZWFkXCIrb2xsRGF0YS5hcnJvd0NvbG9yLCBtYXJrZXJXaWR0aDpcIjEwXCIsIG1hcmtlckhlaWdodDpcIjdcIiwgcmVmWDpcIjlcIiwgcmVmWTpcIjMuNVwiLCBvcmllbnQ6XCJhdXRvXCJ9fSk7XHJcbiAgICAvL21hcmtlci5jcmVhdGVTdmcoJ3BvbHlnb24nLCB7IGF0dHI6IHtwb2ludHM6XCIwIDAsIDEwIDMuNSwgMCA3XCIgLCBmaWxsOm9sbERhdGEuYXJyb3dDb2xvcn19KTtcclxuICAgIFxyXG4gICAgLyogQmxhY2sgYmFzZSByZWN0ICovXHJcbiAgICAvL21haW5TdmcuY3JlYXRlU3ZnKCdyZWN0JywgeyBhdHRyOiB7IGZpbGw6JyMwJyB9LCBjbHM6IFwicnViaWstY3ViZS1wbGwtcmVjdFwiIH0pOyBcclxuICAgIFxyXG4gICAgLypcclxuICAgICAqIEVkZ2Ugcm93cy9jb2x1bW5zXHJcbiAgICAgKi9cclxuICAgIGxldCBjdWJlV2lkdGggPSByb3dzWzBdLmxlbmd0aDtcclxuICAgIGxldCBjdWJlSGVpZ2h0ID0gcm93cy5sZW5ndGg7XHJcbiAgICAgXHJcbiAgICAvKiB1cHBlciByb3cgYm9yZGVyICovXHJcbiAgICBmb3IgKGxldCB4Om51bWJlciA9IDA7IHggPCBjdWJlV2lkdGgtMjsgeCsrKSB7XHJcbiAgICAgIG1haW5TdmcuY3JlYXRlU3ZnKCdyZWN0JywgeyBhdHRyOiB7IHg6NTAreCoxMDAsIHk6MCwgd2lkdGg6JzEwMCcsIGhlaWdodDonNTAnLCBmaWxsOnRoaXMuZ2V0Q29sb3IoY2VsbHNbMF1beCsxXSkgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcmVjdFwiIH0pOyBcclxuICAgIH1cclxuICAgIC8qIGxvd2VyIHJvdyBib3JkZXIgKi9cclxuICAgIGZvciAobGV0IHg6bnVtYmVyID0gMDsgeCA8IGN1YmVXaWR0aC0yOyB4KyspIHtcclxuICAgICAgbWFpblN2Zy5jcmVhdGVTdmcoJ3JlY3QnLCB7IGF0dHI6IHsgeDo1MCt4KjEwMCwgeTpoLTUwLCB3aWR0aDonMTAwJywgaGVpZ2h0Oic1MCcsIGZpbGw6dGhpcy5nZXRDb2xvcihjZWxsc1tjZWxscy5sZW5ndGgtMV1beCsxXSkgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcmVjdFwiIH0pOyBcclxuICAgIH1cclxuICAgIC8qIGxlZnQgY29sdW1uIGJvcmRlciAqL1xyXG4gICAgZm9yIChsZXQgeTpudW1iZXIgPSAwOyB5IDwgY3ViZUhlaWdodC0yOyB5KyspIHtcclxuICAgICAgbWFpblN2Zy5jcmVhdGVTdmcoJ3JlY3QnLCB7IGF0dHI6IHsgeDowLCB5OjUwK3kqMTAwLCB3aWR0aDo1MCwgaGVpZ2h0OjEwMCwgZmlsbDp0aGlzLmdldENvbG9yKGNlbGxzW3krMV1bMF0pIH0sIGNsczogXCJydWJpay1jdWJlLXJlY3RcIiB9KTsgXHJcbiAgICB9XHJcbiAgICAvKiByaWdodCBjb2x1bW4gYm9yZGVyICovXHJcbiAgICBmb3IgKGxldCB5Om51bWJlciA9IDA7IHkgPCBjdWJlSGVpZ2h0LTI7IHkrKykge1xyXG4gICAgICBtYWluU3ZnLmNyZWF0ZVN2ZygncmVjdCcsIHsgYXR0cjogeyB4OnctNTAsIHk6NTAreSoxMDAsIHdpZHRoOjUwLCBoZWlnaHQ6MTAwLCBmaWxsOnRoaXMuZ2V0Q29sb3IoY2VsbHNbeSsxXVtjZWxscy5sZW5ndGgtMV0pIH0sIGNsczogXCJydWJpay1jdWJlLXJlY3RcIiB9KTsgXHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICAqIENlbnRlciByb3dzL2NvbHVtbnNcclxuICAgICAqL1xyXG4gICAgLyogVmVydGljYWwgbGluZXMgKi9cclxuICAgIGZvciAobGV0IHk6bnVtYmVyID0gMDsgeSA8IGN1YmVIZWlnaHQtMjsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHg6bnVtYmVyID0gMDsgeCA8IGN1YmVXaWR0aC0yOyB4KyspIHtcclxuICAgICAgICBtYWluU3ZnLmNyZWF0ZVN2ZygncmVjdCcsIHsgYXR0cjogeyB4OjUwK3gqMTAwLCB5OjUwK3kqMTAwLCB3aWR0aDoxMDAsIGhlaWdodDoxMDAsIGZpbGw6dGhpcy5nZXRDb2xvcihjZWxsc1t5KzFdW3grMV0pIH0sIGNsczogXCJydWJpay1jdWJlLXBsbC1saW5lLWdyaWRcIiB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBCYWNrZ3JvdW5kIGdyaWQ7IHN0YXRpYywgdW5yZXNwb25zaXZlLCBibGFjayByZWN0YW5ndWxhciBsaW5lc1xyXG4gICAgICovXHJcbiAgICAvKiBWZXJ0aWNhbCBsaW5lcyAqL1xyXG4gICAgZm9yIChsZXQgeDpudW1iZXIgPSA1MDsgeCA8IHc7IHgrPTEwMCkge1xyXG4gICAgICBtYWluU3ZnLmNyZWF0ZVN2ZygnbGluZScsIHsgYXR0cjogeyB4MTp4LCB4Mjp4LCB5MTowLCB5MjpoIH0sIGNsczogXCJydWJpay1jdWJlLXBsbC1saW5lLWdyaWRcIiB9KTtcclxuICAgIH1cclxuICAgIC8qIEhvcml6b250YWwgbGluZXMgKi8gXHJcbiAgICBmb3IgKGxldCB5Om51bWJlciA9IDUwOyB5IDwgaDsgeSs9MTAwKSB7XHJcbiAgICAgIG1haW5TdmcuY3JlYXRlU3ZnKCdsaW5lJywgeyBhdHRyOiB7IHgxOjAsIHgyOncsIHkxOnksIHkyOnkgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsLWxpbmUtZ3JpZFwiIH0pO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy9mb3IgKGxldCBpID0gMDsgaSA8IEFSUk9XUy5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gIGxldCBhcnJvdyA9IEFSUk9XU1tpXTtcclxuICAgIC8vICBsZXQgYXJyb3dTdGFydENvb3JkID0gYXJyb3dbMF07XHJcbiAgICAvLyAgbGV0IGFycm93RW5kQ29vcmQgPSBhcnJvd1sxXTtcclxuICAgIC8vICAvL2NvbnNvbGUubG9nKFwiQXJyb3cgZ29lcyBmcm9tIFwiK2Fycm93U3RhcnRDb29yZCtcIiB0byBcIithcnJvd0VuZENvb3JkKTtcclxuICAgIC8vICBtYWluU3ZnLmNyZWF0ZVN2ZygnbGluZScsIHsgYXR0cjogeyB4MTphcnJvd1N0YXJ0Q29vcmRbMF0sIHgyOmFycm93RW5kQ29vcmRbMF0sIHkxOmFycm93U3RhcnRDb29yZFsxXSwgeTI6YXJyb3dFbmRDb29yZFsxXSxcclxuICAgIC8vICAgICAgICAnbWFya2VyLWVuZCc6J3VybCgjYXJyb3doZWFkJytvbGxEYXRhLmFycm93Q29sb3IrJyknLCBzdHJva2U6b2xsRGF0YS5hcnJvd0NvbG9yLCAgfSxcclxuICAgIC8vICBjbHM6IFwicnViaWstY3ViZS1wbGwtbGluZS1hcnJvd1wiIH0pO1xyXG4gICAgLy99XHJcbiAgICAvL2NvbnNvbGUubG9nKCc8PCBydWJpa0N1YmVPTEwnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q29sb3IoY29sb3JJbmRleDpzdHJpbmcpOnN0cmluZyB7XHJcbiAgICBsZXQgYzpzdHJpbmcgPSAnIzAwMCc7IFxyXG4gICAgaWYgKCFjb2xvckluZGV4KSB7XHJcbiAgICAgIGMgPSAnI2YwMCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzd2l0Y2ggKGNvbG9ySW5kZXgpIHtcclxuICAgICAgICBcclxuICAgICAgY2FzZSAncic6IGMgPSAnI2NjMDAwMCc7IGJyZWFrOyAvLyBkYXJrZXIgcmVkICg4MCUpXHJcbiAgICAgIGNhc2UgJ1InOiBjID0gJyNmZjAwMDAnOyBicmVhazsgLy8gcmVkXHJcbiAgICAgIFxyXG4gICAgICBjYXNlICdvJzogYyA9ICcjY2M1MDAwJzsgYnJlYWs7IC8vIGRhcmtlciBvcmFuZ2VcclxuICAgICAgY2FzZSAnTyc6IGMgPSAnI2ZmNjQwMCc7IGJyZWFrOyAvLyBvcmFuZ2VcclxuICAgICAgXHJcbiAgICAgIGNhc2UgJ2InOiBjID0gJyMwMDAwOWEnOyBicmVhazsgLy8gZGFya2VyIGJsdWVcclxuICAgICAgY2FzZSAnQic6IGMgPSAnIzAwMDBiYic7IGJyZWFrOyAvLyBibHVlXHJcbiAgICAgIFxyXG4gICAgICBjYXNlICdnJzogYyA9ICcjMDA5YTAwJzsgYnJlYWs7IC8vIGRhcmtlciBncmVlblxyXG4gICAgICBjYXNlICdHJzogYyA9ICcjMDBiYjAwJzsgYnJlYWs7IC8vIGdyZWVuXHJcbiAgICAgIFxyXG4gICAgICBjYXNlICdZJzogYyA9ICcjZmYwMDAwJzsgYnJlYWs7IC8vIHllbGxvd1xyXG4gICAgICBjYXNlICd5JzogYyA9ICcjY2MwMDAwJzsgYnJlYWs7IC8vIGRhcmtlciB5ZWxsb3dcclxuICAgICAgICBcclxuICAgICAgY2FzZSAnVyc6IGMgPSAnI2ZmZmZmZic7IGJyZWFrOyAvLyB3aGl0ZVxyXG4gICAgICBjYXNlICd3JzogYyA9ICcjY2NjY2NjJzsgYnJlYWs7IC8vIGdyZXkgKDgwJSlcclxuICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgIGNhc2UgJy4nOiBjID0gJyM0NDQnOyBicmVhaztcclxuICAgICAgY2FzZSAnMCc6IGMgPSAnIzQ0NCc7IGJyZWFrO1xyXG4gICAgICBjYXNlICcxJzogYyA9ICcjZmYwJzsgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6IGMgPSAnIzAwMCc7IGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcImdldENvbG9yKCkgJ1wiK2NvbG9ySW5kZXgrXCInID0+ICdcIitjK1wiJ1wiKVxyXG4gICAgcmV0dXJuIGM7XHJcbiAgfVxyXG5cclxufVxyXG4iLCAiaW1wb3J0IHsgTWFya2Rvd25SZW5kZXJDaGlsZCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgUnViaWtDdWJlQWxnb3MgZnJvbSBcIi4vbWFpblwiO1xyXG5pbXBvcnQgeyBQTEwgfSBmcm9tIFwiLi9SQ0EtUExMLUNhbGN1bGF0aW9uc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBQTExWaWV3IGV4dGVuZHMgTWFya2Rvd25SZW5kZXJDaGlsZCB7XHJcbiAgc291cmNlOiBzdHJpbmc7XHJcbiAgcGx1Z2luOiBSdWJpa0N1YmVBbGdvcztcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHNvdXJjZTogc3RyaW5nLFxyXG4gICAgcGx1Z2luOiBSdWJpa0N1YmVBbGdvcyxcclxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50XHJcbiAgKSB7XHJcbiAgICBzdXBlcihlbGVtZW50KTtcclxuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgfVxyXG4gIFxyXG4gIG9ubG9hZCgpIHtcclxuICAgIC8qXHJcbiAgICAgKiBSZWdpc3RlciBsaXN0ZW5lciB3aGljaCBpbnN0YW50bHkgcmVkcmF3cyBydWJpayBjdWJlcyB3aGlsZSBjaGFuZ2luZyBwbHVnaW4gc2V0dGluZ3MuXHJcbiAgICAgKi9cclxuICAgIHRoaXMucmVnaXN0ZXJFdmVudChcclxuICAgICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgICBcInJ1YmlrOnJlcmVuZGVyLW1hcmtkb3duLWNvZGUtYmxvY2stcHJvY2Vzc29yc1wiLFxyXG4gICAgICAgIHRoaXMuZGlzcGxheS5iaW5kKHRoaXMpXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG4gIFxyXG4gIGRpc3BsYXkoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuZW1wdHkoKTtcclxuICAgIGNvbnN0IHJvd3MgPSB0aGlzLnNvdXJjZS5zcGxpdCgnXFxuJykuZmlsdGVyKChyb3cpID0+IHJvdy5sZW5ndGggPiAwKTtcclxuICAgIGxldCBwbGxEYXRhID0gbmV3IFBMTChyb3dzLCB0aGlzLnBsdWdpbi5zZXR0aW5ncyk7IFxyXG4gICAgLy8gcGxsRGF0YS5pbnRlcnByZXRDb2RlQmxvY2socm93cyk7IFxyXG4gICAgbGV0IHdpZHRoWGhlaWdodCA9IHBsbERhdGEuZ2V0Q3ViZVNpemUoKTtcclxuICAgIGxldCBBUlJPV1MgPSBwbGxEYXRhLmdldEFycm93Q29vcmRpbmF0ZXMoKTtcclxuXHJcbiAgICBpZiAoZmFsc2UgPT09IHBsbERhdGEuY29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsKXtcclxuICAgICAgdGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IFwiLS0tIFJ1YmlrIEN1YmUgUExMIHBhdHRlcm4gaW50ZXJwcmV0YXRpb24gZmFpbGVkIC0tLVwiIH0pO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0ZhdWx0eSBpbnB1dDonIH0pO1xyXG4gICAgICBsZXQgZXhwbGFuYXRpb25EaXYgPSB0aGlzLmVsZW1lbnQuY3JlYXRlRWwoJ2RpdicpO1xyXG4gICAgICBleHBsYW5hdGlvbkRpdi5jcmVhdGVFbCgnYicsIHsgdGV4dDogJ1wiJytwbGxEYXRhLmxhc3ROb25JbnRlcnByZXRhYmxlTGluZSsnXCInLCBjbHM6J3J1YmlrLWN1YmUtd2FybmluZy10ZXh0JyAgfSk7XHJcbiAgICAgIGlmIChwbGxEYXRhLnJlYXNvbkZvckZhaWx1cmUpIHtcclxuICAgICAgICBleHBsYW5hdGlvbkRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnUmVhc29uOiAnK3BsbERhdGEucmVhc29uRm9yRmFpbHVyZX0pO1xyXG4gICAgICB9ICAgICAgICBcclxuICAgICAgcmV0dXJuOyBcclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IHcgPSB3aWR0aFhoZWlnaHRbMF07IFxyXG4gICAgbGV0IGggPSB3aWR0aFhoZWlnaHRbMV07IFxyXG4gICAgbGV0IG1haW5TdmcgPSB0aGlzLmVsZW1lbnQuY3JlYXRlU3ZnKCdzdmcnLCB7IGF0dHI6IHsgdmlld0JveDonMCAwICcrdysnICcraCwgd2lkdGg6dywgaGVpZ2h0OmggfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsXCIgfSk7XHJcbiAgICBsZXQgZGVmcyA9IG1haW5TdmcuY3JlYXRlU3ZnKCdkZWZzJyk7XHJcbiAgICBsZXQgbWFya2VyID0gZGVmcy5jcmVhdGVTdmcoJ21hcmtlcicsIHsgYXR0cjoge2lkOlwiYXJyb3doZWFkXCIrcGxsRGF0YS5hcnJvd0NvbG9yLCBtYXJrZXJXaWR0aDpcIjEwXCIsIG1hcmtlckhlaWdodDpcIjdcIiwgcmVmWDpcIjlcIiwgcmVmWTpcIjMuNVwiLCBvcmllbnQ6XCJhdXRvXCJ9fSk7XHJcbiAgICBtYXJrZXIuY3JlYXRlU3ZnKCdwb2x5Z29uJywgeyBhdHRyOiB7cG9pbnRzOlwiMCAwLCAxMCAzLjUsIDAgN1wiICwgZmlsbDpwbGxEYXRhLmFycm93Q29sb3J9fSk7XHJcbiAgICBcclxuICAgIC8qIFllbGxvdyBiYXNlIHJlY3QgKi9cclxuICAgIG1haW5TdmcuY3JlYXRlU3ZnKCdyZWN0JywgeyBhdHRyOiB7IGZpbGw6cGxsRGF0YS5jdWJlQ29sb3IgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsLXJlY3RcIiB9KTsgXHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiBCYWNrZ3JvdW5kIGdyaWQ7IHN0YXRpYywgdW5yZXNwb25zaXZlLCBibGFjayByZWN0YW5ndWxhciBsaW5lc1xyXG4gICAgICovXHJcbiAgICAvKiBWZXJ0aWNhbCBsaW5lcyAqL1xyXG4gICAgZm9yIChsZXQgeDpudW1iZXIgPSAxMDA7IHggPCB3OyB4Kz0xMDApIHtcclxuICAgICAgbWFpblN2Zy5jcmVhdGVTdmcoJ2xpbmUnLCB7IGF0dHI6IHsgeDE6eCwgeDI6eCwgeTE6MCwgeTI6aCB9LCBjbHM6IFwicnViaWstY3ViZS1wbGwtbGluZS1ncmlkXCIgfSk7XHJcbiAgICB9XHJcbiAgICAvKiBIb3Jpem9udGFsIGxpbmVzICovIFxyXG4gICAgZm9yIChsZXQgeTpudW1iZXIgPSAxMDA7IHkgPCBoOyB5Kz0xMDApIHtcclxuICAgICAgbWFpblN2Zy5jcmVhdGVTdmcoJ2xpbmUnLCB7IGF0dHI6IHsgeDE6MCwgeDI6dywgeTE6eSwgeTI6eSB9LCBjbHM6IFwicnViaWstY3ViZS1wbGwtbGluZS1ncmlkXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBBUlJPV1MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IGFycm93ID0gQVJST1dTW2ldO1xyXG4gICAgICBsZXQgYXJyb3dTdGFydENvb3JkID0gYXJyb3dbMF07XHJcbiAgICAgIGxldCBhcnJvd0VuZENvb3JkID0gYXJyb3dbMV07XHJcbiAgICAgIC8vY29uc29sZS5sb2coXCJBcnJvdyBnb2VzIGZyb20gXCIrYXJyb3dTdGFydENvb3JkK1wiIHRvIFwiK2Fycm93RW5kQ29vcmQpO1xyXG4gICAgICBtYWluU3ZnLmNyZWF0ZVN2ZygnbGluZScsIHsgYXR0cjogeyB4MTphcnJvd1N0YXJ0Q29vcmRbMF0sIHgyOmFycm93RW5kQ29vcmRbMF0sIHkxOmFycm93U3RhcnRDb29yZFsxXSwgeTI6YXJyb3dFbmRDb29yZFsxXSxcclxuICAgICAgICAgICAgJ21hcmtlci1lbmQnOid1cmwoI2Fycm93aGVhZCcrcGxsRGF0YS5hcnJvd0NvbG9yKycpJywgc3Ryb2tlOnBsbERhdGEuYXJyb3dDb2xvciwgIH0sXHJcbiAgICAgIGNsczogXCJydWJpay1jdWJlLXBsbC1saW5lLWFycm93XCIgfSk7XHJcbiAgICB9XHJcbiAgICAvL2NvbnNvbGUubG9nKCc8PCBydWJpa0N1YmVQTEwnKTtcclxuICB9XHJcblxyXG5cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFB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
