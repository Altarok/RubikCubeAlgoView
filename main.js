/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => RubikCubeAlgos
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/RubikCubeAlgoSettings.ts
var import_obsidian2 = require("obsidian");
var DEFAULT_SETTINGS = {
  CUBE_COLOR: "#ff0",
  /* yellow for cube */
  ARROW_COLOR: "#08f"
  /* sky blue for arrows */
};
var RubikCubeAlgoSettingsTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Default cube color").setDesc("Starting value: #ff0 (yellow)").addText((text) => text.setPlaceholder("3 or 6 digit hex value").setValue(this.plugin.settings.cubeColor).onChange(
      async (value) => {
        if (value.match("^#([a-f0-9]{3}){1,2}$")) {
          this.plugin.settings.cubeColor = value;
          await this.plugin.saveSettings();
        }
      }
    ));
    new import_obsidian.Setting(containerEl).setName("Default arrow color").setDesc("Starting value: #08f (sky blue)").addText((text) => text.setPlaceholder("3 or 6 digit hex value").setValue(this.plugin.settings.arrowColor).onChange(
      async (value) => {
        if (value.match("^#([a-f0-9]{3}){1,2}$")) {
          this.plugin.settings.arrowColor = value;
          await this.plugin.saveSettings();
        }
      }
    ));
  }
};

// src/RCA-OLL-Calculations.ts
var DEFAULT = {
  WIDTH: 3,
  /* default rubik cube width */
  HEIGHT: 3,
  /* default rubik cube height */
  CODE_BLOCK_TEMPLATE: "\n```rubikCubeOLL\n.000.\n01101\n10101\n01101\n.000.\n```"
};
var OLL = class {
  constructor(settings) {
    this.cells = new Array();
    this.width = DEFAULT.WIDTH;
    this.height = DEFAULT.HEIGHT;
    if (settings.cubeColor) {
      this.cubeColor = settings.cubeColor;
    } else {
      this.cubeColor = DEFAULT_SETTINGS.CUBE_COLOR;
    }
    if (settings.arrowColor) {
      this.arrowColor = settings.arrowColor;
    } else {
      this.arrowColor = DEFAULT_SETTINGS.ARROW_COLOR;
    }
    this.arrows = "";
    this.codeBlockInterpretationSuccessful = true;
  }
  setDimension(w, h) {
    this.width = w;
    this.height = h;
  }
  setCubeColor(s) {
    this.cubeColor = "#" + s;
  }
  setArrowColor(s) {
    this.arrowColor = "#" + s;
  }
  setArrows(s) {
    this.arrows = s;
  }
  toString() {
    return "pll[cubeClr'" + this.cubeColor + "',arrowColor'" + this.arrowColor + "',arrows'" + this.arrows + "']";
  }
  interpretCodeBlock(rows) {
    if (rows.length < 4) {
      return this.fuckThisShitUp("[no input]", "Input for OLL should contain at least 4 lines!");
    } else if (false === rows[0].match("^\\..+?\\.$") || false === rows[rows.length - 1].match("^\\..+?\\.$")) {
      return this.fuckThisShitUp(rows[0], "First and last line should start and end on a dot ('.')!");
    }
    let expectedRowLength = rows[0].length;
    this.width = rows[0].length - 2;
    this.height = rows.length - 2;
    for (let r = 0; r < rows.length; r++) {
      let row = rows[r];
      if (row.length != expectedRowLength) {
        return this.fuckThisShitUp(row, "Inconsistent row length. Expected: " + expectedRowLength);
      }
      let parsedRow = new Array();
      for (let i = 0; i < row.length; i++) {
        let c = row[i];
        if (c === ".") {
          parsedRow[parsedRow.length] = -1;
        } else if (i === 0 || r === 0 || r === rows.length - 1 || i === row.length - 1) {
          parsedRow[parsedRow.length] = c.toLowerCase();
        } else {
          parsedRow[parsedRow.length] = c.toUpperCase();
        }
      }
      this.cells[this.cells.length] = parsedRow;
    }
    this.logCellsTable();
    return this.cells;
  }
  logCellsTable() {
    let log = "logCellsTable:\n";
    for (let i = 0; i < this.cells.length; i++) {
      log = log + this.cells[i] + "\n";
    }
    console.log(log);
  }
  //private calculateCoordinates(){
  //	this.COORDINATES[0] = [];
  //	let index:number=1;
  //	/* reverse loop order to give x coordinates more priority */
  //	for (let h = 0; h < this.height; h++) {
  //		for (let w = 0; w < this.width; w++) {
  //			this.COORDINATES[index++] = [w*100 + 50, h*100 + 50];
  //		}
  //	}
  //}
  fuckThisShitUp(mandatoryLastLineNotInterpretable, optionalReasonForFailure) {
    this.codeBlockInterpretationSuccessful = false;
    this.lastNonInterpretableLine = mandatoryLastLineNotInterpretable;
    if (optionalReasonForFailure) {
      this.reasonForFailure = optionalReasonForFailure;
      console.log('Unexpected OLL input: "' + mandatoryLastLineNotInterpretable + '" (' + optionalReasonForFailure + ")");
    } else {
      console.log('Unexpected OLL input: "' + mandatoryLastLineNotInterpretable + '" ');
    }
  }
  getDimensions() {
    let wXh = [this.width * 100 + 100, this.height * 100 + 100];
    return wXh;
  }
  static get3by3CodeBlockTemplate() {
    return DEFAULT.CODE_BLOCK_TEMPLATE;
  }
};

// src/RCA-PLL-Calculations.ts
var DEFAULT2 = {
  WIDTH: 3,
  /* default rubik cube width */
  HEIGHT: 3,
  /* default rubik cube height */
  CODE_BLOCK_TEMPLATE: "\n```rubikCubePLL\ndimension:3,3 // width,height\ncubeColor:ff0 // yellow cube, optional parameter\narrowColor:08f // sky blue arrows, optional parameter\narrows:1.1-1.3,7+9\n```"
};
var PLL = class {
  constructor(settings) {
    this.COORDINATES = new Array();
    this.width = DEFAULT2.WIDTH;
    this.height = DEFAULT2.HEIGHT;
    if (settings.cubeColor) {
      this.cubeColor = settings.cubeColor;
    } else {
      this.cubeColor = DEFAULT_SETTINGS.CUBE_COLOR;
    }
    if (settings.arrowColor) {
      this.arrowColor = settings.arrowColor;
    } else {
      this.arrowColor = DEFAULT_SETTINGS.ARROW_COLOR;
    }
    this.arrows = "";
    this.codeBlockInterpretationSuccessful = true;
  }
  setDimension(w, h) {
    this.width = w;
    this.height = h;
  }
  setCubeColor(s) {
    this.cubeColor = "#" + s;
  }
  setArrowColor(s) {
    this.arrowColor = "#" + s;
  }
  setArrows(s) {
    this.arrows = s;
  }
  toString() {
    return "pll[cubeClr'" + this.cubeColor + "',arrowColor'" + this.arrowColor + "',arrows'" + this.arrows + "']";
  }
  interpretCodeBlock(rows) {
    if (rows.length === 0) {
      return this.fuckThisShitUp("[no input]", "at least 1 parameter needed: 'dimension/cubeColor/arrowColor/arrows'");
    }
    for (let r = 0; r < rows.length; r++) {
      let row = rows[r];
      if (row.startsWith("dimension:")) {
        if (!row.match("^dimension:\\d+,\\d+( //.*)?")) {
          return this.fuckThisShitUp(row, 'invalid dimension, expected "dimension:[2-10],[2-10]" // optional comment goes here');
        }
        let wXh = row.split(" ")[0].trim().replace("dimension:", "");
        let wXhSplit = wXh.split(",");
        let w = wXhSplit[0];
        let h = wXhSplit[1];
        if (w < 2 || h < 2 || w > 10 || h > 10) {
          return this.fuckThisShitUp(row, "invalid dimensions - expected: 2 < width/height < 10");
        }
        this.setDimension(w, h);
      } else if (row.match("^cubeColor:([a-f0-9]{3}){1,2}( //.*)?")) {
        let newCubClr = row.split(" ")[0].trim().replace("cubeColor:", "");
        this.setCubeColor(newCubClr);
      } else if (row.match("^arrowColor:([a-f0-9]{3}){1,2}( //.*)?")) {
        let newAroClr = row.split(" ")[0].trim().replace("arrowColor:", "");
        this.setArrowColor(newAroClr);
      } else if (row.match("^arrows:\\d+(\\.\\d+)?(-|\\+)\\d+(\\.\\d+)?(,\\d+(\\.\\d+)?(-|\\+)\\d+(\\.\\d+)?)*( //.*)?")) {
        let newArrows = row.split(" ")[0].trim().replace("arrows:", "");
        this.setArrows(newArrows);
      } else {
        return this.fuckThisShitUp(row, "unexpected input, expected: 'dimension', 'cubeColor', 'arrowColor' or 'arrows'");
      }
    }
    this.calculateCoordinates();
  }
  calculateCoordinates() {
    this.COORDINATES[0] = [];
    let index = 1;
    for (let h = 0; h < this.height; h++) {
      for (let w = 0; w < this.width; w++) {
        this.COORDINATES[index++] = [w * 100 + 50, h * 100 + 50];
      }
    }
  }
  fuckThisShitUp(mandatoryLastLineNotInterpretable, optionalReasonForFailure) {
    this.codeBlockInterpretationSuccessful = false;
    this.lastNonInterpretableLine = mandatoryLastLineNotInterpretable;
    if (optionalReasonForFailure) {
      this.reasonForFailure = optionalReasonForFailure;
    }
    console.log('Unexpected PLL input: "' + mandatoryLastLineNotInterpretable + '"');
  }
  getCubeSize() {
    let wXh = [this.width * 100, this.height * 100];
    return wXh;
  }
  getArrowCoordinates() {
    let ARROWS = new Array();
    let allArrowCoords = this.arrows.split(",").filter((x) => x.length > 0);
    let index = 0;
    let isDoubleSided = false;
    for (let i = 0; i < allArrowCoords.length; i++) {
      isDoubleSided = false;
      let singleArrowCoords = allArrowCoords[i];
      let singleArrowCoordsFrom;
      let singleArrowCoordsTo;
      if (singleArrowCoords.match("\\d-\\d")) {
        let singleArrowCoordsSplit = singleArrowCoords.split("-");
        singleArrowCoordsFrom = singleArrowCoordsSplit[0];
        singleArrowCoordsTo = singleArrowCoordsSplit[1];
      } else {
        let singleArrowCoordsSplit = singleArrowCoords.split("+");
        singleArrowCoordsFrom = singleArrowCoordsSplit[0];
        singleArrowCoordsTo = singleArrowCoordsSplit[1];
        isDoubleSided = true;
      }
      if (singleArrowCoordsFrom === singleArrowCoordsTo) {
        this.fuckThisShitUp(singleArrowCoords, "arrow is pointing to its starting point");
        continue;
      }
      let arrowStart;
      let arrowEnd;
      if (singleArrowCoordsFrom.match("^[0-9]+$")) {
        arrowStart = this.COORDINATES[singleArrowCoordsFrom];
      } else {
        let semanticVersion = singleArrowCoordsFrom.split(".");
        let major = +semanticVersion[0];
        let minor = +semanticVersion[1];
        let c = (major - 1) * this.width + minor;
        arrowStart = this.COORDINATES[c];
      }
      if (singleArrowCoordsTo.match("^[0-9]+$")) {
        arrowEnd = this.COORDINATES[singleArrowCoordsTo];
      } else {
        let semanticVersion = singleArrowCoordsTo.split(".");
        let major = +semanticVersion[0];
        let minor = +semanticVersion[1];
        let c = (major - 1) * this.width + minor;
        arrowEnd = this.COORDINATES[c];
      }
      ARROWS[index++] = [arrowStart, arrowEnd];
      if (isDoubleSided) {
        ARROWS[index++] = [arrowEnd, arrowStart];
      }
    }
    return ARROWS;
  }
  static get3by3CodeBlockTemplate() {
    return DEFAULT2.CODE_BLOCK_TEMPLATE;
  }
};

// src/RCA-OLL-MarkdownPostProcessor.ts
var import_obsidian3 = require("obsidian");
var OLLView = class extends import_obsidian3.MarkdownRenderChild {
  constructor(source, plugin, element) {
    super(element);
    this.source = source;
    this.plugin = plugin;
    this.element = element;
    this.display();
  }
  onload() {
  }
  display() {
    this.element.empty();
    const rows = this.source.split("\n").filter((row) => row.length > 0);
    let ollData = new OLL(this.plugin.settings);
    let cells = ollData.interpretCodeBlock(rows);
    let widthXheight = ollData.getDimensions();
    if (false === ollData.codeBlockInterpretationSuccessful) {
      this.element.createEl("div", { text: "--- Rubik Cube OLL pattern interpretation failed ---" });
      this.element.createEl("div", { text: "Faulty input:" });
      let explanationDiv = this.element.createEl("div");
      explanationDiv.createEl("b", { text: '"' + ollData.lastNonInterpretableLine + '"', cls: "rubik-cube-warning-text" });
      if (ollData.reasonForFailure) {
        explanationDiv.createEl("div", { text: "Reason: " + ollData.reasonForFailure });
      }
      return;
    }
    let w = widthXheight[0];
    let h = widthXheight[1];
    console.log("rubikCubeOLL: w=" + w + ",h=" + h);
    let mainSvg = this.element.createSvg("svg", { attr: { width: 200, height: 200, viewBox: "0 0 " + w + " " + h }, cls: "rubik-cube-pll" });
    let cubeWidth = rows[0].length;
    let cubeHeight = rows.length;
    for (let x = 0; x < cubeWidth - 2; x++) {
      mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: 0, width: "100", height: "50", fill: this.getColor(cells[0][x + 1]) }, cls: "rubik-cube-rect" });
    }
    for (let x = 0; x < cubeWidth - 2; x++) {
      mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: h - 50, width: "100", height: "50", fill: this.getColor(cells[cells.length - 1][x + 1]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      mainSvg.createSvg("rect", { attr: { x: 0, y: 50 + y * 100, width: 50, height: 100, fill: this.getColor(cells[y + 1][0]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      mainSvg.createSvg("rect", { attr: { x: w - 50, y: 50 + y * 100, width: 50, height: 100, fill: this.getColor(cells[y + 1][cells.length - 1]) }, cls: "rubik-cube-rect" });
    }
    for (let y = 0; y < cubeHeight - 2; y++) {
      for (let x = 0; x < cubeWidth - 2; x++) {
        mainSvg.createSvg("rect", { attr: { x: 50 + x * 100, y: 50 + y * 100, width: 100, height: 100, fill: this.getColor(cells[y + 1][x + 1]) }, cls: "rubik-cube-pll-line-grid" });
      }
    }
    for (let x = 50; x < w; x += 100) {
      mainSvg.createSvg("line", { attr: { x1: x, x2: x, y1: 0, y2: h }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let y = 50; y < h; y += 100) {
      mainSvg.createSvg("line", { attr: { x1: 0, x2: w, y1: y, y2: y }, cls: "rubik-cube-pll-line-grid" });
    }
  }
  getColor(colorIndex) {
    let c = "#000";
    if (!colorIndex) {
      c = "#f00";
    } else {
      switch (colorIndex) {
        case "r":
          c = "#cc0000";
          break;
        // darker red (80%)
        case "R":
          c = "#ff0000";
          break;
        // red
        case "o":
          c = "#cc5000";
          break;
        // darker orange
        case "O":
          c = "#ff6400";
          break;
        // orange
        case "b":
          c = "#00009a";
          break;
        // darker blue
        case "B":
          c = "#0000bb";
          break;
        // blue
        case "g":
          c = "#009a00";
          break;
        // darker green
        case "G":
          c = "#00bb00";
          break;
        // green
        case "Y":
          c = "#ff0000";
          break;
        // yellow
        case "y":
          c = "#cc0000";
          break;
        // darker yellow
        case "W":
          c = "#ffffff";
          break;
        // white
        case "w":
          c = "#cccccc";
          break;
        // grey (80%)
        case ".":
          c = "#444";
          break;
        case "0":
          c = "#444";
          break;
        case "1":
          c = "#ff0";
          break;
        default:
          c = "#000";
          break;
      }
    }
    console.log("getColor() '" + colorIndex + "' => '" + c + "'");
    return c;
  }
};

// src/RCA-PLL-MarkdownPostProcessor.ts
var import_obsidian4 = require("obsidian");
var PLLView = class extends import_obsidian4.MarkdownRenderChild {
  constructor(source, plugin, element) {
    super(element);
    this.source = source;
    this.plugin = plugin;
    this.element = element;
    this.display();
  }
  onload() {
    this.registerEvent(
      this.plugin.app.workspace.on(
        "rubik:rerender-markdown-code-block-processors",
        this.display.bind(this)
      )
    );
  }
  display() {
    this.element.empty();
    const rows = this.source.split("\n").filter((row) => row.length > 0);
    let pllData = new PLL(this.plugin.settings);
    pllData.interpretCodeBlock(rows);
    let widthXheight = pllData.getCubeSize();
    let ARROWS = pllData.getArrowCoordinates();
    if (false === pllData.codeBlockInterpretationSuccessful) {
      this.element.createEl("div", { text: "--- Rubik Cube PLL pattern interpretation failed ---" });
      this.element.createEl("div", { text: "Faulty input:" });
      let explanationDiv = this.element.createEl("div");
      explanationDiv.createEl("b", { text: '"' + pllData.lastNonInterpretableLine + '"', cls: "rubik-cube-warning-text" });
      if (pllData.reasonForFailure) {
        explanationDiv.createEl("div", { text: "Reason: " + pllData.reasonForFailure });
      }
      return;
    }
    let w = widthXheight[0];
    let h = widthXheight[1];
    let mainSvg = this.element.createSvg("svg", { attr: { viewBox: "0 0 " + w + " " + h, width: w, height: h }, cls: "rubik-cube-pll" });
    let defs = mainSvg.createSvg("defs");
    let marker = defs.createSvg("marker", { attr: { id: "arrowhead" + pllData.arrowColor, markerWidth: "10", markerHeight: "7", refX: "9", refY: "3.5", orient: "auto" } });
    marker.createSvg("polygon", { attr: { points: "0 0, 10 3.5, 0 7", fill: pllData.arrowColor } });
    mainSvg.createSvg("rect", { attr: { fill: pllData.cubeColor }, cls: "rubik-cube-pll-rect" });
    for (let x = 100; x < w; x += 100) {
      mainSvg.createSvg("line", { attr: { x1: x, x2: x, y1: 0, y2: h }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let y = 100; y < h; y += 100) {
      mainSvg.createSvg("line", { attr: { x1: 0, x2: w, y1: y, y2: y }, cls: "rubik-cube-pll-line-grid" });
    }
    for (let i = 0; i < ARROWS.length; i++) {
      let arrow = ARROWS[i];
      let arrowStartCoord = arrow[0];
      let arrowEndCoord = arrow[1];
      mainSvg.createSvg("line", {
        attr: {
          x1: arrowStartCoord[0],
          x2: arrowEndCoord[0],
          y1: arrowStartCoord[1],
          y2: arrowEndCoord[1],
          "marker-end": "url(#arrowhead" + pllData.arrowColor + ")",
          stroke: pllData.arrowColor
        },
        cls: "rubik-cube-pll-line-arrow"
      });
    }
  }
};

// src/main.ts
var RubikCubeAlgos = class extends import_obsidian5.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerMarkdownCodeBlockProcessor(
      "rubikCubeOLL",
      (source, el, ctx) => {
        ctx.addChild(new OLLView(source, this, el));
      }
    );
    this.registerMarkdownCodeBlockProcessor(
      "rubikCubePLL",
      (source, el, ctx) => {
        ctx.addChild(new PLLView(source, this, el));
      }
    );
    this.addCommand({
      id: "RubikCubeAlgo-add-codeblock-template-3x3-OLL",
      name: "Add codeblock template: 3x3 OLL",
      editorCallback: (editor, view) => {
        editor.replaceSelection(OLL.get3by3CodeBlockTemplate());
      }
    });
    this.addCommand({
      id: "RubikCubeAlgo-add-codeblock-template-3x3-PLL",
      name: "Add codeblock template: 3x3 PLL",
      editorCallback: (editor, view) => {
        editor.replaceSelection(PLL.get3by3CodeBlockTemplate());
      }
    });
    this.addSettingTab(
      new RubikCubeAlgoSettingsTab(
        this.app,
        this
      )
    );
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.app.workspace.trigger(
      "rubik:rerender-markdown-code-block-processors"
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL1J1YmlrQ3ViZUFsZ29TZXR0aW5ncy50cyIsICJzcmMvUkNBLU9MTC1DYWxjdWxhdGlvbnMudHMiLCAic3JjL1JDQS1QTEwtQ2FsY3VsYXRpb25zLnRzIiwgInNyYy9SQ0EtT0xMLU1hcmtkb3duUG9zdFByb2Nlc3Nvci50cyIsICJzcmMvUkNBLVBMTC1NYXJrZG93blBvc3RQcm9jZXNzb3IudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IE1hcmtkb3duUmVuZGVyQ2hpbGQsIFBsdWdpbiwgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IE9MTCB9IGZyb20gXCIuL1JDQS1PTEwtQ2FsY3VsYXRpb25zXCI7XHJcbmltcG9ydCB7IFBMTCB9IGZyb20gXCIuL1JDQS1QTEwtQ2FsY3VsYXRpb25zXCI7XHJcbmltcG9ydCB7IE9MTFZpZXcgfSBmcm9tIFwiLi9SQ0EtT0xMLU1hcmtkb3duUG9zdFByb2Nlc3NvclwiO1xyXG5pbXBvcnQgeyBQTExWaWV3IH0gZnJvbSBcIi4vUkNBLVBMTC1NYXJrZG93blBvc3RQcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUywgUnViaWtDdWJlQWxnb1NldHRpbmdzVGFiIH0gZnJvbSBcIi4vUnViaWtDdWJlQWxnb1NldHRpbmdzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdWJpa0N1YmVBbGdvcyBleHRlbmRzIFBsdWdpbiB7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvciggXCJydWJpa0N1YmVPTExcIixcclxuXHRcdFx0KHNvdXJjZSwgZWwsIGN0eCkgPT4ge1xyXG5cdFx0XHRcdGN0eC5hZGRDaGlsZChuZXcgT0xMVmlldyhzb3VyY2UsIHRoaXMsIGVsKSk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKCBcInJ1YmlrQ3ViZVBMTFwiLFxyXG5cdFx0XHQoc291cmNlLCBlbCwgY3R4KSA9PiB7XHJcblx0XHRcdFx0Y3R4LmFkZENoaWxkKG5ldyBQTExWaWV3KHNvdXJjZSwgdGhpcywgZWwpKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJSdWJpa0N1YmVBbGdvLWFkZC1jb2RlYmxvY2stdGVtcGxhdGUtM3gzLU9MTFwiLFxyXG5cdFx0XHRuYW1lOiBcIkFkZCBjb2RlYmxvY2sgdGVtcGxhdGU6IDN4MyBPTExcIixcclxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+IHtcclxuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihPTEwuZ2V0M2J5M0NvZGVCbG9ja1RlbXBsYXRlKCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJSdWJpa0N1YmVBbGdvLWFkZC1jb2RlYmxvY2stdGVtcGxhdGUtM3gzLVBMTFwiLFxyXG5cdFx0XHRuYW1lOiBcIkFkZCBjb2RlYmxvY2sgdGVtcGxhdGU6IDN4MyBQTExcIixcclxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3IsIHZpZXcpID0+IHtcclxuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihQTEwuZ2V0M2J5M0NvZGVCbG9ja1RlbXBsYXRlKCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIoXHJcblx0XHRcdG5ldyBSdWJpa0N1YmVBbGdvU2V0dGluZ3NUYWIoXHJcblx0XHRcdFx0dGhpcy5hcHAsXHJcblx0XHRcdFx0dGhpc1xyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdH1cclxuXHRcclxuXHRvbnVubG9hZCgpIHtcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cdFxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihcclxuXHRcdFx0XCJydWJpazpyZXJlbmRlci1tYXJrZG93bi1jb2RlLWJsb2NrLXByb2Nlc3NvcnNcIlxyXG5cdFx0KTtcclxuXHR9XHJcbn07XHJcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IFJ1YmlrQ3ViZUFsZ29zIGZyb20gXCIuL21haW5cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTID0ge1xyXG5cdENVQkVfQ09MT1I6IFwiI2ZmMFwiLCAvKiB5ZWxsb3cgZm9yIGN1YmUgKi9cclxuXHRBUlJPV19DT0xPUjogXCIjMDhmXCIgLyogc2t5IGJsdWUgZm9yIGFycm93cyAqL1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFJ1YmlrQ3ViZUFsZ29TZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdFxyXG5cdGNvbnN0cnVjdG9yKGFwcCwgcGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblx0IFxyXG5cdGRpc3BsYXkoKSB7XHJcblx0XHRcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblx0XHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cdFxyXG5cdFx0bmV3IGltcG9ydF9vYnNpZGlhbi5TZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIkRlZmF1bHQgY3ViZSBjb2xvclwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIlN0YXJ0aW5nIHZhbHVlOiAjZmYwICh5ZWxsb3cpXCIpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiMyBvciA2IGRpZ2l0IGhleCB2YWx1ZVwiKSBcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3ViZUNvbG9yKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGlmICh2YWx1ZS5tYXRjaChcIl4jKFthLWYwLTldezN9KXsxLDJ9JFwiKSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdWJlQ29sb3IgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0KSk7XHJcblx0XHJcblx0XHRuZXcgaW1wb3J0X29ic2lkaWFuLlNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiRGVmYXVsdCBhcnJvdyBjb2xvclwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIlN0YXJ0aW5nIHZhbHVlOiAjMDhmIChza3kgYmx1ZSlcIilcclxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCIzIG9yIDYgZGlnaXQgaGV4IHZhbHVlXCIpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFycm93Q29sb3IpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHZhbHVlLm1hdGNoKFwiXiMoW2EtZjAtOV17M30pezEsMn0kXCIpKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFycm93Q29sb3IgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0KSk7XHJcblx0fVxyXG59OyIsICJpbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTLCBSdWJpa0N1YmVBbGdvc1NldHRpbmdzIH0gZnJvbSBcIi4vUnViaWtDdWJlQWxnb1NldHRpbmdzXCI7XHJcblxyXG5jb25zdCBERUZBVUxUID0ge1xyXG5cdFdJRFRIOiAzLCAvKiBkZWZhdWx0IHJ1YmlrIGN1YmUgd2lkdGggKi9cclxuXHRIRUlHSFQ6IDMsIC8qIGRlZmF1bHQgcnViaWsgY3ViZSBoZWlnaHQgKi9cclxuXHRDT0RFX0JMT0NLX1RFTVBMQVRFOlxyXG4nXFxuYGBgcnViaWtDdWJlT0xMXFxuJytcclxuJy4wMDAuXFxuJytcclxuJzAxMTAxXFxuJytcclxuJzEwMTAxXFxuJytcclxuJzAxMTAxXFxuJytcclxuJy4wMDAuXFxuJytcclxuJ2BgYCdcclxufSBhcyBjb25zdDsgXHJcblxyXG5jb25zdCBsaWdodDpudW1iZXIgPSAxO1xyXG5jb25zdCBkYXJrOm51bWJlciA9IDA7XHJcblxyXG5leHBvcnQgY2xhc3MgT0xMIHtcclxuXHRjZWxsczpudW1iZXJbXTtcclxuXHR3aWR0aDpudW1iZXI7XHJcblx0aGVpZ2h0Om51bWJlcjtcclxuXHRjdWJlQ29sb3I6c3RyaW5nO1xyXG5cdGFycm93Q29sb3I6c3RyaW5nO1xyXG5cdGFycm93czpzdHJpbmc7XHJcblx0Y29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsOmJvb2xlYW47XHJcblx0bGFzdE5vbkludGVycHJldGFibGVMaW5lOnN0cmluZzsgXHJcblx0cmVhc29uRm9yRmFpbHVyZTpzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHNldHRpbmdzOlJ1YmlrQ3ViZUFsZ29zU2V0dGluZ3MpIHtcclxuXHRcdHRoaXMuY2VsbHMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdHRoaXMud2lkdGggPSBERUZBVUxULldJRFRIO1xyXG5cdFx0dGhpcy5oZWlnaHQgPSBERUZBVUxULkhFSUdIVDtcclxuXHRcdFxyXG5cdFx0aWYgKHNldHRpbmdzLmN1YmVDb2xvcil7XHJcblx0XHRcdHRoaXMuY3ViZUNvbG9yID0gc2V0dGluZ3MuY3ViZUNvbG9yO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5jdWJlQ29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkNVQkVfQ09MT1I7XHJcblx0XHR9XHJcblx0XHRpZiAoc2V0dGluZ3MuYXJyb3dDb2xvcil7XHJcblx0XHRcdHRoaXMuYXJyb3dDb2xvciA9IHNldHRpbmdzLmFycm93Q29sb3I7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmFycm93Q29sb3IgPSBERUZBVUxUX1NFVFRJTkdTLkFSUk9XX0NPTE9SO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHR0aGlzLmFycm93cyA9IFwiXCI7XHJcblx0XHR0aGlzLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bD10cnVlO1xyXG5cdH1cclxuXHRwcml2YXRlIHNldERpbWVuc2lvbih3Om51bWJlcixoOm51bWJlcik6dm9pZCB7XHJcblx0XHR0aGlzLndpZHRoPXc7XHJcblx0XHR0aGlzLmhlaWdodD1oO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBkaW1lbnNpb25zOiBcIit3K1wiLFwiK2gpO1xyXG5cdH1cclxuXHRwcml2YXRlIHNldEN1YmVDb2xvcihzOnN0cmluZyk6dm9pZCB7XHJcblx0XHR0aGlzLmN1YmVDb2xvciA9ICcjJytzO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBjdWJlIGNvbG9yOiAnXCIrcytcIidcIik7XHJcblx0fVxyXG5cdHByaXZhdGUgc2V0QXJyb3dDb2xvcihzOnN0cmluZyk6dm9pZCB7XHJcblx0XHR0aGlzLmFycm93Q29sb3IgPSAnIycrcztcclxuXHRcdC8vY29uc29sZS5sb2coXCJuZXcgYXJyb3cgY29sb3I6ICdcIitzK1wiJ1wiKTtcclxuXHR9XHJcblx0cHJpdmF0ZSBzZXRBcnJvd3MoczpzdHJpbmcpOnZvaWQge1xyXG5cdFx0dGhpcy5hcnJvd3MgPSBzO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcIm5ldyBhcnJvd3M6ICdcIitzK1wiJ1wiKTtcclxuXHR9XHJcblx0dG9TdHJpbmcoKTpzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwicGxsW2N1YmVDbHInXCIrdGhpcy5jdWJlQ29sb3IrXCInLGFycm93Q29sb3InXCIrdGhpcy5hcnJvd0NvbG9yK1wiJyxhcnJvd3MnXCIrdGhpcy5hcnJvd3MrXCInXVwiXHJcblx0fVxyXG5cdGludGVycHJldENvZGVCbG9jayhyb3dzOnN0cmluZ1tdKTpBcnJheSB7XHJcblx0XHRpZiAocm93cy5sZW5ndGggPCA0KXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAoXCJbbm8gaW5wdXRdXCIsXCJJbnB1dCBmb3IgT0xMIHNob3VsZCBjb250YWluIGF0IGxlYXN0IDQgbGluZXMhXCIpO1xyXG5cdFx0fSBlbHNlIGlmIChmYWxzZSA9PT0gcm93c1swXS5tYXRjaCgnXlxcXFwuLis/XFxcXC4kJykgfHwgZmFsc2UgPT09IHJvd3Nbcm93cy5sZW5ndGgtMV0ubWF0Y2goJ15cXFxcLi4rP1xcXFwuJCcpICkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5mdWNrVGhpc1NoaXRVcChyb3dzWzBdLFwiRmlyc3QgYW5kIGxhc3QgbGluZSBzaG91bGQgc3RhcnQgYW5kIGVuZCBvbiBhIGRvdCAoJy4nKSFcIik7XHJcblx0XHR9XHJcblx0XHRsZXQgZXhwZWN0ZWRSb3dMZW5ndGg6bnVtYmVyID0gcm93c1swXS5sZW5ndGg7XHJcblx0XHR0aGlzLndpZHRoID0gcm93c1swXS5sZW5ndGggLSAyO1xyXG5cdFx0dGhpcy5oZWlnaHQgPSByb3dzLmxlbmd0aCAtIDI7XHJcblx0XHRmb3IgKGxldCByID0gMDsgciA8IHJvd3MubGVuZ3RoOyByKyspIHtcclxuXHRcdFx0bGV0IHJvdyA9IHJvd3Nbcl07XHJcblx0XHRcdGlmIChyb3cubGVuZ3RoICE9IGV4cGVjdGVkUm93TGVuZ3RoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAocm93LCdJbmNvbnNpc3RlbnQgcm93IGxlbmd0aC4gRXhwZWN0ZWQ6ICcrZXhwZWN0ZWRSb3dMZW5ndGgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCBwYXJzZWRSb3c6bnVtYmVyW10gPSBuZXcgQXJyYXkoKTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByb3cubGVuZ3RoOyBpKyspIHsgXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bGV0IGM6c3RyaW5nID0gcm93W2ldO1xyXG5cdFx0XHRcdGlmIChjPT09Jy4nKSB7XHJcblx0XHRcdFx0XHRwYXJzZWRSb3dbcGFyc2VkUm93Lmxlbmd0aF0gPSAtMTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGkgPT09IDAgfHwgciA9PT0gMCB8fCByID09PSByb3dzLmxlbmd0aC0xIHx8IGkgPT09IHJvdy5sZW5ndGgtMSkge1xyXG5cdFx0XHRcdFx0cGFyc2VkUm93W3BhcnNlZFJvdy5sZW5ndGhdID0gYy50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwYXJzZWRSb3dbcGFyc2VkUm93Lmxlbmd0aF0gPSBjLnRvVXBwZXJDYXNlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuY2VsbHNbdGhpcy5jZWxscy5sZW5ndGhdID0gcGFyc2VkUm93O1xyXG5cdFx0fVx0XHJcblx0XHQvL3RoaXMuY2FsY3VsYXRlQ29vcmRpbmF0ZXMoKTtcclxuXHRcdHRoaXMubG9nQ2VsbHNUYWJsZSgpO1xyXG5cdFx0cmV0dXJuIHRoaXMuY2VsbHM7XHJcblx0fVxyXG5cdHByaXZhdGUgbG9nQ2VsbHNUYWJsZSgpIHtcclxuXHRcdGxldCBsb2c6c3RyaW5nID0gJ2xvZ0NlbGxzVGFibGU6XFxuJ1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNlbGxzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxvZyA9IGxvZyArIHRoaXMuY2VsbHNbaV0gKyAnXFxuJztcclxuXHRcdH1cclxuXHRcdGNvbnNvbGUubG9nKGxvZyk7XHJcblx0fVxyXG5cdC8vcHJpdmF0ZSBjYWxjdWxhdGVDb29yZGluYXRlcygpe1xyXG5cdC8vXHR0aGlzLkNPT1JESU5BVEVTWzBdID0gW107XHJcblx0Ly9cdGxldCBpbmRleDpudW1iZXI9MTtcclxuXHQvL1x0LyogcmV2ZXJzZSBsb29wIG9yZGVyIHRvIGdpdmUgeCBjb29yZGluYXRlcyBtb3JlIHByaW9yaXR5ICovXHJcblx0Ly9cdGZvciAobGV0IGggPSAwOyBoIDwgdGhpcy5oZWlnaHQ7IGgrKykge1xyXG5cdC8vXHRcdGZvciAobGV0IHcgPSAwOyB3IDwgdGhpcy53aWR0aDsgdysrKSB7XHJcblx0Ly9cdFx0XHR0aGlzLkNPT1JESU5BVEVTW2luZGV4KytdID0gW3cqMTAwICsgNTAsIGgqMTAwICsgNTBdO1xyXG5cdC8vXHRcdH1cclxuXHQvL1x0fVxyXG5cdC8vfVxyXG5cdHByaXZhdGUgZnVja1RoaXNTaGl0VXAobWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlOnN0cmluZywgb3B0aW9uYWxSZWFzb25Gb3JGYWlsdXJlOnN0cmluZyk6dm9pZHtcclxuXHRcdHRoaXMuY29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsPWZhbHNlO1xyXG5cdFx0dGhpcy5sYXN0Tm9uSW50ZXJwcmV0YWJsZUxpbmU9bWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlO1xyXG5cdFx0aWYgKG9wdGlvbmFsUmVhc29uRm9yRmFpbHVyZSkge1xyXG5cdFx0XHR0aGlzLnJlYXNvbkZvckZhaWx1cmU9b3B0aW9uYWxSZWFzb25Gb3JGYWlsdXJlO1xyXG5cdFx0XHRjb25zb2xlLmxvZygnVW5leHBlY3RlZCBPTEwgaW5wdXQ6IFwiJyttYW5kYXRvcnlMYXN0TGluZU5vdEludGVycHJldGFibGUrJ1wiICgnXHJcblx0XHRcdCtvcHRpb25hbFJlYXNvbkZvckZhaWx1cmUrXHJcblx0XHRcdCcpJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnVW5leHBlY3RlZCBPTEwgaW5wdXQ6IFwiJyttYW5kYXRvcnlMYXN0TGluZU5vdEludGVycHJldGFibGUrJ1wiICcpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRnZXREaW1lbnNpb25zKCl7XHJcblx0XHRsZXQgd1hoID0gW3RoaXMud2lkdGgqMTAwICsgMTAwLCB0aGlzLmhlaWdodCoxMDAgKyAxMDBdO1xyXG5cdFx0cmV0dXJuIHdYaDtcclxuXHR9XHJcblx0c3RhdGljIGdldDNieTNDb2RlQmxvY2tUZW1wbGF0ZSgpOnN0cmluZyB7XHJcblx0XHRyZXR1cm4gREVGQVVMVC5DT0RFX0JMT0NLX1RFTVBMQVRFO1xyXG5cdH1cclxufTsiLCAiaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUywgUnViaWtDdWJlQWxnb3NTZXR0aW5ncyB9IGZyb20gXCIuL1J1YmlrQ3ViZUFsZ29TZXR0aW5nc1wiO1xyXG5cclxuY29uc3QgREVGQVVMVCA9IHtcclxuXHRXSURUSDogMywgLyogZGVmYXVsdCBydWJpayBjdWJlIHdpZHRoICovXHJcblx0SEVJR0hUOiAzLCAvKiBkZWZhdWx0IHJ1YmlrIGN1YmUgaGVpZ2h0ICovXHJcblx0Q09ERV9CTE9DS19URU1QTEFURTpcclxuJ1xcbmBgYHJ1YmlrQ3ViZVBMTFxcbicrXHJcbidkaW1lbnNpb246MywzIC8vIHdpZHRoLGhlaWdodFxcbicrXHJcbidjdWJlQ29sb3I6ZmYwIC8vIHllbGxvdyBjdWJlLCBvcHRpb25hbCBwYXJhbWV0ZXJcXG4nK1xyXG4nYXJyb3dDb2xvcjowOGYgLy8gc2t5IGJsdWUgYXJyb3dzLCBvcHRpb25hbCBwYXJhbWV0ZXJcXG4nK1xyXG4nYXJyb3dzOjEuMS0xLjMsNys5XFxuJytcclxuJ2BgYCdcclxufSBhcyBjb25zdDsgXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBMTCB7XHJcblx0Q09PUkRJTkFURVM7XHJcblx0d2lkdGg6bnVtYmVyO1xyXG5cdGhlaWdodDpudW1iZXI7XHJcblx0Y3ViZUNvbG9yOnN0cmluZztcclxuXHRhcnJvd0NvbG9yOnN0cmluZztcclxuXHRhcnJvd3M6c3RyaW5nO1xyXG5cdGNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bDpib29sZWFuO1xyXG5cdGxhc3ROb25JbnRlcnByZXRhYmxlTGluZTpzdHJpbmc7IFxyXG5cdHJlYXNvbkZvckZhaWx1cmU6c3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihzZXR0aW5nczpSdWJpa0N1YmVBbGdvc1NldHRpbmdzKSB7XHJcblx0XHR0aGlzLkNPT1JESU5BVEVTID0gbmV3IEFycmF5KCk7XHJcblx0XHR0aGlzLndpZHRoID0gREVGQVVMVC5XSURUSDtcclxuXHRcdHRoaXMuaGVpZ2h0ID0gREVGQVVMVC5IRUlHSFQ7XHJcblx0XHRcclxuXHRcdGlmIChzZXR0aW5ncy5jdWJlQ29sb3Ipe1xyXG5cdFx0XHR0aGlzLmN1YmVDb2xvciA9IHNldHRpbmdzLmN1YmVDb2xvcjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuY3ViZUNvbG9yID0gREVGQVVMVF9TRVRUSU5HUy5DVUJFX0NPTE9SO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHNldHRpbmdzLmFycm93Q29sb3Ipe1xyXG5cdFx0XHR0aGlzLmFycm93Q29sb3IgPSBzZXR0aW5ncy5hcnJvd0NvbG9yO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5hcnJvd0NvbG9yID0gREVGQVVMVF9TRVRUSU5HUy5BUlJPV19DT0xPUjtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0dGhpcy5hcnJvd3MgPSBcIlwiO1xyXG5cdFx0dGhpcy5jb2RlQmxvY2tJbnRlcnByZXRhdGlvblN1Y2Nlc3NmdWw9dHJ1ZTtcclxuXHR9XHJcblx0cHJpdmF0ZSBzZXREaW1lbnNpb24odzpudW1iZXIsaDpudW1iZXIpOnZvaWQge1xyXG5cdFx0dGhpcy53aWR0aD13O1xyXG5cdFx0dGhpcy5oZWlnaHQ9aDtcclxuXHRcdC8vY29uc29sZS5sb2coXCJuZXcgZGltZW5zaW9uczogXCIrdytcIixcIitoKTtcclxuXHR9XHJcblx0cHJpdmF0ZSBzZXRDdWJlQ29sb3IoczpzdHJpbmcpOnZvaWQge1xyXG5cdFx0dGhpcy5jdWJlQ29sb3IgPSAnIycrcztcclxuXHRcdC8vY29uc29sZS5sb2coXCJuZXcgY3ViZSBjb2xvcjogJ1wiK3MrXCInXCIpO1xyXG5cdH1cclxuXHRwcml2YXRlIHNldEFycm93Q29sb3IoczpzdHJpbmcpOnZvaWQge1xyXG5cdFx0dGhpcy5hcnJvd0NvbG9yID0gJyMnK3M7XHJcblx0XHQvL2NvbnNvbGUubG9nKFwibmV3IGFycm93IGNvbG9yOiAnXCIrcytcIidcIik7XHJcblx0fVxyXG5cdHByaXZhdGUgc2V0QXJyb3dzKHM6c3RyaW5nKTp2b2lkIHtcclxuXHRcdHRoaXMuYXJyb3dzID0gcztcclxuXHRcdC8vY29uc29sZS5sb2coXCJuZXcgYXJyb3dzOiAnXCIrcytcIidcIik7XHJcblx0fVxyXG5cdHRvU3RyaW5nKCk6c3RyaW5nIHtcclxuXHRcdHJldHVybiBcInBsbFtjdWJlQ2xyJ1wiK3RoaXMuY3ViZUNvbG9yK1wiJyxhcnJvd0NvbG9yJ1wiK3RoaXMuYXJyb3dDb2xvcitcIicsYXJyb3dzJ1wiK3RoaXMuYXJyb3dzK1wiJ11cIlxyXG5cdH1cclxuXHRpbnRlcnByZXRDb2RlQmxvY2socm93czpzdHJpbmdbXSk6dm9pZCB7XHJcblx0XHRpZiAocm93cy5sZW5ndGggPT09MCl7XHJcblx0XHRcdHJldHVybiB0aGlzLmZ1Y2tUaGlzU2hpdFVwKFwiW25vIGlucHV0XVwiLFwiYXQgbGVhc3QgMSBwYXJhbWV0ZXIgbmVlZGVkOiAnZGltZW5zaW9uL2N1YmVDb2xvci9hcnJvd0NvbG9yL2Fycm93cydcIik7XHJcblx0XHR9XHJcblx0XHQvLyBjb25zb2xlLmxvZygncGxsIGJlZm9yZTogJyt0aGlzLnRvU3RyaW5nKCkpO1x0XHRcclxuXHRcdGZvciAobGV0IHIgPSAwOyByIDwgcm93cy5sZW5ndGg7IHIrKykge1xyXG5cdFx0XHRsZXQgcm93ID0gcm93c1tyXTtcclxuXHRcdFx0aWYgKHJvdy5zdGFydHNXaXRoKCdkaW1lbnNpb246JykpIHtcclxuXHRcdFx0XHRpZiAoIXJvdy5tYXRjaCgnXmRpbWVuc2lvbjpcXFxcZCssXFxcXGQrKCAvLy4qKT8nKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZnVja1RoaXNTaGl0VXAocm93LCdpbnZhbGlkIGRpbWVuc2lvbiwgZXhwZWN0ZWQgXCJkaW1lbnNpb246WzItMTBdLFsyLTEwXVwiIC8vIG9wdGlvbmFsIGNvbW1lbnQgZ29lcyBoZXJlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCB3WGggPSByb3cuc3BsaXQoJyAnKVswXS50cmltKCkucmVwbGFjZSgnZGltZW5zaW9uOicsJycpO1xyXG5cdFx0XHRcdGxldCB3WGhTcGxpdCA9IHdYaC5zcGxpdCgnLCcpO1xyXG5cdFx0XHRcdGxldCB3PSB3WGhTcGxpdFswXTtcclxuXHRcdFx0XHRsZXQgaD0gd1hoU3BsaXRbMV07XHJcblx0XHRcdFx0aWYgKHc8Mnx8aDwyfHx3PjEwfHxoPjEwKXtcclxuXHRcdFx0XHRcdHJldHVybiB0aGlzLmZ1Y2tUaGlzU2hpdFVwKHJvdywnaW52YWxpZCBkaW1lbnNpb25zIC0gZXhwZWN0ZWQ6IDIgPCB3aWR0aC9oZWlnaHQgPCAxMCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnNldERpbWVuc2lvbih3LGgpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJvdy5tYXRjaCgnXmN1YmVDb2xvcjooW2EtZjAtOV17M30pezEsMn0oIC8vLiopPycpKSB7XHJcblx0XHRcdFx0bGV0IG5ld0N1YkNsciA9IHJvdy5zcGxpdCgnICcpWzBdLnRyaW0oKS5yZXBsYWNlKCdjdWJlQ29sb3I6JywnJyk7XHJcblx0XHRcdFx0dGhpcy5zZXRDdWJlQ29sb3IobmV3Q3ViQ2xyKTtcclxuXHRcdFx0fSBlbHNlIGlmIChyb3cubWF0Y2goJ15hcnJvd0NvbG9yOihbYS1mMC05XXszfSl7MSwyfSggLy8uKik/JykpIHtcclxuXHRcdFx0XHRsZXQgbmV3QXJvQ2xyID0gcm93LnNwbGl0KCcgJylbMF0udHJpbSgpLnJlcGxhY2UoJ2Fycm93Q29sb3I6JywnJylcclxuXHRcdFx0XHR0aGlzLnNldEFycm93Q29sb3IobmV3QXJvQ2xyKTtcclxuXHRcdFx0fSBlbHNlIGlmIChyb3cubWF0Y2goJ15hcnJvd3M6XFxcXGQrKFxcXFwuXFxcXGQrKT8oLXxcXFxcKylcXFxcZCsoXFxcXC5cXFxcZCspPygsXFxcXGQrKFxcXFwuXFxcXGQrKT8oLXxcXFxcKylcXFxcZCsoXFxcXC5cXFxcZCspPykqKCAvLy4qKT8nKSkge1xyXG5cdFx0XHRcdGxldCBuZXdBcnJvd3MgPSByb3cuc3BsaXQoJyAnKVswXS50cmltKCkucmVwbGFjZSgnYXJyb3dzOicsJycpXHJcblx0XHRcdFx0dGhpcy5zZXRBcnJvd3MobmV3QXJyb3dzKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5mdWNrVGhpc1NoaXRVcChyb3csIFwidW5leHBlY3RlZCBpbnB1dCwgZXhwZWN0ZWQ6ICdkaW1lbnNpb24nLCAnY3ViZUNvbG9yJywgJ2Fycm93Q29sb3InIG9yICdhcnJvd3MnXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHRcclxuXHRcdHRoaXMuY2FsY3VsYXRlQ29vcmRpbmF0ZXMoKTtcclxuXHR9XHJcblx0cHJpdmF0ZSBjYWxjdWxhdGVDb29yZGluYXRlcygpe1xyXG5cdFx0dGhpcy5DT09SRElOQVRFU1swXSA9IFtdO1xyXG5cdFx0bGV0IGluZGV4Om51bWJlcj0xO1xyXG5cdFx0LyogcmV2ZXJzZSBsb29wIG9yZGVyIHRvIGdpdmUgeCBjb29yZGluYXRlcyBtb3JlIHByaW9yaXR5ICovXHJcblx0XHRmb3IgKGxldCBoID0gMDsgaCA8IHRoaXMuaGVpZ2h0OyBoKyspIHtcclxuXHRcdFx0Zm9yIChsZXQgdyA9IDA7IHcgPCB0aGlzLndpZHRoOyB3KyspIHtcclxuXHRcdFx0XHR0aGlzLkNPT1JESU5BVEVTW2luZGV4KytdID0gW3cqMTAwICsgNTAsIGgqMTAwICsgNTBdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHByaXZhdGUgZnVja1RoaXNTaGl0VXAobWFuZGF0b3J5TGFzdExpbmVOb3RJbnRlcnByZXRhYmxlOnN0cmluZywgb3B0aW9uYWxSZWFzb25Gb3JGYWlsdXJlOnN0cmluZyl7XHJcblx0XHR0aGlzLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bD1mYWxzZTtcclxuXHRcdHRoaXMubGFzdE5vbkludGVycHJldGFibGVMaW5lPW1hbmRhdG9yeUxhc3RMaW5lTm90SW50ZXJwcmV0YWJsZTtcclxuXHRcdGlmIChvcHRpb25hbFJlYXNvbkZvckZhaWx1cmUpIHtcclxuXHRcdFx0dGhpcy5yZWFzb25Gb3JGYWlsdXJlPW9wdGlvbmFsUmVhc29uRm9yRmFpbHVyZTtcclxuXHRcdH1cclxuXHRcdGNvbnNvbGUubG9nKCdVbmV4cGVjdGVkIFBMTCBpbnB1dDogXCInK21hbmRhdG9yeUxhc3RMaW5lTm90SW50ZXJwcmV0YWJsZSsnXCInKTtcclxuXHR9XHJcblx0Z2V0Q3ViZVNpemUoKXtcclxuXHRcdGxldCB3WGggPSBbdGhpcy53aWR0aCoxMDAsIHRoaXMuaGVpZ2h0KjEwMF07XHJcblx0XHRyZXR1cm4gd1hoO1xyXG5cdH1cclxuXHRnZXRBcnJvd0Nvb3JkaW5hdGVzKCkge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnPj4gZ2V0QXJyb3dDb29yZGluYXRlcywgJyArIHRoaXMuQ09PUkRJTkFURVMpO1xyXG5cdFx0bGV0IEFSUk9XUyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0bGV0IGFsbEFycm93Q29vcmRzID0gdGhpcy5hcnJvd3Muc3BsaXQoJywnKS5maWx0ZXIoKHgpID0+IHgubGVuZ3RoID4gMCk7XHJcblx0XHRsZXQgaW5kZXg6bnVtYmVyID0gMDtcclxuXHRcdC8vY29uc29sZS5sb2coXCJBcnJvd3MgdG8gaW50ZXJwcmV0OiBcIithbGxBcnJvd0Nvb3Jkcyk7XHJcblx0XHRsZXQgaXNEb3VibGVTaWRlZDpib29sZWFuID0gZmFsc2U7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFsbEFycm93Q29vcmRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlzRG91YmxlU2lkZWQgPSBmYWxzZTtcclxuXHRcdFx0bGV0IHNpbmdsZUFycm93Q29vcmRzOnN0cmluZyA9IGFsbEFycm93Q29vcmRzW2ldO1xyXG5cdFx0XHRsZXQgc2luZ2xlQXJyb3dDb29yZHNGcm9tOnN0cmluZzsgXHJcblx0XHRcdGxldCBzaW5nbGVBcnJvd0Nvb3Jkc1RvOnN0cmluZztcclxuXHRcdFx0XHJcblx0XHRcdGlmIChzaW5nbGVBcnJvd0Nvb3Jkcy5tYXRjaCgnXFxcXGQtXFxcXGQnKSkge1xyXG5cdFx0XHRcdGxldCBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0ID0gc2luZ2xlQXJyb3dDb29yZHMuc3BsaXQoJy0nKTtcclxuXHRcdFx0XHRzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20gPSBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0WzBdO1xyXG5cdFx0XHRcdHNpbmdsZUFycm93Q29vcmRzVG8gPSBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0WzFdO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGxldCBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0ID0gc2luZ2xlQXJyb3dDb29yZHMuc3BsaXQoJysnKTtcclxuXHRcdFx0XHRzaW5nbGVBcnJvd0Nvb3Jkc0Zyb20gPSBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0WzBdO1xyXG5cdFx0XHRcdHNpbmdsZUFycm93Q29vcmRzVG8gPSBzaW5nbGVBcnJvd0Nvb3Jkc1NwbGl0WzFdO1xyXG5cdFx0XHRcdGlzRG91YmxlU2lkZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoc2luZ2xlQXJyb3dDb29yZHNGcm9tPT09c2luZ2xlQXJyb3dDb29yZHNUbyl7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJTa2lwIGFycm93IHBvaW50aW5nIHRvIGl0c2VsZjogXCIrc2luZ2xlQXJyb3dDb29yZHNGcm9tKTtcclxuXHRcdFx0XHR0aGlzLmZ1Y2tUaGlzU2hpdFVwKHNpbmdsZUFycm93Q29vcmRzLCdhcnJvdyBpcyBwb2ludGluZyB0byBpdHMgc3RhcnRpbmcgcG9pbnQnKTtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9jb25zb2xlLmxvZyhcIi0tIEFycm93IGdvZXMgZnJvbSAnXCIrc2luZ2xlQXJyb3dDb29yZHNGcm9tK1wiJyB0byAnXCIrc2luZ2xlQXJyb3dDb29yZHNUbytcIidcIik7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgYXJyb3dTdGFydDtcclxuXHRcdFx0bGV0IGFycm93RW5kO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHNpbmdsZUFycm93Q29vcmRzRnJvbS5tYXRjaCgnXlswLTldKyQnKSl7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnLS0gZDogJyArIHNpbmdsZUFycm93Q29vcmRzRnJvbSk7XHJcblx0XHRcdFx0YXJyb3dTdGFydCA9IHRoaXMuQ09PUkRJTkFURVNbc2luZ2xlQXJyb3dDb29yZHNGcm9tXTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRsZXQgc2VtYW50aWNWZXJzaW9uID0gc2luZ2xlQXJyb3dDb29yZHNGcm9tLnNwbGl0KCcuJyk7XHJcblx0XHRcdFx0bGV0IG1ham9yOm51bWJlciA9ICtzZW1hbnRpY1ZlcnNpb25bMF07XHJcblx0XHRcdFx0bGV0IG1pbm9yOm51bWJlciA9ICtzZW1hbnRpY1ZlcnNpb25bMV07XHJcblx0XHRcdFx0bGV0IGM6bnVtYmVyID0gKG1ham9yLTEpKnRoaXMud2lkdGggKyBtaW5vcjtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCctLSBjOiAnICsgYyk7XHJcblx0XHRcdFx0YXJyb3dTdGFydCA9IHRoaXMuQ09PUkRJTkFURVNbY107XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGlmIChzaW5nbGVBcnJvd0Nvb3Jkc1RvLm1hdGNoKCdeWzAtOV0rJCcpKXtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCctLSBkOiAnICsgc2luZ2xlQXJyb3dDb29yZHNUbyk7XHJcblx0XHRcdFx0YXJyb3dFbmQgPSB0aGlzLkNPT1JESU5BVEVTW3NpbmdsZUFycm93Q29vcmRzVG9dO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGxldCBzZW1hbnRpY1ZlcnNpb24gPSBzaW5nbGVBcnJvd0Nvb3Jkc1RvLnNwbGl0KCcuJyk7XHJcblx0XHRcdFx0bGV0IG1ham9yOm51bWJlciA9ICtzZW1hbnRpY1ZlcnNpb25bMF07XHJcblx0XHRcdFx0bGV0IG1pbm9yOm51bWJlciA9ICtzZW1hbnRpY1ZlcnNpb25bMV07XHJcblx0XHRcdFx0bGV0IGM6bnVtYmVyID0gKG1ham9yLTEpKnRoaXMud2lkdGggKyBtaW5vcjtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCctLSBjOiAnICsgYyk7XHJcblx0XHRcdFx0YXJyb3dFbmQgPSB0aGlzLkNPT1JESU5BVEVTW2NdO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0QVJST1dTW2luZGV4KytdID0gWyBhcnJvd1N0YXJ0LCBhcnJvd0VuZCBdO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKGlzRG91YmxlU2lkZWQpIHsgLy8gYWRkIHJldmVyc2UgY29weVxyXG5cdFx0XHRcdEFSUk9XU1tpbmRleCsrXSA9IFsgYXJyb3dFbmQsIGFycm93U3RhcnQgXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly9jb25zb2xlLmxvZygnPDwgZ2V0QXJyb3dDb29yZGluYXRlcywgJyArIEFSUk9XUyk7XHJcblx0XHRyZXR1cm4gQVJST1dTO1xyXG5cdH1cclxuXHRzdGF0aWMgZ2V0M2J5M0NvZGVCbG9ja1RlbXBsYXRlKCk6c3RyaW5nIHtcclxuXHRcdHJldHVybiBERUZBVUxULkNPREVfQkxPQ0tfVEVNUExBVEU7XHJcblx0fVxyXG59OyIsICJpbXBvcnQgeyBNYXJrZG93blJlbmRlckNoaWxkIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBSdWJpa0N1YmVBbGdvcyBmcm9tIFwiLi9tYWluXCI7XHJcbmltcG9ydCB7IE9MTCB9IGZyb20gXCIuL1JDQS1PTEwtQ2FsY3VsYXRpb25zXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE9MTFZpZXcgZXh0ZW5kcyBNYXJrZG93blJlbmRlckNoaWxkIHtcclxuXHRzb3VyY2U6IHN0cmluZztcclxuXHRwbHVnaW46IFJ1YmlrQ3ViZUFsZ29zO1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0c291cmNlOiBzdHJpbmcsXHJcblx0XHRwbHVnaW46IFJ1YmlrQ3ViZUFsZ29zLFxyXG5cdFx0ZWxlbWVudDogSFRNTEVsZW1lbnRcclxuXHQpIHtcclxuXHRcdHN1cGVyKGVsZW1lbnQpO1xyXG5cdFx0dGhpcy5zb3VyY2UgPSBzb3VyY2U7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHR9XHJcblx0XHJcblx0b25sb2FkKCkge1xyXG5cdC8vXHQvKlxyXG5cdC8vXHQgKiBSZWdpc3RlciBsaXN0ZW5lciB3aGljaCBpbnN0YW50bHkgcmVkcmF3cyBydWJpayBjdWJlcyB3aGlsZSBjaGFuZ2luZyBwbHVnaW4gc2V0dGluZ3MuXHJcblx0Ly9cdCAqL1xyXG5cdC8vXHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0Ly9cdFx0dGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuXHQvL1x0XHRcdFwicnViaWs6cmVyZW5kZXItbWFya2Rvd24tY29kZS1ibG9jay1wcm9jZXNzb3JzXCIsXHJcblx0Ly9cdFx0XHR0aGlzLmRpc3BsYXkuYmluZCh0aGlzKVxyXG5cdC8vXHRcdClcclxuXHQvL1x0KTtcclxuXHR9XHJcblx0XHJcblx0ZGlzcGxheSgpIHtcclxuXHRcdHRoaXMuZWxlbWVudC5lbXB0eSgpO1xyXG5cdFx0Y29uc3Qgcm93cyA9IHRoaXMuc291cmNlLnNwbGl0KCdcXG4nKS5maWx0ZXIoKHJvdykgPT4gcm93Lmxlbmd0aCA+IDApO1xyXG5cdFx0bGV0IG9sbERhdGEgPSBuZXcgT0xMKHRoaXMucGx1Z2luLnNldHRpbmdzKTsgXHJcblx0XHRsZXQgY2VsbHMgPSBvbGxEYXRhLmludGVycHJldENvZGVCbG9jayhyb3dzKTtcclxuXHRcdGxldCB3aWR0aFhoZWlnaHQgPSBvbGxEYXRhLmdldERpbWVuc2lvbnMoKTtcclxuXHJcblx0XHRpZiAoZmFsc2UgPT09IG9sbERhdGEuY29kZUJsb2NrSW50ZXJwcmV0YXRpb25TdWNjZXNzZnVsKXtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IFwiLS0tIFJ1YmlrIEN1YmUgT0xMIHBhdHRlcm4gaW50ZXJwcmV0YXRpb24gZmFpbGVkIC0tLVwiIH0pO1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0ZhdWx0eSBpbnB1dDonIH0pO1xyXG5cdFx0XHRsZXQgZXhwbGFuYXRpb25EaXYgPSB0aGlzLmVsZW1lbnQuY3JlYXRlRWwoJ2RpdicpO1xyXG5cdFx0XHRleHBsYW5hdGlvbkRpdi5jcmVhdGVFbCgnYicsIHsgdGV4dDogJ1wiJytvbGxEYXRhLmxhc3ROb25JbnRlcnByZXRhYmxlTGluZSsnXCInLCBjbHM6J3J1YmlrLWN1YmUtd2FybmluZy10ZXh0JyAgfSk7XHJcblx0XHRcdGlmIChvbGxEYXRhLnJlYXNvbkZvckZhaWx1cmUpIHtcclxuXHRcdFx0XHRleHBsYW5hdGlvbkRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnUmVhc29uOiAnK29sbERhdGEucmVhc29uRm9yRmFpbHVyZX0pO1xyXG5cdFx0XHR9XHRcdFx0XHRcclxuXHRcdFx0cmV0dXJuOyBcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IHcgPSB3aWR0aFhoZWlnaHRbMF07IFxyXG5cdFx0bGV0IGggPSB3aWR0aFhoZWlnaHRbMV07IFxyXG5cdFx0Y29uc29sZS5sb2coJ3J1YmlrQ3ViZU9MTDogdz0nK3crJyxoPScraCk7XHJcblx0XHRsZXQgbWFpblN2ZyA9IHRoaXMuZWxlbWVudC5jcmVhdGVTdmcoJ3N2ZycsIHsgYXR0cjogeyB3aWR0aDoyMDAsIGhlaWdodDoyMDAsIHZpZXdCb3g6JzAgMCAnK3crJyAnK2ggfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsXCIgfSk7XHJcblx0XHQvL2xldCBkZWZzID0gbWFpblN2Zy5jcmVhdGVTdmcoJ2RlZnMnKTtcclxuXHRcdC8vbGV0IG1hcmtlciA9IGRlZnMuY3JlYXRlU3ZnKCdtYXJrZXInLCB7IGF0dHI6IHtpZDpcImFycm93aGVhZFwiK29sbERhdGEuYXJyb3dDb2xvciwgbWFya2VyV2lkdGg6XCIxMFwiLCBtYXJrZXJIZWlnaHQ6XCI3XCIsIHJlZlg6XCI5XCIsIHJlZlk6XCIzLjVcIiwgb3JpZW50OlwiYXV0b1wifX0pO1xyXG5cdFx0Ly9tYXJrZXIuY3JlYXRlU3ZnKCdwb2x5Z29uJywgeyBhdHRyOiB7cG9pbnRzOlwiMCAwLCAxMCAzLjUsIDAgN1wiICwgZmlsbDpvbGxEYXRhLmFycm93Q29sb3J9fSk7XHJcblx0XHRcclxuXHRcdC8qIEJsYWNrIGJhc2UgcmVjdCAqL1xyXG5cdFx0Ly9tYWluU3ZnLmNyZWF0ZVN2ZygncmVjdCcsIHsgYXR0cjogeyBmaWxsOicjMCcgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsLXJlY3RcIiB9KTsgXHJcblx0XHRcclxuXHRcdC8qXHJcblx0XHQgKiBFZGdlIHJvd3MvY29sdW1uc1xyXG5cdFx0ICovXHJcblx0XHRsZXQgY3ViZVdpZHRoID0gcm93c1swXS5sZW5ndGg7XHJcblx0XHRsZXQgY3ViZUhlaWdodCA9IHJvd3MubGVuZ3RoO1xyXG5cdFx0IFxyXG5cdFx0LyogdXBwZXIgcm93IGJvcmRlciAqL1xyXG5cdFx0Zm9yIChsZXQgeDpudW1iZXIgPSAwOyB4IDwgY3ViZVdpZHRoLTI7IHgrKykge1xyXG5cdFx0XHRtYWluU3ZnLmNyZWF0ZVN2ZygncmVjdCcsIHsgYXR0cjogeyB4OjUwK3gqMTAwLCB5OjAsIHdpZHRoOicxMDAnLCBoZWlnaHQ6JzUwJywgZmlsbDp0aGlzLmdldENvbG9yKGNlbGxzWzBdW3grMV0pIH0sIGNsczogXCJydWJpay1jdWJlLXJlY3RcIiB9KTsgXHJcblx0XHR9XHJcblx0XHQvKiBsb3dlciByb3cgYm9yZGVyICovXHJcblx0XHRmb3IgKGxldCB4Om51bWJlciA9IDA7IHggPCBjdWJlV2lkdGgtMjsgeCsrKSB7XHJcblx0XHRcdG1haW5TdmcuY3JlYXRlU3ZnKCdyZWN0JywgeyBhdHRyOiB7IHg6NTAreCoxMDAsIHk6aC01MCwgd2lkdGg6JzEwMCcsIGhlaWdodDonNTAnLCBmaWxsOnRoaXMuZ2V0Q29sb3IoY2VsbHNbY2VsbHMubGVuZ3RoLTFdW3grMV0pIH0sIGNsczogXCJydWJpay1jdWJlLXJlY3RcIiB9KTsgXHJcblx0XHR9XHJcblx0XHQvKiBsZWZ0IGNvbHVtbiBib3JkZXIgKi9cclxuXHRcdGZvciAobGV0IHk6bnVtYmVyID0gMDsgeSA8IGN1YmVIZWlnaHQtMjsgeSsrKSB7XHJcblx0XHRcdG1haW5TdmcuY3JlYXRlU3ZnKCdyZWN0JywgeyBhdHRyOiB7IHg6MCwgeTo1MCt5KjEwMCwgd2lkdGg6NTAsIGhlaWdodDoxMDAsIGZpbGw6dGhpcy5nZXRDb2xvcihjZWxsc1t5KzFdWzBdKSB9LCBjbHM6IFwicnViaWstY3ViZS1yZWN0XCIgfSk7IFxyXG5cdFx0fVxyXG5cdFx0LyogcmlnaHQgY29sdW1uIGJvcmRlciAqL1xyXG5cdFx0Zm9yIChsZXQgeTpudW1iZXIgPSAwOyB5IDwgY3ViZUhlaWdodC0yOyB5KyspIHtcclxuXHRcdFx0bWFpblN2Zy5jcmVhdGVTdmcoJ3JlY3QnLCB7IGF0dHI6IHsgeDp3LTUwLCB5OjUwK3kqMTAwLCB3aWR0aDo1MCwgaGVpZ2h0OjEwMCwgZmlsbDp0aGlzLmdldENvbG9yKGNlbGxzW3krMV1bY2VsbHMubGVuZ3RoLTFdKSB9LCBjbHM6IFwicnViaWstY3ViZS1yZWN0XCIgfSk7IFxyXG5cdFx0fVxyXG5cclxuXHRcdC8qXHJcblx0XHQgKiBDZW50ZXIgcm93cy9jb2x1bW5zXHJcblx0XHQgKi9cclxuXHRcdC8qIFZlcnRpY2FsIGxpbmVzICovXHJcblx0XHRmb3IgKGxldCB5Om51bWJlciA9IDA7IHkgPCBjdWJlSGVpZ2h0LTI7IHkrKykge1xyXG5cdFx0XHRmb3IgKGxldCB4Om51bWJlciA9IDA7IHggPCBjdWJlV2lkdGgtMjsgeCsrKSB7XHJcblx0XHRcdFx0bWFpblN2Zy5jcmVhdGVTdmcoJ3JlY3QnLCB7IGF0dHI6IHsgeDo1MCt4KjEwMCwgeTo1MCt5KjEwMCwgd2lkdGg6MTAwLCBoZWlnaHQ6MTAwLCBmaWxsOnRoaXMuZ2V0Q29sb3IoY2VsbHNbeSsxXVt4KzFdKSB9LCBjbHM6IFwicnViaWstY3ViZS1wbGwtbGluZS1ncmlkXCIgfSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKlxyXG5cdFx0ICogQmFja2dyb3VuZCBncmlkOyBzdGF0aWMsIHVucmVzcG9uc2l2ZSwgYmxhY2sgcmVjdGFuZ3VsYXIgbGluZXNcclxuXHRcdCAqL1xyXG5cdFx0LyogVmVydGljYWwgbGluZXMgKi9cclxuXHRcdGZvciAobGV0IHg6bnVtYmVyID0gNTA7IHggPCB3OyB4Kz0xMDApIHtcclxuXHRcdFx0bWFpblN2Zy5jcmVhdGVTdmcoJ2xpbmUnLCB7IGF0dHI6IHsgeDE6eCwgeDI6eCwgeTE6MCwgeTI6aCB9LCBjbHM6IFwicnViaWstY3ViZS1wbGwtbGluZS1ncmlkXCIgfSk7XHJcblx0XHR9XHJcblx0XHQvKiBIb3Jpem9udGFsIGxpbmVzICovIFxyXG5cdFx0Zm9yIChsZXQgeTpudW1iZXIgPSA1MDsgeSA8IGg7IHkrPTEwMCkge1xyXG5cdFx0XHRtYWluU3ZnLmNyZWF0ZVN2ZygnbGluZScsIHsgYXR0cjogeyB4MTowLCB4Mjp3LCB5MTp5LCB5Mjp5IH0sIGNsczogXCJydWJpay1jdWJlLXBsbC1saW5lLWdyaWRcIiB9KTtcclxuXHRcdH1cclxuXHRcclxuXHRcdC8vZm9yIChsZXQgaSA9IDA7IGkgPCBBUlJPV1MubGVuZ3RoOyBpKyspIHtcclxuXHRcdC8vXHRsZXQgYXJyb3cgPSBBUlJPV1NbaV07XHJcblx0XHQvL1x0bGV0IGFycm93U3RhcnRDb29yZCA9IGFycm93WzBdO1xyXG5cdFx0Ly9cdGxldCBhcnJvd0VuZENvb3JkID0gYXJyb3dbMV07XHJcblx0XHQvL1x0Ly9jb25zb2xlLmxvZyhcIkFycm93IGdvZXMgZnJvbSBcIithcnJvd1N0YXJ0Q29vcmQrXCIgdG8gXCIrYXJyb3dFbmRDb29yZCk7XHJcblx0XHQvL1x0bWFpblN2Zy5jcmVhdGVTdmcoJ2xpbmUnLCB7IGF0dHI6IHsgeDE6YXJyb3dTdGFydENvb3JkWzBdLCB4MjphcnJvd0VuZENvb3JkWzBdLCB5MTphcnJvd1N0YXJ0Q29vcmRbMV0sIHkyOmFycm93RW5kQ29vcmRbMV0sXHJcblx0XHQvL1x0XHRcdFx0J21hcmtlci1lbmQnOid1cmwoI2Fycm93aGVhZCcrb2xsRGF0YS5hcnJvd0NvbG9yKycpJywgc3Ryb2tlOm9sbERhdGEuYXJyb3dDb2xvciwgIH0sXHJcblx0XHQvL1x0Y2xzOiBcInJ1YmlrLWN1YmUtcGxsLWxpbmUtYXJyb3dcIiB9KTtcclxuXHRcdC8vfVxyXG5cdFx0Ly9jb25zb2xlLmxvZygnPDwgcnViaWtDdWJlT0xMJyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldENvbG9yKGNvbG9ySW5kZXg6c3RyaW5nKTpzdHJpbmcge1xyXG5cdFx0bGV0IGM6c3RyaW5nID0gJyMwMDAnOyBcclxuXHRcdGlmICghY29sb3JJbmRleCkge1xyXG5cdFx0XHRjID0gJyNmMDAnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3dpdGNoIChjb2xvckluZGV4KSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdGNhc2UgJ3InOiBjID0gJyNjYzAwMDAnOyBicmVhazsgLy8gZGFya2VyIHJlZCAoODAlKVxyXG5cdFx0XHRjYXNlICdSJzogYyA9ICcjZmYwMDAwJzsgYnJlYWs7IC8vIHJlZFxyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSAnbyc6IGMgPSAnI2NjNTAwMCc7IGJyZWFrOyAvLyBkYXJrZXIgb3JhbmdlXHJcblx0XHRcdGNhc2UgJ08nOiBjID0gJyNmZjY0MDAnOyBicmVhazsgLy8gb3JhbmdlXHJcblx0XHRcdFxyXG5cdFx0XHRjYXNlICdiJzogYyA9ICcjMDAwMDlhJzsgYnJlYWs7IC8vIGRhcmtlciBibHVlXHJcblx0XHRcdGNhc2UgJ0InOiBjID0gJyMwMDAwYmInOyBicmVhazsgLy8gYmx1ZVxyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSAnZyc6IGMgPSAnIzAwOWEwMCc7IGJyZWFrOyAvLyBkYXJrZXIgZ3JlZW5cclxuXHRcdFx0Y2FzZSAnRyc6IGMgPSAnIzAwYmIwMCc7IGJyZWFrOyAvLyBncmVlblxyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSAnWSc6IGMgPSAnI2ZmMDAwMCc7IGJyZWFrOyAvLyB5ZWxsb3dcclxuXHRcdFx0Y2FzZSAneSc6IGMgPSAnI2NjMDAwMCc7IGJyZWFrOyAvLyBkYXJrZXIgeWVsbG93XHJcblx0XHRcdFx0XHJcblx0XHRcdGNhc2UgJ1cnOiBjID0gJyNmZmZmZmYnOyBicmVhazsgLy8gd2hpdGVcclxuXHRcdFx0Y2FzZSAndyc6IGMgPSAnI2NjY2NjYyc7IGJyZWFrOyAvLyBncmV5ICg4MCUpXHJcblx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRjYXNlICcuJzogYyA9ICcjNDQ0JzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgJzAnOiBjID0gJyM0NDQnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAnMSc6IGMgPSAnI2ZmMCc7IGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OiBjID0gJyMwMDAnOyBicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y29uc29sZS5sb2coXCJnZXRDb2xvcigpICdcIitjb2xvckluZGV4K1wiJyA9PiAnXCIrYytcIidcIilcclxuXHRcdHJldHVybiBjO1xyXG5cdH1cclxuXHJcbn1cclxuIiwgImltcG9ydCB7IE1hcmtkb3duUmVuZGVyQ2hpbGQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IFJ1YmlrQ3ViZUFsZ29zIGZyb20gXCIuL21haW5cIjtcclxuaW1wb3J0IHsgUExMIH0gZnJvbSBcIi4vUkNBLVBMTC1DYWxjdWxhdGlvbnNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUExMVmlldyBleHRlbmRzIE1hcmtkb3duUmVuZGVyQ2hpbGQge1xyXG5cdHNvdXJjZTogc3RyaW5nO1xyXG5cdHBsdWdpbjogUnViaWtDdWJlQWxnb3M7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRzb3VyY2U6IHN0cmluZyxcclxuXHRcdHBsdWdpbjogUnViaWtDdWJlQWxnb3MsXHJcblx0XHRlbGVtZW50OiBIVE1MRWxlbWVudFxyXG5cdCkge1xyXG5cdFx0c3VwZXIoZWxlbWVudCk7XHJcblx0XHR0aGlzLnNvdXJjZSA9IHNvdXJjZTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuXHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdH1cclxuXHRcclxuXHRvbmxvYWQoKSB7XHJcblx0XHQvKlxyXG5cdFx0ICogUmVnaXN0ZXIgbGlzdGVuZXIgd2hpY2ggaW5zdGFudGx5IHJlZHJhd3MgcnViaWsgY3ViZXMgd2hpbGUgY2hhbmdpbmcgcGx1Z2luIHNldHRpbmdzLlxyXG5cdFx0ICovXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcblx0XHRcdFx0XCJydWJpazpyZXJlbmRlci1tYXJrZG93bi1jb2RlLWJsb2NrLXByb2Nlc3NvcnNcIixcclxuXHRcdFx0XHR0aGlzLmRpc3BsYXkuYmluZCh0aGlzKVxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdH1cclxuXHRcclxuXHRkaXNwbGF5KCkge1xyXG5cdFx0dGhpcy5lbGVtZW50LmVtcHR5KCk7XHJcblx0XHRjb25zdCByb3dzID0gdGhpcy5zb3VyY2Uuc3BsaXQoJ1xcbicpLmZpbHRlcigocm93KSA9PiByb3cubGVuZ3RoID4gMCk7XHJcblx0XHRsZXQgcGxsRGF0YSA9IG5ldyBQTEwodGhpcy5wbHVnaW4uc2V0dGluZ3MpOyBcclxuXHRcdHBsbERhdGEuaW50ZXJwcmV0Q29kZUJsb2NrKHJvd3MpOyBcclxuXHRcdGxldCB3aWR0aFhoZWlnaHQgPSBwbGxEYXRhLmdldEN1YmVTaXplKCk7XHJcblx0XHRsZXQgQVJST1dTID0gcGxsRGF0YS5nZXRBcnJvd0Nvb3JkaW5hdGVzKCk7XHJcblxyXG5cdFx0aWYgKGZhbHNlID09PSBwbGxEYXRhLmNvZGVCbG9ja0ludGVycHJldGF0aW9uU3VjY2Vzc2Z1bCl7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBcIi0tLSBSdWJpayBDdWJlIFBMTCBwYXR0ZXJuIGludGVycHJldGF0aW9uIGZhaWxlZCAtLS1cIiB9KTtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdGYXVsdHkgaW5wdXQ6JyB9KTtcclxuXHRcdFx0bGV0IGV4cGxhbmF0aW9uRGl2ID0gdGhpcy5lbGVtZW50LmNyZWF0ZUVsKCdkaXYnKTtcclxuXHRcdFx0ZXhwbGFuYXRpb25EaXYuY3JlYXRlRWwoJ2InLCB7IHRleHQ6ICdcIicrcGxsRGF0YS5sYXN0Tm9uSW50ZXJwcmV0YWJsZUxpbmUrJ1wiJywgY2xzOidydWJpay1jdWJlLXdhcm5pbmctdGV4dCcgIH0pO1xyXG5cdFx0XHRpZiAocGxsRGF0YS5yZWFzb25Gb3JGYWlsdXJlKSB7XHJcblx0XHRcdFx0ZXhwbGFuYXRpb25EaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1JlYXNvbjogJytwbGxEYXRhLnJlYXNvbkZvckZhaWx1cmV9KTtcclxuXHRcdFx0fVx0XHRcdFx0XHJcblx0XHRcdHJldHVybjsgXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB3ID0gd2lkdGhYaGVpZ2h0WzBdOyBcclxuXHRcdGxldCBoID0gd2lkdGhYaGVpZ2h0WzFdOyBcclxuXHRcdGxldCBtYWluU3ZnID0gdGhpcy5lbGVtZW50LmNyZWF0ZVN2Zygnc3ZnJywgeyBhdHRyOiB7IHZpZXdCb3g6JzAgMCAnK3crJyAnK2gsIHdpZHRoOncsIGhlaWdodDpoIH0sIGNsczogXCJydWJpay1jdWJlLXBsbFwiIH0pO1xyXG5cdFx0bGV0IGRlZnMgPSBtYWluU3ZnLmNyZWF0ZVN2ZygnZGVmcycpO1xyXG5cdFx0bGV0IG1hcmtlciA9IGRlZnMuY3JlYXRlU3ZnKCdtYXJrZXInLCB7IGF0dHI6IHtpZDpcImFycm93aGVhZFwiK3BsbERhdGEuYXJyb3dDb2xvciwgbWFya2VyV2lkdGg6XCIxMFwiLCBtYXJrZXJIZWlnaHQ6XCI3XCIsIHJlZlg6XCI5XCIsIHJlZlk6XCIzLjVcIiwgb3JpZW50OlwiYXV0b1wifX0pO1xyXG5cdFx0bWFya2VyLmNyZWF0ZVN2ZygncG9seWdvbicsIHsgYXR0cjoge3BvaW50czpcIjAgMCwgMTAgMy41LCAwIDdcIiAsIGZpbGw6cGxsRGF0YS5hcnJvd0NvbG9yfX0pO1xyXG5cdFx0XHJcblx0XHQvKiBZZWxsb3cgYmFzZSByZWN0ICovXHJcblx0XHRtYWluU3ZnLmNyZWF0ZVN2ZygncmVjdCcsIHsgYXR0cjogeyBmaWxsOnBsbERhdGEuY3ViZUNvbG9yIH0sIGNsczogXCJydWJpay1jdWJlLXBsbC1yZWN0XCIgfSk7IFxyXG5cdFx0XHJcblx0XHQvKlxyXG5cdFx0ICogQmFja2dyb3VuZCBncmlkOyBzdGF0aWMsIHVucmVzcG9uc2l2ZSwgYmxhY2sgcmVjdGFuZ3VsYXIgbGluZXNcclxuXHRcdCAqL1xyXG5cdFx0LyogVmVydGljYWwgbGluZXMgKi9cclxuXHRcdGZvciAobGV0IHg6bnVtYmVyID0gMTAwOyB4IDwgdzsgeCs9MTAwKSB7XHJcblx0XHRcdG1haW5TdmcuY3JlYXRlU3ZnKCdsaW5lJywgeyBhdHRyOiB7IHgxOngsIHgyOngsIHkxOjAsIHkyOmggfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsLWxpbmUtZ3JpZFwiIH0pO1xyXG5cdFx0fVxyXG5cdFx0LyogSG9yaXpvbnRhbCBsaW5lcyAqLyBcclxuXHRcdGZvciAobGV0IHk6bnVtYmVyID0gMTAwOyB5IDwgaDsgeSs9MTAwKSB7XHJcblx0XHRcdG1haW5TdmcuY3JlYXRlU3ZnKCdsaW5lJywgeyBhdHRyOiB7IHgxOjAsIHgyOncsIHkxOnksIHkyOnkgfSwgY2xzOiBcInJ1YmlrLWN1YmUtcGxsLWxpbmUtZ3JpZFwiIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgQVJST1dTLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxldCBhcnJvdyA9IEFSUk9XU1tpXTtcclxuXHRcdFx0bGV0IGFycm93U3RhcnRDb29yZCA9IGFycm93WzBdO1xyXG5cdFx0XHRsZXQgYXJyb3dFbmRDb29yZCA9IGFycm93WzFdO1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKFwiQXJyb3cgZ29lcyBmcm9tIFwiK2Fycm93U3RhcnRDb29yZCtcIiB0byBcIithcnJvd0VuZENvb3JkKTtcclxuXHRcdFx0bWFpblN2Zy5jcmVhdGVTdmcoJ2xpbmUnLCB7IGF0dHI6IHsgeDE6YXJyb3dTdGFydENvb3JkWzBdLCB4MjphcnJvd0VuZENvb3JkWzBdLCB5MTphcnJvd1N0YXJ0Q29vcmRbMV0sIHkyOmFycm93RW5kQ29vcmRbMV0sXHJcblx0XHRcdFx0XHRcdCdtYXJrZXItZW5kJzondXJsKCNhcnJvd2hlYWQnK3BsbERhdGEuYXJyb3dDb2xvcisnKScsIHN0cm9rZTpwbGxEYXRhLmFycm93Q29sb3IsICB9LFxyXG5cdFx0XHRjbHM6IFwicnViaWstY3ViZS1wbGwtbGluZS1hcnJvd1wiIH0pO1xyXG5cdFx0fVxyXG5cdFx0Ly9jb25zb2xlLmxvZygnPDwgcnViaWtDdWJlUExMJyk7XHJcblx0fVxyXG5cclxuXHJcbn1cclxu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UUFBUTtBQUFBLFFBQWE7QUFBQSxRQUNyRixLQUFLO0FBQUEsTUFBNEIsQ0FBQztBQUFBLElBQ25DO0FBQUEsRUFFRDtBQUdEOzs7QUwvRUEsSUFBcUIsaUJBQXJCLGNBQTRDLHdCQUFPO0FBQUEsRUFFbEQsTUFBTSxTQUFTO0FBRWQsVUFBTSxLQUFLLGFBQWE7QUFFeEIsU0FBSztBQUFBLE1BQW9DO0FBQUEsTUFDeEMsQ0FBQyxRQUFRLElBQUksUUFBUTtBQUNwQixZQUFJLFNBQVMsSUFBSSxRQUFRLFFBQVEsTUFBTSxFQUFFLENBQUM7QUFBQSxNQUMzQztBQUFBLElBQ0Q7QUFFQSxTQUFLO0FBQUEsTUFBb0M7QUFBQSxNQUN4QyxDQUFDLFFBQVEsSUFBSSxRQUFRO0FBQ3BCLFlBQUksU0FBUyxJQUFJLFFBQVEsUUFBUSxNQUFNLEVBQUUsQ0FBQztBQUFBLE1BQzNDO0FBQUEsSUFDRDtBQUVBLFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sZ0JBQWdCLENBQUMsUUFBUSxTQUFTO0FBQ2pDLGVBQU8saUJBQWlCLElBQUkseUJBQXlCLENBQUM7QUFBQSxNQUN2RDtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sZ0JBQWdCLENBQUMsUUFBUSxTQUFTO0FBQ2pDLGVBQU8saUJBQWlCLElBQUkseUJBQXlCLENBQUM7QUFBQSxNQUN2RDtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUs7QUFBQSxNQUNKLElBQUk7QUFBQSxRQUNILEtBQUs7QUFBQSxRQUNMO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQUEsRUFFQSxXQUFXO0FBQUEsRUFDWDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDMUU7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFDakMsU0FBSyxJQUFJLFVBQVU7QUFBQSxNQUNsQjtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiREVGQVVMVCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIl0KfQo=
